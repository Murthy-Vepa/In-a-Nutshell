<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='80' font-size='80'>üöÄ</text></svg>" />
  <title>GitHub Copilot SDK - In a Nutshell</title>
  <meta name="description" content="A comprehensive guide to GitHub Copilot SDK for building AI agents">
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    :root{
      --bg: #ffffff;
      --fg: #0f172a;
      --muted: #64748b;
      --accent: #3b82f6;
      --accent-light: #dbeafe;
      --border: #e2e8f0;
      --sidebar-bg: #ffffff;
      --sidebar-fg: #0f172a;
      --code-bg: linear-gradient(90deg, rgba(59, 130, 246, 0.08) 0%, rgba(59, 130, 246, 0.12) 100%);
      --focus: #10b981;
      --shadow-sm: 0 1px 3px rgba(0,0,0,0.08);
      --shadow-md: 0 4px 6px rgba(0,0,0,0.1), 0 2px 4px rgba(0,0,0,0.06);
      --shadow-lg: 0 10px 20px rgba(0,0,0,0.12), 0 6px 6px rgba(0,0,0,0.08);
      --gradient: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
    }
    
    /* Bootstrap Gradient Utility Classes */
    .bg-gradient-blue { background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%) !important; }
    .bg-gradient-green { background: linear-gradient(135deg, #dcfce7 0%, #bbf7d0 100%) !important; }
    .bg-gradient-yellow { background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%) !important; }
    .bg-gradient-pink { background: linear-gradient(135deg, #fce7f3 0%, #fbcfe8 100%) !important; }
    .bg-gradient-purple { background: linear-gradient(135deg, #e9d5ff 0%, #d8b4fe 100%) !important; }
    .bg-gradient-teal { background: linear-gradient(135deg, #ccfbf1 0%, #99f6e4 100%) !important; }
    .bg-gradient-blue-dark { background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%) !important; }
    .bg-gradient-gray { background: linear-gradient(135deg, #64748b 0%, #475569 100%) !important; }
    .bg-gradient-purple-dark { background: linear-gradient(135deg, #a855f7 0%, #9333ea 100%) !important; }
    .bg-gradient-teal-dark { background: linear-gradient(135deg, #14b8a6 0%, #0d9488 100%) !important; }
    .bg-gradient-green-dark { background: linear-gradient(135deg, #10b981 0%, #059669 100%) !important; }
    .bg-gradient-red { background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%) !important; }
    .bg-gradient-green-light { background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%) !important; }
    .bg-gradient-blue-sky { background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%) !important; }
    .bg-gradient-red-dark { background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%) !important; }
    .bg-gradient-indigo { background: linear-gradient(135deg, #4f46e5 0%, #4338ca 100%) !important; }
    .bg-gradient-green-medium { background: linear-gradient(135deg, #10b981 0%, #059669 100%) !important; }
    .bg-gradient-orange { background: linear-gradient(135deg, #f97316 0%, #ea580c 100%) !important; }
    .bg-gradient-violet { background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%) !important; }
    .bg-gradient-lime { background: linear-gradient(135deg, #84cc16 0%, #65a30d 100%) !important; }
    .bg-gradient-sky { background: linear-gradient(135deg, #0284c7 0%, #0369a1 100%) !important; }
    
    /* Apply theme colors to Bootstrap elements */
    body { background-color: var(--bg); color: var(--fg); overflow: hidden; }
    .navbar { background-color: var(--fg) !important; border-bottom: none !important; box-shadow: var(--shadow-md) !important; }
    .navbar-brand { cursor: pointer; color: var(--bg) !important; font-weight: 600; letter-spacing: 0px; }
    .navbar-toggler-icon { 
      filter: invert(1);
      background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%2896, 165, 250, 0.9%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e");
    }
    
    .btn-outline-secondary { border-color: var(--border) !important; color: var(--fg) !important; }
    .btn-outline-secondary:hover { background-color: var(--accent-light) !important; border-color: var(--accent) !important; color: var(--accent) !important; }
    
    /* Sidebar - Modern Design */
    nav.sidebar { 
      background: linear-gradient(180deg, #f3f4f6 0%, #e5e7eb 100%); 
      border-right: 1px solid rgba(0, 0, 0, 0.05) !important;  
      overflow-y: auto; 
      box-shadow: 4px 0 16px rgba(0, 0, 0, 0.06);
      padding-top: 0;
    }
    
    .menu-header {  
      background: linear-gradient(135deg, rgba(0, 0, 0, 0.15), rgba(0, 0, 0, 0.1) 100%);
      font-weight: bold; 
      padding: 1.25rem 1.25rem; 
      letter-spacing: 0px; 
      font-size: 1.1rem;
      position: relative;
      overflow: hidden;
      border: none;
      border-bottom: 2px solid #a5aab3;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.12);
      color: #0c346c;
      text-shadow: none;
      margin: 0;
      text-transform: none;
    }
    .menu-header::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.15), transparent);
      transition: left 0.6s ease;
    }
    .menu-header:hover::before {
      left: 100%;
    }
    .menu-header::after {
      content: 'üìã';
      position: absolute;
      right: 1.5rem;
      top: 50%;
      transform: translateY(-50%);
      font-size: 1.3rem;
      opacity: 0.9;
      filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.2));
    }
    
    .toc { 
      list-style: none; 
      padding: 0rem 0; 
      margin: 0; 
      background: transparent;
    }
    .toc li { 
      margin: 0; 
    }
    
    /* Section grouping */
    .toc li[data-group="overview"] { margin-bottom: 0.75rem; }
    .toc li[data-group="solid"]:first-of-type { 
      margin-top: 1rem; 
      border-top: 2px solid rgba(59, 130, 246, 0.15);
      padding-top: 1rem;
    }
    .toc li[data-group="other-principles"]:first-of-type { 
      margin-top: 1rem; 
      border-top: 2px solid rgba(16, 185, 129, 0.15);
      padding-top: 1rem;
    }
    .toc li[data-group="resources"] { 
      margin-top: 1rem; 
      border-top: 2px solid rgba(100, 116, 139, 0.15);
      padding-top: 1rem;
    }
    
    .list-group-item { 
      background: transparent; 
      border-color: transparent; 
      padding: 0; 
      margin: 0.25rem 0.75rem; 
      border-radius: 0rem;
      transition: all 0.2s ease;
    }
    .list-group-item a { 
      color: #1f2937; 
      text-decoration: none; 
      display: flex; 
      flex-direction: column; 
      align-items: flex-start; 
      gap: 0.4rem; 
      border-left: 3px solid transparent; 
      padding: 0.85rem 1.25rem; 
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); 
      font-weight: 500; 
      border-radius: 0rem;
      font-size: 0.95rem;
      position: relative;
      overflow: hidden;
      background: linear-gradient(90deg, rgba(255, 255, 255, 0.4) 0%, rgba(255, 255, 255, 0.1) 100%);
      border: 1px solid rgba(0, 0, 0, 0.06);
      -webkit-backdrop-filter: blur(10px);
      backdrop-filter: blur(10px);
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
    }
    .list-group-item a::before {
      content: '';
      position: absolute;
      left: 0;
      top: 0;
      height: 100%;
      width: 4px;
      background: linear-gradient(180deg, #3b82f6 0%, #2563eb 100%);
      transform: scaleY(0);
      transition: transform 0.3s ease;
      border-radius: 0 0px 0px 0;
    }
    .list-group-item a::after {
      content: '‚ñ∂';
      position: absolute;
      right: 1rem;
      top: 50%;
      transform: translateY(-50%) scale(0.7);
      font-size: 0.7rem;
      color: #9ca3af;
      opacity: 0;
      transition: all 0.3s ease;
    }
    .list-group-item a:hover { 
      background: linear-gradient(90deg, rgba(59, 130, 246, 0.15) 0%, rgba(59, 130, 246, 0.08) 100%); 
      border-left-color: transparent;
      color: #1e40af;
      box-shadow: 0 4px 12px rgba(59, 130, 246, 0.2), 0 2px 4px rgba(0, 0, 0, 0.08);
      border-color: rgba(59, 130, 246, 0.2);
      text-decoration: none;
    }
    .list-group-item a:hover::before {
      transform: scaleY(1);
    }
    .list-group-item a:hover::after {
      opacity: 1;
      transform: translateY(-50%) scale(1);
      color: #3b82f6;
    }
    .list-group-item a.active { 
      background: linear-gradient(90deg, rgba(59, 130, 246, 0.22) 0%, rgba(59, 130, 246, 0.12) 100%); 
      color: #1e40af; 
      font-weight: 600; 
      border-left-color: transparent;
      box-shadow: 0 4px 16px rgba(59, 130, 246, 0.25), inset 0 1px 0 rgba(255, 255, 255, 0.3);
      border-color: rgba(59, 130, 246, 0.3);
    }
    .list-group-item a.active::before {
      transform: scaleY(1);
      background: linear-gradient(180deg, #3b82f6 0%, #2563eb 100%);
      width: 5px;
      box-shadow: 0 0 8px rgba(59, 130, 246, 0.5);
    }
    .list-group-item a.active::after {
      opacity: 1;
      color: #2563eb;
      transform: translateY(-50%) scale(1);
    }
    .list-group-item a.active:hover { 
      background: linear-gradient(90deg, rgba(59, 130, 246, 0.28) 0%, rgba(59, 130, 246, 0.16) 100%); 
      box-shadow: 0 6px 20px rgba(59, 130, 246, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.4);
    }
    
    /* Sub-items tree connectors */
    .list-group-sub-item a::before { 
      content: '‚îú‚îÄ';
      font-size: 0.85rem;
      margin-right: 0.5rem;
      color: #6b7280;
      z-index: 1;
      position: relative;
    }
    
    /* Sub-items styling - similar to main items but smaller and indented */
    .list-group-sub-item {
      background: transparent; 
      border-color: transparent; 
      padding: 0px; 
      margin: 0.2rem 0.75rem 0.2rem 1.5rem;
      border-radius: 0rem;
      transition: all 0.2s ease;
      position: relative;
      list-style-type: none;
    }
    .list-group-sub-item::before {
      content: '';
      position: absolute;
      left: 0;
      top: 0;
      height: 100%;
      width: 4px;
      background: linear-gradient(180deg, #3b82f6 0%, #2563eb 100%);
      transform: scaleY(0);
      transition: transform 0.3s ease;
      border-radius: 0 0px 0px 0;
      z-index: 1;
    }
    .list-group-sub-item a {
      color: #1f2937; 
      text-decoration: none; 
      display: block;
      border-left: 3px solid transparent; 
      padding: 0.65rem 1rem 0.65rem 2.00rem;
      transition: all 0.2s ease; 
      font-weight: 500; 
      border-radius: 0rem;
      font-size: 0.8125rem;
      line-height: 1.4;
      position: relative;
      overflow: hidden;
      background: rgba(255, 255, 255, 0.5);
      border: 1px solid rgba(0, 0, 0, 0.04);
      box-shadow: 0 1px 2px rgba(0, 0, 0, 0.04);
    }
    
    /* Sub-items hover and active states - same as main items */
    .list-group-sub-item a::after {
      content: '‚ñ∂';
      position: absolute;
      right: 1rem;
      top: 50%;
      transform: translateY(-50%) scale(0.7);
      font-size: 0.7rem;
      color: #9ca3af;
      opacity: 0;
      transition: all 0.3s ease;
    }
    
    .list-group-sub-item:hover::before {
      transform: scaleY(1);
    }
    .list-group-sub-item a:hover { 
      background: linear-gradient(90deg, rgba(59, 130, 246, 0.15) 0%, rgba(59, 130, 246, 0.08) 100%); 
      border-left-color: transparent;
      color: #1e40af;
      box-shadow: 0 4px 12px rgba(59, 130, 246, 0.2), 0 2px 4px rgba(0, 0, 0, 0.08);
      border-color: rgba(59, 130, 246, 0.2);
      text-decoration: none;
    }
    .list-group-sub-item a:hover::after {
      opacity: 1;
      transform: translateY(-50%) scale(1);
      color: #3b82f6;
    }
    
    .list-group-sub-item.active::before {
      transform: scaleY(1);
      width: 5px;
      box-shadow: 0 0 8px rgba(59, 130, 246, 0.5);
    }
    .list-group-sub-item a.active { 
      background: linear-gradient(90deg, rgba(59, 130, 246, 0.22) 0%, rgba(59, 130, 246, 0.12) 100%); 
      color: #1e40af; 
      font-weight: 600; 
      border-left-color: transparent;
      box-shadow: 0 4px 16px rgba(59, 130, 246, 0.25), inset 0 1px 0 rgba(255, 255, 255, 0.3);
      border-color: rgba(59, 130, 246, 0.3);
    }
    .list-group-sub-item a.active::after {
      opacity: 1;
      color: #2563eb;
      transform: translateY(-50%) scale(1);
    }
    .list-group-sub-item a.active:hover { 
      background: linear-gradient(90deg, rgba(59, 130, 246, 0.28) 0%, rgba(59, 130, 246, 0.16) 100%); 
      box-shadow: 0 6px 20px rgba(59, 130, 246, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.4);
    }
    
    .list-group-item a::after {
      content: '‚ñ∂';
      position: absolute;
      right: 1rem;
      top: 50%;
      transform: translateY(-50%) scale(0.7);
      font-size: 0.7rem;
      color: #9ca3af;
      opacity: 0;
      transition: all 0.3s ease;
    }
    
    .list-group-item a:hover { 
      background: linear-gradient(90deg, rgba(59, 130, 246, 0.15) 0%, rgba(59, 130, 246, 0.08) 100%); 
      border-left-color: transparent;
      color: #1e40af;
      box-shadow: 0 4px 12px rgba(59, 130, 246, 0.2), 0 2px 4px rgba(0, 0, 0, 0.08);
      border-color: rgba(59, 130, 246, 0.2);
      text-decoration: none;
    }
    .list-group-item a:hover::before {
      transform: scaleY(1);
    }
    .list-group-item a:hover::after {
      opacity: 1;
      transform: translateY(-50%) scale(1);
      color: #3b82f6;
    }
    .list-group-item a.active { 
      background: linear-gradient(90deg, rgba(59, 130, 246, 0.22) 0%, rgba(59, 130, 246, 0.12) 100%); 
      color: #1e40af; 
      font-weight: 600; 
      border-left-color: transparent;
      box-shadow: 0 4px 16px rgba(59, 130, 246, 0.25), inset 0 1px 0 rgba(255, 255, 255, 0.3);
      border-color: rgba(59, 130, 246, 0.3);
    }
    .list-group-item a.active::after {
      opacity: 1;
      color: #2563eb;
      transform: translateY(-50%) scale(1);
    }
    .list-group-item a.active:hover { 
      background: linear-gradient(90deg, rgba(59, 130, 246, 0.28) 0%, rgba(59, 130, 246, 0.16) 100%); 
      box-shadow: 0 6px 20px rgba(59, 130, 246, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.4);
    }
    
    /* Badge styling */
    .badge { font-size: 0.8rem; padding: 0.15rem 0.4rem; background: var(--accent-light); color: var(--accent); border: 1px solid var(--accent); font-weight: 600; border-radius: 0.25rem; font-style: normal; line-height: 1.2; opacity: 0.9; }
    .badge { background: var(--accent); color: white; border: none; font-size: 0.6rem; padding: 0.25rem 0.5rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px; display: inline-block; margin-top: 0.5rem; margin-right: 0.35rem; }
    .list-group-item a:hover .badge { opacity: 1; background: var(--accent); color: white; }
    .list-group-item a.active .badge { background: rgba(255, 255, 255, 0.3); color: white; border-color: rgba(255, 255, 255, 0.6); font-weight: 600; opacity: 1; }
        
    /* Content */
    .content { width: 100%; max-width: 100%; margin: 0 auto; background: #ffffff; padding: 2rem; border-radius: 0.75rem; box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08); }
    section { display: none !important; margin-bottom: 2rem; }
    section.active { display: block !important; }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    
    h1 { font-size: 2rem; font-weight: 700; margin: 1rem 0 0.25rem 0; letter-spacing: -0.5px; color: var(--fg); display: block; border: none; }
    h2 { font-size: 1.5rem; font-weight: 600; margin: 1.5rem 0 0.75rem 0; color: var(--fg); border-bottom: 2px solid var(--accent-light); padding-bottom: 0.5rem; }
    h3 { font-size: 1.1rem; color: var(--accent); font-weight: 600; margin: 1rem 0 0.5rem 0; }
    h4 { font-size: 0.8rem; color: var(--fg); font-weight: 600; margin: 0.75rem 0 0.4rem 0; }
    p { margin: 1rem 0; line-height: 1.65; color: var(--fg); }
    ul, ol { margin: 1rem 0; padding-left: 2rem; }
    li { margin: 0.5rem 0; color: var(--fg); }
    
    code { background: var(--code-bg); border: 1px solid var(--border); padding: 0.2rem 0.5rem; font-family: ui-monospace, 'Cascadia Code', 'Source Code Pro', monospace; font-size: 0.9em; color: var(--accent); border-radius: 0.5rem; }
    pre { background: var(--code-bg); border: 0px solid var(--border); padding: 1rem; border-radius: 0.5rem; overflow: auto; box-shadow: var(--shadow-sm); margin: 1rem 0; }
    pre code { padding: 0; background: transparent; border: none; color: var(--fg); }
    
    .callout { border-left: 5px solid var(--accent); background: var(--accent-light); padding: 1rem 1.2rem; margin: 1.5rem 0; border-radius: 0.5rem; box-shadow: var(--shadow-sm); font-weight: 500; color: var(--fg); }
    
    /* Table styling */
    .table { color: var(--fg); }
    .table thead th { background: var(--accent-light); color: var(--accent); border-color: var(--border); font-weight: 600; }
    .table tbody td { border-color: var(--border); }
    .table-striped tbody tr:nth-of-type(odd) { background-color: rgba(0,0,0,0.02); }
    .table-striped tbody tr:hover { background-color: var(--accent-light); }
    
    /* Controls/Pagination */
    .controls { opacity: 0.5; position: fixed; bottom: 0.25rem; right: 1rem; width: auto; z-index: 1000; background: transparent; display: flex; align-items: center; justify-content: center; gap: 0rem; padding: 0; min-height: 40px; }
    @media (max-width: 991px) {
      .controls { bottom: 0.25rem; right: 1rem; }
      .menu-header { color: var(--focus); }
    }
    .controls:hover { opacity: 1; }
    
    .page-indicator { color: var(--accent); font-weight: 600; font-size: 0.875rem; }
    .btn-group .btn { margin: 0px 2px; padding: 0.2rem 0.5rem; background: var(--accent); color: white; border-color: var(--accent); font-size: 1rem; font-weight: bold; }
    .btn-group .btn:hover { background: var(--accent); }
    .btn-group .btn + .btn { margin-left: -1px; }
    
    /* Mobile/Offcanvas */
    .offcanvas { background: var(--bg) !important; }
    .offcanvas-header { border-bottom: 1px solid var(--border); }
    .offcanvas-title { color: var(--fg); font-weight: 600; }
    .btn-close { color: var(--fg); }
    
    /* Scrollbar */
    nav.sidebar::-webkit-scrollbar { width: 6px; }
    nav.sidebar::-webkit-scrollbar-track { background: rgba(0, 0, 0, 0.05); }
    nav.sidebar::-webkit-scrollbar-thumb { background: rgba(0, 0, 0, 0.2); border-radius: 0px; }
    nav.sidebar::-webkit-scrollbar-thumb:hover { background: rgba(0, 0, 0, 0.3); }
    
    /* Mermaid Diagrams */
    .mermaid {
      background: #ffffff;
      border: 1px solid #e2e8f0;
      border-radius: 0.5rem;
      padding: 2rem;
      margin: 1.5rem 0;
      min-height: 400px;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: visible;
      position: relative;
    }
    .mermaid.rendered {
      min-height: 0;
    }
    .mermaid svg {
      max-width: 100%;
      height: auto;
      min-height: 300px;
      transition: transform 0.3s ease;
      transform-origin: center center;
    }
    .mermaid.zoomed {
      overflow: auto;
      cursor: grab;
    }
    .mermaid.zoomed:active {
      cursor: grabbing;
    }
    .mermaid svg text {
      font-size: 14px !important;
      font-family: 'Segoe UI', system-ui, -apple-system, sans-serif !important;
    }
    
    /* Mermaid title styling */
    .mermaid svg text, .diagram-modal-content svg text {
      font-size: 1rem !important;
      font-weight: bold !important;
      fill: var(--fg) !important;
      font-family: 'Segoe UI', system-ui, -apple-system, sans-serif !important;
    }

    .mermaid svg *
    {
        color: #333;
    }

    .mermaid[data-processed="true"] {
      min-height: 0;
    }
    
    .mermaid svg {
      max-width: 100%;
      height: auto;
      display: inline-block;
    }
    
    /* Zoom controls */
    .zoom-controls {
      position: absolute;
      top: 10px;
      right: 10px;
      z-index: 10;
      opacity: 0.5;
      transition: opacity 0.3s ease;
    }
    .mermaid:hover .zoom-controls {
      opacity: 1;
    }
    .zoom-btn {
      background: var(--accent);
      color: white;
      border: none;
      border-radius: 0.25rem;
      width: 32px;
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-size: 16px;
      font-weight: bold;
      box-shadow: 0 2px 4px rgba(0,0,0,0.2);
      transition: all 0.2s ease;
    }
    .zoom-btn:hover {
      background: #2563eb;
      transform: scale(1.1);
    }

    /* Modal for diagram zoom */
    .diagram-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0, 0, 0, 0.95);
      z-index: 9999;
      align-items: center;
      justify-content: center;
      padding: 0;
    }
    .diagram-modal.active {
      display: flex;
    }
    .diagram-modal-content {
      position: relative;
      width: 100%;
      height: 100%;
      background: white;
      border-radius: 0;
      padding: 3rem 3rem 3rem 3rem;
      overflow: auto;
      display: flex;
      align-items: flex-start;
      justify-content: center;
    }
    .diagram-modal-content svg {
      max-width: 100%;
      height: auto;
    }
    .modal-close {
      position: fixed;
      top: 1.5rem;
      right: 1.5rem;
      background: #ef4444;
      color: white;
      border: none;
      border-radius: 50%;
      width: 32px;
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-size: 16px;
      font-weight: bold;
      box-shadow: 0 4px 8px rgba(0,0,0,0.3);
      transition: all 0.2s ease;
      z-index: 10000;
    }
    .modal-close:hover {
      background: #dc2626;
      transform: scale(1.1);
    }
    .modal-zoom-controls {
      position: fixed;
      bottom: 1.5rem;
      right: 1.5rem;
      display: flex;
      gap: 0.5rem;
      z-index: 10000;
      padding: 0rem;
      border-radius: 0.4rem;
    }
    .modal-zoom-btn {
      background: var(--accent);
      color: white;
      border: none;
      border-radius: 0.25rem;
      width: 32px;
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-size: 16px;
      font-weight: bold;
      box-shadow: 0 2px 4px rgba(0,0,0,0.2);
      transition: all 0.2s ease;
    }
    .modal-zoom-btn:hover {
      background: #2563eb;
      transform: scale(1.1);
    }
    
    /* Utilities */
    .search { height: 0; overflow: hidden; padding: 0 !important; }
    .search input { display: none; }
    .min-vh-100 { min-height: 100vh; }
    .skip-link { position: absolute; left: -9999px; top: auto; width: 1px; height: 1px; overflow: hidden; }
    .skip-link:focus { position: static; width: auto; height: auto; padding: 0.4rem 0.6rem; background: var(--accent); color: white; border-radius: 0.4rem; }
    
    /* Override Bootstrap defaults for theme */
    a { color: var(--accent); }
    a:hover { color: var(--accent); text-decoration: underline; }
    
    /* Responsive - keep sidebar visible on desktop, offcanvas on mobile */
    @media (max-width: 991px) {
      nav.sidebar { display: none; }
      #main { width: 100%; }
      .row { --bs-gutter-x: 0; }
    }
    
    /* Layout - prevent unnecessary scrolling */
    html, body { height: 100%; margin: 0; }
    #appContainer { display: flex; flex-direction: column; height: calc(100vh - 50px); }
    #mainRow { flex: 1; overflow: hidden; display: flex; }
    nav.sidebar { overflow-y: auto; max-height: 100%; position: relative; padding-bottom: 0px; }
    #main { overflow: hidden; display: flex; flex-direction: column; height: 100%; -webkit-tap-highlight-color: transparent; outline: none; border: none; }
    #main:focus { outline: none; }
    .content { overflow-y: auto; flex: 1; width: 100%; min-height: 0; padding: 0rem 1.5rem 0rem 1.5rem; }
    
    /* Contact Info */
    .contact-info {
      font-weight: 400 !important;
      padding: 0.5rem 0.75rem;
      font-size: 0.75rem;
      color: var(--accent-light);
      margin: 0;
      opacity: 0.5;
      white-space: nowrap;
      cursor: pointer;
    }
    .contact-info:hover {
      opacity: 0.9;
      text-decoration: none;
    }
    @media (max-width: 991px) {
      .navbar-brand {
        font-size: 1rem !important;
        flex: 1;
      }
      .contact-info {
        font-size: 0.7rem;
        padding: 0.25rem 0.5rem;
      }
    }
    @media (max-width: 576px) {
      .navbar-brand {
        font-size: 0.9rem !important;
      }
      .contact-info {
        font-size: 0.65rem;
        padding: 0.2rem 0.4rem;
      }
    }

    .list-style-none {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    /* JSON Syntax Highlighting */
    pre code.language-json {
      display: block;
      white-space: pre;
      font-family: 'Cascadia Code', 'Consolas', 'Monaco', 'Courier New', monospace;
    }

    pre code.language-json .json-key {
      color: #0451a5;
      font-weight: 500;
    }

    pre code.language-json .json-string {
      color: #a31515;
    }

    pre code.language-json .json-number {
      color: #098658;
    }

    pre code.language-json .json-boolean {
      color: #0000ff;
      font-weight: 600;
    }

    pre code.language-json .json-null {
      color: #0000ff;
      font-weight: 600;
    }

    pre code.language-json .json-punctuation {
      color: #333;
    }

    /* SQL Syntax Highlighting */
    pre code.language-sql {
      display: block;
      white-space: pre;
      font-family: 'Cascadia Code', 'Consolas', 'Monaco', 'Courier New', monospace;
    }

    pre code.language-sql .sql-keyword {
      color: #0000ff;
      font-weight: 600;
      text-transform: uppercase;
    }

    pre code.language-sql .sql-string {
      color: #a31515;
    }

    pre code.language-sql .sql-number {
      color: #098658;
    }

    pre code.language-sql .sql-comment {
      color: #008000;
      font-style: italic;
    }

    pre code.language-sql .sql-function {
      color: #795e26;
      font-weight: 500;
    }

    pre code.language-sql .sql-operator {
      color: #666;
      font-weight: 500;
    }

    /* Language Label for Code Blocks */
    pre[data-language]::before {
      content: attr(data-language);
      position: absolute;
      top: 8px;
      right: 12px;
      font-size: 0.75em;
      color: #6a737d;
      text-transform: uppercase;
      font-weight: 600;
      letter-spacing: 0.5px;
      background: var(--bg);
      padding: 0.2rem 0.5rem;
      border-radius: 0.25rem;
      border: 1px solid var(--border);
    }

    /* Enhanced pre/code styling for syntax highlighted blocks */
    pre.syntax-highlighted {
      position: relative;
      background: var(--code-bg);
      border: 1px solid var(--border);
      padding: 1.5rem 1rem 1rem 1rem;
      border-radius: 0.5rem;
      overflow-x: auto;
      box-shadow: var(--shadow-sm);
      margin: 1rem 0;
    }

    pre.syntax-highlighted code {
      background: transparent;
      padding: 0;
      border: none;
      color: var(--fg);
      font-size: 0.875rem;
      line-height: 1.6;
    }

    ul
    {
        list-style-type: none;
    }
  /* Document Footer */
    .document-footer {
      text-align: center;
      padding: 20px;
      background-color: #f8f9fa;
      border-radius: 8px;
      margin-top: 20px;
    }
    .document-footer p {
      margin: 0;
      font-size: 14px;
      color: #6c757d;
      line-height: 1.6;
    }
    .document-footer strong {
      color: #495057;
    }  
  </style>
  <!-- Mermaid.js for diagrams -->
  <script src="https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.min.js"></script>
  <script>
    // Initialize Mermaid with proper configuration
    document.addEventListener('DOMContentLoaded', function() {

      mermaid.initialize({
        startOnLoad: false,
        theme: 'base',
        securityLevel: 'loose',
        logLevel: 'error',
        flowchart: {
          useMaxWidth: true,
          htmlLabels: true,
          curve: 'basis',
        },
        sequence: {
          useMaxWidth: false,
          htmlLabels: true,
          diagramMarginX: 50,
          diagramMarginY: 10
        }
      });
      
      // Render all diagrams
      renderMermaidDiagrams();
    });
    
    async function renderMermaidDiagrams() {
      const diagrams = document.querySelectorAll('.mermaid');
      
      for (let i = 0; i < diagrams.length; i++) {
        const diagram = diagrams[i];
        const code = diagram.textContent.trim();
        
        // Store original code
        if (!diagram.hasAttribute('data-original-code')) {
          diagram.setAttribute('data-original-code', code);
        }
        
        try {
          const { svg } = await mermaid.render('mermaid-diagram-' + i, code);
          diagram.innerHTML = svg;
          diagram.setAttribute('data-processed', 'true');
          
          // Add zoom controls
          addZoomControls(diagram);
        } catch (error) {
          console.error('Mermaid rendering error for diagram ' + i + ':', error);
          diagram.innerHTML = '<div class="text-danger p-3 border border-danger border-2 rounded">Error rendering diagram: ' + error.message + '</div>';
        }
      }
    }
    
    // Add zoom controls to mermaid diagrams
    function addZoomControls(diagram) {
      const controls = document.createElement('div');
      controls.className = 'zoom-controls';
      controls.innerHTML = `
        <button class="zoom-btn" data-action="expand" title="Expand View">‚õ∂</button>
      `;
      
      diagram.style.position = 'relative';
      diagram.insertBefore(controls, diagram.firstChild);
      
      // Expand to modal
      controls.addEventListener('click', (e) => {
        const btn = e.target.closest('.zoom-btn');
        if (!btn) return;
        
        openDiagramModal(diagram);
      });
    }

    // Open diagram in modal
    function openDiagramModal(diagram) {
      // Create modal if it doesn't exist
      let modal = document.getElementById('diagram-modal');
      if (!modal) {
        modal = document.createElement('div');
        modal.id = 'diagram-modal';
        modal.className = 'diagram-modal';
        modal.innerHTML = `
          <button class="modal-close" id="modal-close">√ó</button>
          <div class="diagram-modal-content" id="modal-diagram-content"></div>
          <div class="modal-zoom-controls">
            <button class="modal-zoom-btn" data-action="zoom-in" title="Zoom In">+</button>
            <button class="modal-zoom-btn" data-action="zoom-out" title="Zoom Out">‚àí</button>
            <button class="modal-zoom-btn" data-action="reset" title="Reset Zoom">‚ü≤</button>
          </div>
        `;
        document.body.appendChild(modal);
        
        // Close modal handlers
        modal.querySelector('#modal-close').addEventListener('click', closeDiagramModal);
        modal.addEventListener('click', (e) => {
          if (e.target === modal) closeDiagramModal();
        });
        document.addEventListener('keydown', (e) => {
          if (e.key === 'Escape' && modal.classList.contains('active')) {
            closeDiagramModal();
          }
        });
        
        // Zoom controls in modal
        let scale = 1;
        let translateX = 0;
        let translateY = 0;
        
        modal.querySelector('.modal-zoom-controls').addEventListener('click', (e) => {
          const btn = e.target.closest('.modal-zoom-btn');
          if (!btn) return;
          
          const action = btn.dataset.action;
          const svg = modal.querySelector('svg');
          if (!svg) return;
          
          if (action === 'zoom-in') {
            scale = Math.min(scale + 0.1, 5);
          } else if (action === 'zoom-out') {
            scale = Math.max(scale - 0.1, 0.5);
          } else if (action === 'reset') {
            scale = 1;
            translateX = 0;
            translateY = 0;
          }
          
          svg.style.transform = `scale(${scale}) translate(${translateX / scale}px, ${translateY / scale}px)`;
        });
      }
      
      // Clone diagram content
      const svg = diagram.querySelector('svg');
      if (svg) {
        const content = modal.querySelector('#modal-diagram-content');
        content.innerHTML = '';
        const clonedSvg = svg.cloneNode(true);
        clonedSvg.style.transform = 'scale(1)';
        clonedSvg.style.maxWidth = '100%';
        clonedSvg.style.height = 'auto';
        content.appendChild(clonedSvg);
      }
      
      modal.classList.add('active');
      document.body.style.overflow = 'hidden';
    }

    function closeDiagramModal() {
      const modal = document.getElementById('diagram-modal');
      if (modal) {
        modal.classList.remove('active');
        document.body.style.overflow = '';
      }
    }
    
    // Re-render on theme change
    window.rerenderMermaid = async function() {
      const isDark = document.documentElement.getAttribute('data-theme') === 'dark';
      
      mermaid.initialize({
        startOnLoad: false,
        theme: isDark ? 'base' : 'base',
        securityLevel: 'loose',
        flowchart: {
          useMaxWidth: true,
          htmlLabels: true,
          curve: 'basis',
        },
        sequence: {
          useMaxWidth: false,
          htmlLabels: true,
          diagramMarginX: 50,
          diagramMarginY: 10
        }
      });
      
      const diagrams = document.querySelectorAll('.mermaid[data-processed="true"]');
      for (let i = 0; i < diagrams.length; i++) {
        const diagram = diagrams[i];
        const code = diagram.getAttribute('data-original-code');
        
        if (code) {
          try {
            const { svg } = await mermaid.render('mermaid-diagram-rerender-' + i + '-' + Date.now(), code);
            diagram.innerHTML = svg;
          } catch (error) {
            console.error('Mermaid re-rendering error:', error);
          }
        }
      }
    };
  </script>
</head>
<body>
  <nav class="navbar navbar-expand-lg sticky-top" aria-label="Top bar">
    <div class="container-fluid d-flex align-items-center">
      <button class="navbar-toggler me-2" id="toggleSidebar" type="button" aria-label="Toggle sidebar">
        <span class="navbar-toggler-icon"></span>
      </button>
      <span class="navbar-brand mb-0 h1 me-auto">üöÄ GitHub Copilot SDK - In a Nutshell</span>
      <span class="contact-info mb-0">ü§ù Curated by Murthy Vepa</span>
    </div>      
  </nav>

  <div id="appContainer">
    <div class="row g-0" id="mainRow">
      <nav class="col-lg-3 border-end sidebar" id="sidebar" aria-label="Table of contents">
        <div class="menu-header py-2">Contents</div>
        <ul class="list-group list-group-flush toc" id="toc"></ul>
      </nav>

      <main id="main" class="col-lg-9 d-flex flex-column" tabindex="-1">
        <div class="content" id="content">
        
        <section id="introduction" role="article">
          <h1>üìñ Introduction</h1>
          <span class="badge">intro</span>
          <span class="badge">sdk</span>
          <span class="badge">agents</span>
          
          <p>The <strong>GitHub Copilot SDK</strong> is a multi-platform software development kit that enables developers to embed Copilot's agentic workflows directly into applications and services. It's currently available in <strong>Technical Preview</strong> for Python, TypeScript/Node.js, Go, and .NET.</p>
          
          <div class="callout">
            <strong>üí° Core Concept</strong><br /><br />
            Agents for every app. The GitHub Copilot SDK exposes the same production-tested agent runtime behind Copilot CLI as a programmable SDK. No need to build your own orchestration‚Äîyou define agent behavior, and Copilot handles planning, tool invocation, file edits, and more.
          </div>

          <h2>What is GitHub Copilot SDK?</h2>
          <p>GitHub Copilot SDK is a programmable interface that allows developers to:</p>
          <ul>
            <li><strong>Embed AI agents</strong> into applications with custom behavior and capabilities</li>
            <li><strong>Leverage production-grade orchestration</strong> without building infrastructure from scratch</li>
            <li><strong>Access Copilot's powerful models</strong> including Claude Sonnet 4.5</li>
            <li><strong>Build agentic workflows</strong> that can plan, execute, and iterate on tasks</li>
            <li><strong>Integrate with Copilot CLI</strong> for robust agent runtime capabilities</li>
          </ul>

          <h2>Who Can Use This Feature?</h2>
          <p>GitHub Copilot SDK requires an active GitHub Copilot subscription:</p>
          <ul>
            <li>‚úÖ <strong>GitHub Copilot Individual</strong></li>
            <li>‚úÖ <strong>GitHub Copilot Pro</strong></li>
            <li>‚úÖ <strong>GitHub Copilot Pro+</strong></li>
            <li>‚úÖ <strong>GitHub Copilot Business</strong></li>
            <li>‚úÖ <strong>GitHub Copilot Enterprise</strong></li>
          </ul>
          
          <div class="callout">
            <strong>üÜì Free Tier Available:</strong><br />
            You can use the free tier of the Copilot CLI with limited usage even without a full subscription. Each prompt counts towards your premium request quota.
          </div>

          <h2>Key Benefits</h2>
          
          <h3>üöÄ Production-Ready Agent Runtime</h3>
          <ul>
            <li>Battle-tested engine powering Copilot CLI</li>
            <li>Automatic planning and tool orchestration</li>
            <li>Built-in error handling and retry logic</li>
            <li>Process lifecycle management included</li>
          </ul>

          <h3>üéØ Flexible Agent Customization</h3>
          <ul>
            <li>Define custom agents with specific behaviors</li>
            <li>Configure which tools and skills are available</li>
            <li>Extend functionality with custom implementations</li>
            <li>Control tool permissions and approval workflows</li>
          </ul>

          <h3>üåê Multi-Language Support</h3>
          <ul>
            <li><strong>Node.js/TypeScript</strong> - Modern JavaScript ecosystem</li>
            <li><strong>Python</strong> - Data science and ML workflows</li>
            <li><strong>.NET</strong> - Enterprise applications</li>
            <li><strong>Go</strong> - High-performance services</li>
          </ul>

          <h3>üîê Enterprise-Grade Security</h3>
          <ul>
            <li>Bring Your Own Key (BYOK) support</li>
            <li>Configurable tool permissions</li>
            <li>Secure communication via JSON-RPC</li>
            <li>GitHub authentication integration</li>
          </ul>

          <h2>Use Cases</h2>
          
          <h3>ü§ñ Intelligent Automation</h3>
          <ul>
            <li>Code generation and refactoring services</li>
            <li>Automated documentation generation</li>
            <li>PR review and analysis tools</li>
            <li>CI/CD pipeline assistants</li>
          </ul>

          <h3>üíª Developer Tools</h3>
          <ul>
            <li>IDE extensions and plugins</li>
            <li>CLI tools with AI capabilities</li>
            <li>Code review and quality tools</li>
            <li>Testing and debugging assistants</li>
          </ul>

          <h3>üéì Educational Platforms</h3>
          <ul>
            <li>Interactive coding tutors</li>
            <li>Personalized learning assistants</li>
            <li>Code explanation services</li>
            <li>Practice exercise generators</li>
          </ul>

          <h3>üè¢ Enterprise Applications</h3>
          <ul>
            <li>Internal developer portals</li>
            <li>Knowledge base assistants</li>
            <li>Code migration tools</li>
            <li>Technical support chatbots</li>
          </ul>

          <h2>Current Status</h2>
          <p>The GitHub Copilot SDK is currently in <strong>Technical Preview</strong>. While it is functional and can be used for development and testing, it may not yet be suitable for production use. The team actively welcomes feedback and feature requests.</p>
          
          <div class="callout">
            <strong>‚ö†Ô∏è Technical Preview Notice:</strong><br />
            As a Technical Preview product, the SDK may undergo breaking changes. Pin specific versions in production-like environments and review release notes carefully when upgrading.
          </div>
        </section>

        <section id="getting-started" role="article">
          <h1>üöÄ Getting Started</h1>
          <span class="badge">setup</span>
          <span class="badge">install</span>
          <span class="badge">quickstart</span>
          
          <p>Getting started with the GitHub Copilot SDK is straightforward. This guide will walk you through the essential steps to set up your development environment and create your first agent.</p>

          <h2>Quick Start Overview</h2>
          <p>Follow these high-level steps to get up and running:</p>
          
          <div class="mermaid">
graph LR
    A[Install Copilot CLI] --> B[Install SDK]
    B --> C[Authenticate]
    C --> D[Create Agent]
    D --> E[Run Agent]
    
    style A fill:#dbeafe
    style B fill:#dcfce7
    style C fill:#fef3c7
    style D fill:#fce7f3
    style E fill:#e9d5ff
          </div>

          <h2>Step 1: Install GitHub Copilot CLI</h2>
          <p>The SDK requires the GitHub Copilot CLI to be installed and available in your system PATH. The CLI acts as the agent runtime server that the SDK communicates with.</p>
          
          <pre class="syntax-highlighted" data-language="bash"><code># Install GitHub CLI first (if not already installed)
# macOS
brew install gh

# Windows
winget install --id GitHub.cli

# Linux
sudo apt install gh  # Debian/Ubuntu
sudo dnf install gh  # Fedora/RHEL

# Install Copilot CLI extension
gh extension install github/gh-copilot

# Verify installation
copilot --version</code></pre>

          <div class="callout">
            <strong>üìñ Detailed Instructions:</strong><br />
            For complete CLI installation steps, see the <a href="https://docs.github.com/en/copilot/how-tos/set-up/install-copilot-cli" target="_blank">official Copilot CLI installation guide</a>.
          </div>

          <h2>Step 2: Authenticate with GitHub</h2>
          <p>Authenticate the Copilot CLI with your GitHub account:</p>
          
          <pre class="syntax-highlighted" data-language="bash"><code># Authenticate with GitHub
gh auth login

# Verify Copilot access
copilot --help</code></pre>

          <h2>Step 3: Choose Your SDK</h2>
          <p>Select the SDK for your preferred programming language:</p>

          <table class="table table-bordered">
            <thead>
              <tr>
                <th>Language</th>
                <th>Package</th>
                <th>Installation Command</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>Node.js/TypeScript</strong></td>
                <td>@github/copilot-sdk</td>
                <td><code>npm install @github/copilot-sdk</code></td>
              </tr>
              <tr>
                <td><strong>Python</strong></td>
                <td>github-copilot-sdk</td>
                <td><code>pip install github-copilot-sdk</code></td>
              </tr>
              <tr>
                <td><strong>.NET</strong></td>
                <td>GitHub.Copilot.SDK</td>
                <td><code>dotnet add package GitHub.Copilot.SDK</code></td>
              </tr>
              <tr>
                <td><strong>Go</strong></td>
                <td>github.com/github/copilot-sdk/go</td>
                <td><code>go get github.com/github/copilot-sdk/go</code></td>
              </tr>
            </tbody>
          </table>

          <h2>Step 4: Write Your First Agent</h2>
          <p>Here's a minimal example in different languages:</p>

          <h3>TypeScript Example</h3>
          <pre class="syntax-highlighted" data-language="typescript"><code>import { CopilotClient } from '@github/copilot-sdk';

async function main() {
  const client = new CopilotClient();
  
  const result = await client.runAgent({
    prompt: 'Explain what a hash map is in simple terms'
  });
  
  console.log(result.output);
  
  await client.close();
}

main();</code></pre>

          <h3>Python Example</h3>
          <pre class="syntax-highlighted" data-language="python"><code>from github_copilot_sdk import CopilotClient

async def main():
    async with CopilotClient() as client:
        result = await client.run_agent(
            prompt="Explain what a hash map is in simple terms"
        )
        print(result.output)

if __name__ == "__main__":
    import asyncio
    asyncio.run(main())</code></pre>

          <h3>.NET Example</h3>
          <pre class="syntax-highlighted" data-language="csharp"><code>using GitHub.Copilot.SDK;

class Program
{
    static async Task Main(string[] args)
    {
        using var client = new CopilotClient();
        
        var result = await client.RunAgentAsync(
            "Explain what a hash map is in simple terms"
        );
        
        Console.WriteLine(result.Output);
    }
}</code></pre>

          <h3>Go Example</h3>
          <pre class="syntax-highlighted" data-language="go"><code>package main

import (
    "fmt"
    "github.com/github/copilot-sdk/go"
)

func main() {
    client := copilot.NewClient()
    defer client.Close()
    
    result, err := client.RunAgent(
        "Explain what a hash map is in simple terms",
    )
    if err != nil {
        panic(err)
    }
    
    fmt.Println(result.Output)
}</code></pre>

          <h2>Step 5: Run Your Agent</h2>
          <p>Execute your program:</p>
          
          <pre class="syntax-highlighted" data-language="bash"><code># TypeScript
npx tsx your-agent.ts

# Python
python your-agent.py

# .NET
dotnet run

# Go
go run your-agent.go</code></pre>

          <h2>What Happens Behind the Scenes?</h2>
          <ol>
            <li>The SDK starts a Copilot CLI process in server mode</li>
            <li>It establishes a JSON-RPC connection with the CLI server</li>
            <li>Your prompt is sent to the agent runtime</li>
            <li>The CLI communicates with GitHub's AI models</li>
            <li>The response is streamed back through the SDK</li>
            <li>The SDK manages cleanup and process lifecycle</li>
          </ol>

          <div class="callout">
            <strong>üéØ Next Steps:</strong><br />
            Explore the <strong>Core Concepts</strong> section to learn about agents, skills, and tools. Check the <strong>Cookbook</strong> for practical examples and recipes.
          </div>
        </section>

        <section id="prerequisites" role="article">
          <h1>üìã Prerequisites</h1>
          <span class="badge">requirements</span>
          <span class="badge">prereq</span>
          <span class="badge">copilot</span>
          
          <p>Before installing the GitHub Copilot SDK, ensure you have the following prerequisites in place:</p>

          <h2>Required Software</h2>
          
          <h3>1. GitHub Copilot CLI</h3>
          <ul>
            <li><strong>Version:</strong> Latest stable release recommended</li>
            <li><strong>Purpose:</strong> Acts as the agent runtime server</li>
            <li><strong>Installation:</strong> See <a href="https://docs.github.com/en/copilot/how-tos/set-up/install-copilot-cli" target="_blank">official guide</a></li>
            <li><strong>Verification:</strong> Run <code>copilot --version</code></li>
          </ul>

          <h3>2. GitHub CLI (gh)</h3>
          <ul>
            <li><strong>Version:</strong> 2.0.0 or higher</li>
            <li><strong>Purpose:</strong> Required for Copilot CLI extension</li>
            <li><strong>Installation:</strong> <a href="https://cli.github.com/" target="_blank">cli.github.com</a></li>
            <li><strong>Verification:</strong> Run <code>gh --version</code></li>
          </ul>

          <h3>3. Language Runtime</h3>
          <p>Depending on your chosen SDK:</p>
          
          <table class="table table-bordered">
            <thead>
              <tr>
                <th>SDK</th>
                <th>Minimum Version</th>
                <th>Recommended Version</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>Node.js/TypeScript</strong></td>
                <td>Node.js 18.x</td>
                <td>Node.js 20.x LTS</td>
              </tr>
              <tr>
                <td><strong>Python</strong></td>
                <td>Python 3.8</td>
                <td>Python 3.11+</td>
              </tr>
              <tr>
                <td><strong>.NET</strong></td>
                <td>.NET 6.0</td>
                <td>.NET 8.0</td>
              </tr>
              <tr>
                <td><strong>Go</strong></td>
                <td>Go 1.20</td>
                <td>Go 1.21+</td>
              </tr>
            </tbody>
          </table>

          <h2>GitHub Account Requirements</h2>
          
          <h3>1. Active Copilot Subscription</h3>
          <ul>
            <li>GitHub Copilot Individual, Pro, Pro+, Business, or Enterprise</li>
            <li>Free tier available with limited usage</li>
            <li><a href="https://github.com/features/copilot#pricing" target="_blank">View pricing options</a></li>
          </ul>

          <h3>2. Authenticated GitHub Account</h3>
          <ul>
            <li>GitHub account with Copilot access</li>
            <li>Authentication via <code>gh auth login</code></li>
            <li>Valid GitHub token with appropriate scopes</li>
          </ul>

          <h2>System Requirements</h2>
          
          <h3>Operating System</h3>
          <ul>
            <li>‚úÖ <strong>macOS:</strong> 10.15 (Catalina) or later</li>
            <li>‚úÖ <strong>Windows:</strong> Windows 10 (1809+) or Windows 11</li>
            <li>‚úÖ <strong>Linux:</strong> Most modern distributions (Ubuntu 20.04+, Fedora 35+, etc.)</li>
            <li>‚úÖ <strong>WSL2:</strong> Supported on Windows with WSL2</li>
          </ul>

          <h3>Hardware</h3>
          <ul>
            <li><strong>Minimum RAM:</strong> 4 GB (8 GB recommended)</li>
            <li><strong>Disk Space:</strong> 500 MB for SDK and CLI</li>
            <li><strong>Network:</strong> Internet connection required for API access</li>
          </ul>

          <h2>Development Tools (Optional but Recommended)</h2>
          <ul>
            <li><strong>IDE/Editor:</strong> VS Code, JetBrains, Vim, etc.</li>
            <li><strong>Git:</strong> For version control and repository management</li>
            <li><strong>Package Manager:</strong> npm/yarn, pip, NuGet, or go modules</li>
            <li><strong>Terminal:</strong> Modern terminal with good Unicode support</li>
          </ul>

          <h2>Network Requirements</h2>
          <ul>
            <li>HTTPS access to <code>github.com</code></li>
            <li>HTTPS access to <code>api.github.com</code></li>
            <li>HTTPS access to Copilot API endpoints</li>
            <li>Port 443 outbound (HTTPS)</li>
          </ul>

          <div class="callout">
            <strong>üè¢ Enterprise Users:</strong><br />
            If you're behind a corporate proxy or firewall, ensure your network allows access to GitHub services. You may need to configure proxy settings for the CLI and SDK.
          </div>

          <h2>Verification Checklist</h2>
          <p>Run these commands to verify your prerequisites:</p>
          
          <pre class="syntax-highlighted" data-language="bash"><code># Check GitHub CLI
gh --version

# Check Copilot CLI
copilot --version

# Check authentication
gh auth status

# Check language runtime
node --version    # For Node.js
python --version  # For Python
dotnet --version  # For .NET
go version        # For Go</code></pre>

          <div class="callout">
            <strong>‚úÖ Ready to Install:</strong><br />
            Once all prerequisites are met, proceed to the <strong>Installation</strong> section to install your preferred SDK.
          </div>
        </section>

        <section id="installation" role="article">
          <h1>‚öôÔ∏è Installation</h1>
          <span class="badge">install</span>
          <span class="badge">setup</span>
          <span class="badge">configure</span>
          
          <p>This section provides detailed installation instructions for each SDK variant. Choose the installation guide that matches your development environment.</p>

          <h2>Node.js/TypeScript SDK</h2>
          
          <h3>Installation</h3>
          <pre class="syntax-highlighted" data-language="bash"><code># Using npm
npm install @github/copilot-sdk

# Using yarn
yarn add @github/copilot-sdk

# Using pnpm
pnpm add @github/copilot-sdk</code></pre>

          <h3>TypeScript Configuration (Optional)</h3>
          <p>If using TypeScript, ensure your <code>tsconfig.json</code> includes:</p>
          <pre class="syntax-highlighted" data-language="json"><code>{
  "compilerOptions": {
    "target": "ES2020",
    "module": "commonjs",
    "lib": ["ES2020"],
    "moduleResolution": "node",
    "esModuleInterop": true,
    "strict": true
  }
}</code></pre>

          <h3>Verification</h3>
          <pre class="syntax-highlighted" data-language="typescript"><code>import { CopilotClient } from '@github/copilot-sdk';

console.log('SDK loaded successfully!');</code></pre>

          <h2>Python SDK</h2>
          
          <h3>Installation</h3>
          <pre class="syntax-highlighted" data-language="bash"><code># Using pip
pip install github-copilot-sdk

# Using poetry
poetry add github-copilot-sdk

# Using pipenv
pipenv install github-copilot-sdk</code></pre>

          <h3>Virtual Environment (Recommended)</h3>
          <pre class="syntax-highlighted" data-language="bash"><code># Create virtual environment
python -m venv venv

# Activate virtual environment
# On macOS/Linux:
source venv/bin/activate
# On Windows:
venv\Scripts\activate

# Install SDK
pip install github-copilot-sdk</code></pre>

          <h3>Verification</h3>
          <pre class="syntax-highlighted" data-language="python"><code>from github_copilot_sdk import CopilotClient

print('SDK loaded successfully!')</code></pre>

          <h2>.NET SDK</h2>
          
          <h3>Installation</h3>
          <pre class="syntax-highlighted" data-language="bash"><code># Using dotnet CLI
dotnet add package GitHub.Copilot.SDK

# Or add to .csproj manually
# <PackageReference Include="GitHub.Copilot.SDK" Version="*" /></code></pre>

          <h3>Project Setup</h3>
          <pre class="syntax-highlighted" data-language="bash"><code># Create new console app
dotnet new console -n MyCopilotApp
cd MyCopilotApp

# Add SDK package
dotnet add package GitHub.Copilot.SDK

# Restore packages
dotnet restore</code></pre>

          <h3>Verification</h3>
          <pre class="syntax-highlighted" data-language="csharp"><code>using GitHub.Copilot.SDK;

Console.WriteLine("SDK loaded successfully!");</code></pre>

          <h2>Go SDK</h2>
          
          <h3>Installation</h3>
          <pre class="syntax-highlighted" data-language="bash"><code># Initialize Go module (if new project)
go mod init myapp

# Install SDK
go get github.com/github/copilot-sdk/go

# Tidy dependencies
go mod tidy</code></pre>

          <h3>Verification</h3>
          <pre class="syntax-highlighted" data-language="go"><code>package main

import (
    "fmt"
    copilot "github.com/github/copilot-sdk/go"
)

func main() {
    fmt.Println("SDK loaded successfully!")
}</code></pre>

          <h2>Post-Installation Configuration</h2>
          
          <h3>Environment Variables (Optional)</h3>
          <p>You can configure SDK behavior with environment variables:</p>
          
          <pre class="syntax-highlighted" data-language="bash"><code># Set custom CLI path (if not in PATH)
export COPILOT_CLI_PATH="/path/to/copilot"

# Enable debug logging
export COPILOT_SDK_DEBUG="true"

# Set custom timeout (in milliseconds)
export COPILOT_SDK_TIMEOUT="30000"</code></pre>

          <h3>Configuration File (Optional)</h3>
          <p>Create a configuration file in your project:</p>
          
          <pre class="syntax-highlighted" data-language="json"><code>// copilot.config.json
{
  "cliPath": "/usr/local/bin/copilot",
  "timeout": 30000,
  "debug": false,
  "allowedTools": ["all"],
  "modelPreference": "claude-sonnet-4.5"
}</code></pre>

          <h2>Troubleshooting Installation Issues</h2>
          
          <h3>CLI Not Found</h3>
          <pre class="syntax-highlighted" data-language="bash"><code># Verify CLI is in PATH
which copilot  # macOS/Linux
where copilot  # Windows

# If not found, add to PATH or specify path in config</code></pre>

          <h3>Permission Errors</h3>
          <pre class="syntax-highlighted" data-language="bash"><code># macOS/Linux: Use sudo for global install
sudo npm install -g @github/copilot-sdk

# Or install locally without sudo
npm install @github/copilot-sdk</code></pre>

          <h3>Authentication Issues</h3>
          <pre class="syntax-highlighted" data-language="bash"><code># Re-authenticate with GitHub
gh auth login

# Verify authentication
gh auth status

# Check Copilot access
copilot --help</code></pre>

          <h3>Network/Proxy Issues</h3>
          <pre class="syntax-highlighted" data-language="bash"><code># Configure npm proxy (Node.js)
npm config set proxy http://proxy.company.com:8080
npm config set https-proxy http://proxy.company.com:8080

# Configure pip proxy (Python)
export http_proxy=http://proxy.company.com:8080
export https_proxy=http://proxy.company.com:8080

# Configure git proxy
git config --global http.proxy http://proxy.company.com:8080</code></pre>

          <div class="callout">
            <strong>üìö Need More Help?</strong><br />
            Check the <strong>Troubleshooting</strong> section or visit the <a href="https://github.com/github/copilot-sdk/issues" target="_blank">GitHub Issues</a> page for community support.
          </div>

          <h2>Next Steps</h2>
          <ul>
            <li>Review the <strong>Architecture</strong> section to understand how the SDK works</li>
            <li>Explore <strong>Core Concepts</strong> to learn about agents, skills, and tools</li>
            <li>Check out the <strong>Cookbook</strong> for practical examples</li>
            <li>Read the <strong>API Reference</strong> for detailed documentation</li>
          </ul>
        </section>

        <section id="architecture" role="article">
          <h1>üèóÔ∏è Architecture</h1>
          <span class="badge">architecture</span>
          <span class="badge">design</span>
          <span class="badge">structure</span>
          
          <p>The GitHub Copilot SDK follows a client-server architecture where your application uses the SDK to communicate with the Copilot CLI running in server mode. This design leverages the production-tested agent runtime from GitHub Copilot while providing a clean, language-specific API.</p>

          <h2>High-Level Architecture</h2>
          
          <div class="mermaid">
%%{ init: { 'theme': 'base', 'themeVariables': { 'primaryColor': '#f3f4f6', 'edgeLabelBackground':'#ffffff', 'tertiaryColor': '#e5e7eb' } } }%%
graph TB
    subgraph "Your Application"
        A[Your Code]
        B[SDK Client]
    end
    
    subgraph "Copilot Runtime"
        C[Copilot CLI Server]
        D[Agent Orchestrator]
        E[Tool Manager]
        F[Skill Manager]
    end
    
    subgraph "External Services"
        G[GitHub AI Models]
        H[GitHub API]
    end
    
    A -->|API Calls| B
    B -->|JSON-RPC| C
    C --> D
    D --> E
    D --> F
    D -->|LLM Requests| G
    E -->|Git/GitHub Ops| H
    
    style A fill:#dbeafe
    style B fill:#dcfce7
    style C fill:#fef3c7
    style D fill:#fce7f3
    style E fill:#e9d5ff
    style F fill:#e9d5ff
    style G fill:#fee2e2
    style H fill:#fee2e2
          </div>

          <h2>Key Components</h2>
          
          <h3>1. SDK Client Library</h3>
          <p>The SDK provides a language-specific client library that:</p>
          <ul>
            <li>Manages the Copilot CLI process lifecycle</li>
            <li>Establishes and maintains JSON-RPC connections</li>
            <li>Provides type-safe APIs for agent interactions</li>
            <li>Handles errors, retries, and timeouts</li>
            <li>Streams responses from agents</li>
          </ul>

          <h3>2. Copilot CLI Server</h3>
          <p>The CLI runs in server mode and provides:</p>
          <ul>
            <li>JSON-RPC server for SDK communication</li>
            <li>Process isolation and sandboxing</li>
            <li>Tool and skill management</li>
            <li>Authentication with GitHub services</li>
            <li>Model selection and routing</li>
          </ul>

          <h3>3. Agent Orchestrator</h3>
          <p>The core agent runtime that:</p>
          <ul>
            <li>Interprets user prompts and plans actions</li>
            <li>Invokes tools and skills as needed</li>
            <li>Manages conversation context and memory</li>
            <li>Handles multi-step workflows</li>
            <li>Streams results back to the client</li>
          </ul>

          <h3>4. Tool & Skill Managers</h3>
          <p>Manages available capabilities:</p>
          <ul>
            <li>First-party tools (file system, Git, GitHub, web)</li>
            <li>Custom tools defined by developers</li>
            <li>Skills (reusable capabilities and resources)</li>
            <li>Permission and approval workflows</li>
          </ul>

          <h2>Communication Flow</h2>
          
          <div class="mermaid">
sequenceDiagram
    participant App as Your Application
    participant SDK as SDK Client
    participant CLI as Copilot CLI
    participant AI as AI Models
    
    App->>SDK: runAgent(prompt)
    SDK->>SDK: Start CLI process (if needed)
    SDK->>CLI: JSON-RPC: initialize
    CLI-->>SDK: Connection established
    
    SDK->>CLI: JSON-RPC: runAgent
    CLI->>AI: Send prompt with context
    AI-->>CLI: Response stream
    
    loop Agent Planning
        CLI->>CLI: Plan next action
        CLI->>CLI: Execute tool/skill
        CLI-->>SDK: Progress update
        SDK-->>App: Stream event
    end
    
    AI-->>CLI: Final response
    CLI-->>SDK: JSON-RPC: result
    SDK-->>App: Agent output
    
    App->>SDK: close()
    SDK->>CLI: JSON-RPC: shutdown
    CLI-->>SDK: Goodbye
    SDK->>SDK: Cleanup process
          </div>

          <h2>Process Lifecycle</h2>
          
          <div class="mermaid">
stateDiagram-v2
    [*] --> Uninitialized
    Uninitialized --> Starting: SDK.connect()
    Starting --> Connected: CLI process started
    Connected --> Ready: Handshake complete
    
    Ready --> Processing: runAgent()
    Processing --> Planning: Agent analyzes task
    Planning --> Executing: Tools invoked
    Executing --> Planning: More steps needed
    Executing --> Ready: Task complete
    
    Ready --> Closing: SDK.close()
    Processing --> Closing: Error/Timeout
    Closing --> Terminated: Cleanup done
    Terminated --> [*]
    
    Processing --> Error: Exception
    Error --> Ready: Recoverable
    Error --> Terminated: Fatal
          </div>

          <h2>Design Principles</h2>
          
          <h3>üîí Security First</h3>
          <ul>
            <li>Process isolation between SDK and CLI</li>
            <li>Tool permissions and approval workflows</li>
            <li>Secure communication over local sockets</li>
            <li>No credentials stored in SDK</li>
          </ul>

          <h3>üöÄ Performance Optimized</h3>
          <ul>
            <li>Persistent CLI process for multiple requests</li>
            <li>Streaming responses for immediate feedback</li>
            <li>Efficient JSON-RPC protocol</li>
            <li>Connection pooling and reuse</li>
          </ul>

          <h3>üîß Developer Friendly</h3>
          <ul>
            <li>Automatic process management</li>
            <li>Type-safe APIs in each language</li>
            <li>Clear error messages and diagnostics</li>
            <li>Extensive documentation and examples</li>
          </ul>

          <h3>üîå Extensible</h3>
          <ul>
            <li>Custom agents with specific behaviors</li>
            <li>Plugin system for tools and skills</li>
            <li>Configurable model selection</li>
            <li>External CLI server support</li>
          </ul>

          <h2>Deployment Patterns</h2>
          
          <h3>Local Development</h3>
          <p>SDK spawns and manages CLI process locally:</p>
          <div class="mermaid">
graph LR
    A[Your App] --> B[SDK Client]
    B -->|Spawns| C[Local CLI Process]
    C -->|HTTPS| D[GitHub AI]
    
    style A fill:#dbeafe
    style B fill:#dcfce7
    style C fill:#fef3c7
    style D fill:#fee2e2
          </div>

          <h3>Shared CLI Server</h3>
          <p>Multiple SDK clients connect to a shared CLI instance:</p>
          <div class="mermaid">
graph LR
    A1[App 1] --> B1[SDK 1]
    A2[App 2] --> B2[SDK 2]
    A3[App 3] --> B3[SDK 3]
    
    B1 -->|Connect| C[Shared CLI Server]
    B2 -->|Connect| C
    B3 -->|Connect| C
    
    C -->|HTTPS| D[GitHub AI]
    
    style A1 fill:#dbeafe
    style A2 fill:#dbeafe
    style A3 fill:#dbeafe
    style B1 fill:#dcfce7
    style B2 fill:#dcfce7
    style B3 fill:#dcfce7
    style C fill:#fef3c7
    style D fill:#fee2e2
          </div>

          <h3>Containerized Deployment</h3>
          <p>SDK and CLI packaged together in containers:</p>
          <div class="mermaid">
graph TB
    subgraph Container
        A[Your App]
        B[SDK]
        C[CLI]
    end
    
    A --> B
    B --> C
    C -->|HTTPS| D[GitHub AI]
    
    style A fill:#dbeafe
    style B fill:#dcfce7
    style C fill:#fef3c7
    style D fill:#fee2e2
          </div>

          <div class="callout">
            <strong>üí° Architecture Benefits:</strong><br />
            This architecture provides process isolation, language flexibility, and leverages GitHub's production infrastructure while maintaining simple integration patterns for developers.
          </div>
        </section>

        <section id="arch-overview" role="article">
          <h1>üìê Architecture Overview</h1>
          <span class="badge">overview</span>
          <span class="badge">jsonrpc</span>
          <span class="badge">cli</span>
          
          <p>Understanding the architecture of the GitHub Copilot SDK helps you build more efficient and reliable applications. This section provides a detailed look at how components interact.</p>

          <h2>Layered Architecture</h2>
          
          <div class="mermaid">
graph TB
    subgraph "Layer 1: Application Layer"
        A1[Your Business Logic]
        A2[UI Components]
        A3[API Endpoints]
    end
    
    subgraph "Layer 2: SDK Layer"
        B1[Client API]
        B2[Process Manager]
        B3[RPC Handler]
        B4[Stream Manager]
    end
    
    subgraph "Layer 3: Protocol Layer"
        C1[JSON-RPC Client]
        C2[Message Serializer]
        C3[Connection Pool]
    end
    
    subgraph "Layer 4: CLI Layer"
        D1[JSON-RPC Server]
        D2[Request Router]
        D3[Agent Runtime]
    end
    
    subgraph "Layer 5: AI Layer"
        E1[Model Interface]
        E2[Context Manager]
        E3[Tool Executor]
    end
    
    A1 --> B1
    A2 --> B1
    A3 --> B1
    
    B1 --> B2
    B2 --> B3
    B3 --> B4
    
    B4 --> C1
    C1 --> C2
    C2 --> C3
    
    C3 --> D1
    D1 --> D2
    D2 --> D3
    
    D3 --> E1
    E1 --> E2
    E2 --> E3
    
    style A1 fill:#dbeafe
    style A2 fill:#dbeafe
    style A3 fill:#dbeafe
    style B1 fill:#dcfce7
    style B2 fill:#dcfce7
    style B3 fill:#dcfce7
    style B4 fill:#dcfce7
    style C1 fill:#fef3c7
    style C2 fill:#fef3c7
    style C3 fill:#fef3c7
    style D1 fill:#fce7f3
    style D2 fill:#fce7f3
    style D3 fill:#fce7f3
    style E1 fill:#e9d5ff
    style E2 fill:#e9d5ff
    style E3 fill:#e9d5ff
          </div>

          <h2>Component Responsibilities</h2>
          
          <table class="table table-bordered">
            <thead>
              <tr>
                <th>Component</th>
                <th>Responsibility</th>
                <th>Key Features</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>Client API</strong></td>
                <td>Language-specific interface for developers</td>
                <td>Type safety, async/await, error handling</td>
              </tr>
              <tr>
                <td><strong>Process Manager</strong></td>
                <td>CLI process lifecycle management</td>
                <td>Auto-start, health checks, graceful shutdown</td>
              </tr>
              <tr>
                <td><strong>RPC Handler</strong></td>
                <td>JSON-RPC protocol implementation</td>
                <td>Request/response, notifications, batching</td>
              </tr>
              <tr>
                <td><strong>Stream Manager</strong></td>
                <td>Real-time response streaming</td>
                <td>Backpressure, buffering, event handling</td>
              </tr>
              <tr>
                <td><strong>Request Router</strong></td>
                <td>Route requests to appropriate handlers</td>
                <td>Method dispatch, middleware, validation</td>
              </tr>
              <tr>
                <td><strong>Agent Runtime</strong></td>
                <td>Core agent execution engine</td>
                <td>Planning, tool invocation, state management</td>
              </tr>
              <tr>
                <td><strong>Model Interface</strong></td>
                <td>Communication with AI models</td>
                <td>Model selection, prompt engineering, caching</td>
              </tr>
              <tr>
                <td><strong>Tool Executor</strong></td>
                <td>Execute tools and skills</td>
                <td>Sandboxing, permissions, result handling</td>
              </tr>
            </tbody>
          </table>

          <h2>Data Flow</h2>
          <p>How data flows through the system:</p>
          
          <div class="mermaid">
flowchart LR
    A[User Input] --> B{SDK Client}
    B -->|Serialize| C[JSON-RPC Request]
    C -->|Send| D[CLI Server]
    D -->|Parse| E[Request Object]
    E --> F{Agent Runtime}
    F -->|Analyze| G[Plan Actions]
    G -->|Execute| H[Tool Invocations]
    H -->|Collect| I[Tool Results]
    I --> J[AI Model]
    J -->|Generate| K[Response]
    K -->|Serialize| L[JSON-RPC Response]
    L -->|Send| M[SDK Client]
    M -->|Deserialize| N[Result Object]
    N --> O[User Output]
    
    style A fill:#dbeafe
    style B fill:#dcfce7
    style D fill:#fef3c7
    style F fill:#fce7f3
    style J fill:#fee2e2
    style M fill:#dcfce7
    style O fill:#dbeafe
          </div>

          <h2>State Management</h2>
          <p>The SDK maintains several types of state:</p>
          
          <h3>Connection State</h3>
          <ul>
            <li><strong>Unconnected:</strong> No CLI process running</li>
            <li><strong>Connecting:</strong> Starting CLI and establishing connection</li>
            <li><strong>Connected:</strong> Ready to accept requests</li>
            <li><strong>Disconnecting:</strong> Shutting down gracefully</li>
            <li><strong>Error:</strong> Connection failed or interrupted</li>
          </ul>

          <h3>Session State</h3>
          <ul>
            <li>Active conversations and context</li>
            <li>Tool approval history</li>
            <li>Model preferences</li>
            <li>Authentication tokens</li>
          </ul>

          <h3>Request State</h3>
          <ul>
            <li>Pending requests and callbacks</li>
            <li>In-flight RPC calls</li>
            <li>Stream subscriptions</li>
            <li>Timeout timers</li>
          </ul>

          <h2>Error Handling Strategy</h2>
          
          <div class="mermaid">
graph TD
    A[Error Occurs] --> B{Error Type?}
    
    B -->|Network| C[Retry with backoff]
    B -->|Timeout| D[Cancel & notify]
    B -->|Invalid Input| E[Throw immediately]
    B -->|CLI Crashed| F[Restart CLI]
    B -->|Auth Failed| G[Re-authenticate]
    
    C --> H{Success?}
    H -->|Yes| I[Return result]
    H -->|No| J[Max retries?]
    J -->|No| C
    J -->|Yes| K[Throw error]
    
    F --> L{Restart OK?}
    L -->|Yes| M[Retry request]
    L -->|No| K
    
    D --> K
    E --> K
    G --> N{Auth OK?}
    N -->|Yes| M
    N -->|No| K
    
    style A fill:#fee2e2
    style I fill:#dcfce7
    style K fill:#fee2e2
          </div>

          <h2>Performance Considerations</h2>
          
          <h3>Cold Start Optimization</h3>
          <ul>
            <li>CLI process startup: ~1-2 seconds</li>
            <li>Keep-alive connections reduce overhead</li>
            <li>Connection pooling for multiple clients</li>
            <li>Pre-warm CLI in production scenarios</li>
          </ul>

          <h3>Request Latency</h3>
          <ul>
            <li>Simple prompts: 2-5 seconds</li>
            <li>Complex tasks: 10-30 seconds</li>
            <li>Streaming provides immediate feedback</li>
            <li>Model selection impacts response time</li>
          </ul>

          <h3>Resource Usage</h3>
          <ul>
            <li>CLI process: ~100-200 MB RAM</li>
            <li>SDK overhead: ~10-50 MB RAM</li>
            <li>Network: HTTPS to GitHub AI services</li>
            <li>Disk: Minimal (caching only)</li>
          </ul>

          <div class="callout">
            <strong>üéØ Optimization Tips:</strong><br />
            Reuse SDK client instances, enable keep-alive, use streaming for long-running tasks, and consider connection pooling for high-throughput scenarios.
          </div>
        </section>

        <section id="arch-communication" role="article">
          <h1>üí¨ Communication Protocol</h1>
          <span class="badge">communication</span>
          <span class="badge">protocol</span>
          <span class="badge">jsonrpc</span>
          
          <p>The GitHub Copilot SDK uses JSON-RPC 2.0 as its communication protocol between the SDK client and the Copilot CLI server. This section details how the protocol works and how to leverage it effectively.</p>

          <h2>JSON-RPC 2.0 Overview</h2>
          <p>JSON-RPC is a lightweight remote procedure call protocol that uses JSON for encoding. It's simple, language-agnostic, and well-suited for client-server communication.</p>

          <h3>Request Format</h3>
          <pre class="syntax-highlighted" data-language="json"><code>{
  "jsonrpc": "2.0",
  "id": 1,
  "method": "agent.run",
  "params": {
    "prompt": "Explain async/await in JavaScript",
    "model": "claude-sonnet-4.5",
    "stream": true
  }
}</code></pre>

          <h3>Response Format</h3>
          <pre class="syntax-highlighted" data-language="json"><code>{
  "jsonrpc": "2.0",
  "id": 1,
  "result": {
    "output": "Async/await is syntactic sugar...",
    "metadata": {
      "model": "claude-sonnet-4.5",
      "tokens": 1250,
      "duration_ms": 3420
    }
  }
}</code></pre>

          <h3>Error Format</h3>
          <pre class="syntax-highlighted" data-language="json"><code>{
  "jsonrpc": "2.0",
  "id": 1,
  "error": {
    "code": -32600,
    "message": "Invalid Request",
    "data": {
      "details": "Missing required parameter: prompt"
    }
  }
}</code></pre>

          <h2>Communication Flow Details</h2>
          
          <div class="mermaid">
sequenceDiagram
    participant SDK as SDK Client
    participant Trans as Transport Layer
    participant CLI as CLI Server
    participant Agent as Agent Runtime
    
    Note over SDK,Agent: Initialization Phase
    SDK->>Trans: Connect to CLI socket
    Trans->>CLI: Establish connection
    CLI-->>Trans: Connection ACK
    Trans-->>SDK: Connected
    
    SDK->>CLI: {method: "initialize"}
    CLI-->>SDK: {result: {version, capabilities}}
    
    Note over SDK,Agent: Request Phase
    SDK->>CLI: {method: "agent.run", params: {...}}
    CLI->>Agent: Parse and validate
    Agent-->>CLI: Task accepted
    CLI-->>SDK: {result: {task_id: "abc123"}}
    
    Note over SDK,Agent: Streaming Phase
    loop Agent Processing
        Agent->>CLI: Progress event
        CLI->>SDK: {method: "agent.progress", params: {...}}
        SDK->>SDK: Emit event to app
    end
    
    Note over SDK,Agent: Completion Phase
    Agent->>CLI: Task complete
    CLI->>SDK: {method: "agent.complete", params: {...}}
    SDK->>SDK: Resolve promise
    
    Note over SDK,Agent: Cleanup Phase
    SDK->>CLI: {method: "shutdown"}
    CLI-->>SDK: {result: "goodbye"}
    Trans->>CLI: Close connection
          </div>

          <h2>Available RPC Methods</h2>
          
          <table class="table table-bordered">
            <thead>
              <tr>
                <th>Method</th>
                <th>Direction</th>
                <th>Purpose</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>initialize</code></td>
                <td>SDK ‚Üí CLI</td>
                <td>Establish session and negotiate capabilities</td>
              </tr>
              <tr>
                <td><code>agent.run</code></td>
                <td>SDK ‚Üí CLI</td>
                <td>Execute an agent with a prompt</td>
              </tr>
              <tr>
                <td><code>agent.stream</code></td>
                <td>SDK ‚Üí CLI</td>
                <td>Start streaming agent execution</td>
              </tr>
              <tr>
                <td><code>agent.cancel</code></td>
                <td>SDK ‚Üí CLI</td>
                <td>Cancel a running agent task</td>
              </tr>
              <tr>
                <td><code>models.list</code></td>
                <td>SDK ‚Üí CLI</td>
                <td>Get available AI models</td>
              </tr>
              <tr>
                <td><code>auth.status</code></td>
                <td>SDK ‚Üí CLI</td>
                <td>Check authentication status</td>
              </tr>
              <tr>
                <td><code>tools.list</code></td>
                <td>SDK ‚Üí CLI</td>
                <td>Get available tools</td>
              </tr>
              <tr>
                <td><code>tools.approve</code></td>
                <td>SDK ‚Üí CLI</td>
                <td>Approve a tool for execution</td>
              </tr>
              <tr>
                <td><code>agent.progress</code></td>
                <td>CLI ‚Üí SDK</td>
                <td>Notify of agent progress (notification)</td>
              </tr>
              <tr>
                <td><code>agent.complete</code></td>
                <td>CLI ‚Üí SDK</td>
                <td>Notify of task completion (notification)</td>
              </tr>
              <tr>
                <td><code>tool.approval_required</code></td>
                <td>CLI ‚Üí SDK</td>
                <td>Request tool approval (notification)</td>
              </tr>
              <tr>
                <td><code>shutdown</code></td>
                <td>SDK ‚Üí CLI</td>
                <td>Gracefully shutdown the CLI</td>
              </tr>
            </tbody>
          </table>

          <h2>Request/Response Patterns</h2>
          
          <h3>Synchronous Request</h3>
          <p>Simple request-response pattern:</p>
          <pre class="syntax-highlighted" data-language="typescript"><code>// SDK sends
const request = {
  jsonrpc: "2.0",
  id: 1,
  method: "models.list",
  params: {}
};

// CLI responds
const response = {
  jsonrpc: "2.0",
  id: 1,
  result: {
    models: [
      { id: "claude-sonnet-4.5", name: "Claude Sonnet 4.5" },
      { id: "gpt-4", name: "GPT-4" }
    ]
  }
};</code></pre>

          <h3>Streaming Request</h3>
          <p>Request with streaming response:</p>
          <pre class="syntax-highlighted" data-language="typescript"><code>// SDK sends
const request = {
  jsonrpc: "2.0",
  id: 2,
  method: "agent.run",
  params: {
    prompt: "Write a hello world in Python",
    stream: true
  }
};

// CLI sends multiple notifications
const progress1 = {
  jsonrpc: "2.0",
  method: "agent.progress",
  params: {
    task_id: "abc123",
    type: "thinking",
    message: "Planning approach..."
  }
};

const progress2 = {
  jsonrpc: "2.0",
  method: "agent.progress",
  params: {
    task_id: "abc123",
    type: "output",
    content: "print('Hello, World!')"
  }
};

// CLI sends final response
const response = {
  jsonrpc: "2.0",
  id: 2,
  result: {
    output: "print('Hello, World!')",
    complete: true
  }
};</code></pre>

          <h3>Bidirectional Communication</h3>
          <p>CLI can request approval from SDK:</p>
          <pre class="syntax-highlighted" data-language="typescript"><code>// CLI sends notification (no id)
const approval_request = {
  jsonrpc: "2.0",
  method: "tool.approval_required",
  params: {
    task_id: "abc123",
    tool: "git.commit",
    description: "Commit changes to repository",
    details: {
      files: ["src/main.py"],
      message: "Add hello world script"
    }
  }
};

// SDK responds with approval
const approval_response = {
  jsonrpc: "2.0",
  id: 3,
  method: "tools.approve",
  params: {
    task_id: "abc123",
    tool: "git.commit",
    approved: true
  }
};</code></pre>

          <h2>Transport Mechanisms</h2>
          
          <h3>Local Socket (Default)</h3>
          <ul>
            <li>Unix domain socket on macOS/Linux</li>
            <li>Named pipe on Windows</li>
            <li>Fast, low-latency communication</li>
            <li>Process-local security</li>
          </ul>

          <h3>TCP Socket (External Server)</h3>
          <ul>
            <li>TCP connection to remote CLI</li>
            <li>Configurable host and port</li>
            <li>Enables distributed deployments</li>
            <li>Requires network security considerations</li>
          </ul>

          <h3>Stdio (Alternative)</h3>
          <ul>
            <li>Communication via stdin/stdout</li>
            <li>Useful for containerized scenarios</li>
            <li>Simpler process management</li>
            <li>Limited to single client</li>
          </ul>

          <h2>Connection Management</h2>
          
          <div class="mermaid">
stateDiagram-v2
    [*] --> Disconnected
    Disconnected --> Connecting: connect()
    Connecting --> Connected: Handshake OK
    Connecting --> Disconnected: Connection failed
    
    Connected --> Authenticating: initialize()
    Authenticating --> Ready: Auth OK
    Authenticating --> Disconnected: Auth failed
    
    Ready --> Active: send request
    Active --> Ready: response received
    Active --> Reconnecting: connection lost
    
    Reconnecting --> Connecting: retry
    Reconnecting --> Disconnected: max retries
    
    Ready --> Closing: close()
    Active --> Closing: close()
    Closing --> Disconnected: cleanup done
    
    Disconnected --> [*]
          </div>

          <h2>Error Codes</h2>
          <p>Standard JSON-RPC 2.0 error codes:</p>
          
          <table class="table table-bordered">
            <thead>
              <tr>
                <th>Code</th>
                <th>Message</th>
                <th>Meaning</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>-32700</td>
                <td>Parse error</td>
                <td>Invalid JSON received</td>
              </tr>
              <tr>
                <td>-32600</td>
                <td>Invalid Request</td>
                <td>Request object is not valid</td>
              </tr>
              <tr>
                <td>-32601</td>
                <td>Method not found</td>
                <td>Method does not exist</td>
              </tr>
              <tr>
                <td>-32602</td>
                <td>Invalid params</td>
                <td>Invalid method parameters</td>
              </tr>
              <tr>
                <td>-32603</td>
                <td>Internal error</td>
                <td>Internal JSON-RPC error</td>
              </tr>
              <tr>
                <td>-32000 to -32099</td>
                <td>Server error</td>
                <td>Implementation-defined errors</td>
              </tr>
            </tbody>
          </table>

          <h2>Performance & Scalability</h2>
          
          <h3>Message Batching</h3>
          <p>Send multiple requests in a single batch:</p>
          <pre class="syntax-highlighted" data-language="json"><code>[
  {
    "jsonrpc": "2.0",
    "id": 1,
    "method": "models.list",
    "params": {}
  },
  {
    "jsonrpc": "2.0",
    "id": 2,
    "method": "auth.status",
    "params": {}
  },
  {
    "jsonrpc": "2.0",
    "id": 3,
    "method": "tools.list",
    "params": {}
  }
]</code></pre>

          <h3>Keep-Alive</h3>
          <ul>
            <li>Maintain persistent connection</li>
            <li>Heartbeat messages to detect failures</li>
            <li>Automatic reconnection on disconnect</li>
            <li>Connection pooling for multiple clients</li>
          </ul>

          <h3>Timeout Configuration</h3>
          <ul>
            <li>Request timeout: 30 seconds (default)</li>
            <li>Connection timeout: 10 seconds</li>
            <li>Idle timeout: 5 minutes</li>
            <li>Configurable per request or globally</li>
          </ul>

          <div class="callout">
            <strong>üîí Security Note:</strong><br />
            All communication between SDK and CLI is local by default. For remote deployments, ensure proper network security, authentication, and encryption (TLS) are in place.
          </div>

          <h2>Debugging Communication</h2>
          
          <h3>Enable Debug Logging</h3>
          <pre class="syntax-highlighted" data-language="bash"><code># Environment variable
export COPILOT_SDK_DEBUG=true

# Will log all JSON-RPC messages
[DEBUG] ‚Üí {"jsonrpc":"2.0","id":1,"method":"agent.run",...}
[DEBUG] ‚Üê {"jsonrpc":"2.0","id":1,"result":{...}}</code></pre>

          <h3>Inspect Messages</h3>
          <pre class="syntax-highlighted" data-language="typescript"><code>// TypeScript example
const client = new CopilotClient({
  debug: true,
  onMessage: (direction, message) => {
    console.log(`${direction}:`, JSON.stringify(message, null, 2));
  }
});</code></pre>
        </section>

        <section id="available-sdks" role="article">
          <h1>üíª Available SDKs</h1>
          <span class="badge">sdks</span>
          <span class="badge">languages</span>
          <span class="badge">platforms</span>
          
          <p>The GitHub Copilot SDK is available in four major programming languages, each designed to provide idiomatic APIs and integrate seamlessly with the respective ecosystem. Choose the SDK that best fits your development environment and preferences.</p>

          <h2>SDK Comparison</h2>
          
          <table class="table table-bordered">
            <thead>
              <tr>
                <th>SDK</th>
                <th>Package Name</th>
                <th>Minimum Version</th>
                <th>Key Features</th>
                <th>Best For</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>üü¢ Node.js/TypeScript</strong></td>
                <td>@github/copilot-sdk</td>
                <td>Node.js 18+</td>
                <td>TypeScript types, Promise-based, Event streams</td>
                <td>Web apps, CLI tools, VS Code extensions</td>
              </tr>
              <tr>
                <td><strong>üêç Python</strong></td>
                <td>github-copilot-sdk</td>
                <td>Python 3.8+</td>
                <td>Async/await, Type hints, Context managers</td>
                <td>ML workflows, data science, automation scripts</td>
              </tr>
              <tr>
                <td><strong>üî∑ .NET</strong></td>
                <td>GitHub.Copilot.SDK</td>
                <td>.NET 6.0+</td>
                <td>LINQ support, Async streams, Strong typing</td>
                <td>Enterprise apps, Azure services, desktop apps</td>
              </tr>
              <tr>
                <td><strong>üîµ Go</strong></td>
                <td>github.com/github/copilot-sdk/go</td>
                <td>Go 1.20+</td>
                <td>Channels, Goroutines, Error values</td>
                <td>Microservices, cloud native, high-performance</td>
              </tr>
            </tbody>
          </table>

          <h2>Common Features Across All SDKs</h2>
          
          <h3>‚úÖ Core Capabilities</h3>
          <ul>
            <li><strong>Agent Execution:</strong> Run AI agents with custom prompts</li>
            <li><strong>Streaming Responses:</strong> Real-time output as agents process tasks</li>
            <li><strong>Tool Management:</strong> Configure which tools agents can use</li>
            <li><strong>Model Selection:</strong> Choose from available AI models</li>
            <li><strong>Process Lifecycle:</strong> Automatic CLI process management</li>
            <li><strong>Error Handling:</strong> Comprehensive error types and recovery</li>
          </ul>

          <h3>üîí Security Features</h3>
          <ul>
            <li>BYOK (Bring Your Own Key) support</li>
            <li>Tool approval workflows</li>
            <li>Secure local communication</li>
            <li>GitHub authentication integration</li>
          </ul>

          <h3>üõ†Ô∏è Developer Experience</h3>
          <ul>
            <li>Type-safe APIs in supported languages</li>
            <li>Comprehensive documentation and examples</li>
            <li>Debug logging and diagnostics</li>
            <li>Active community support</li>
          </ul>

          <h2>SDK Selection Guide</h2>
          
          <div class="mermaid">
graph TD
    A[Choose SDK] --> B{What's your primary language?}
    
    B -->|JavaScript/TypeScript| C[Node.js SDK]
    B -->|Python| D[Python SDK]
    B -->|C#/F#| E[.NET SDK]
    B -->|Go| F[Go SDK]
    
    C --> G{Use Case?}
    D --> H{Use Case?}
    E --> I{Use Case?}
    F --> J{Use Case?}
    
    G -->|Web App| C1[Express, Next.js]
    G -->|CLI Tool| C2[Commander, Yargs]
    G -->|VS Code Ext| C3[Extension API]
    
    H -->|Data Science| D1[Jupyter, Pandas]
    H -->|ML Pipeline| D2[FastAPI, Flask]
    H -->|Automation| D3[Scripts, Bots]
    
    I -->|Enterprise| E1[ASP.NET, Azure]
    I -->|Desktop| E2[WPF, MAUI]
    I -->|Services| E3[gRPC, Workers]
    
    J -->|Microservice| F1[gin, echo]
    J -->|Cloud Native| F2[K8s, Docker]
    J -->|Performance| F3[Concurrent]
    
    style C fill:#dcfce7
    style D fill:#dbeafe
    style E fill:#fce7f3
    style F fill:#e9d5ff
          </div>

          <h2>Installation Quick Reference</h2>
          
          <pre class="syntax-highlighted" data-language="bash"><code># Node.js/TypeScript
npm install @github/copilot-sdk

# Python
pip install github-copilot-sdk

# .NET
dotnet add package GitHub.Copilot.SDK

# Go
go get github.com/github/copilot-sdk/go</code></pre>

          <h2>Version Compatibility</h2>
          <p>All SDKs follow semantic versioning and maintain compatibility with:</p>
          <ul>
            <li><strong>CLI Versions:</strong> Copilot CLI v1.0.0 and above</li>
            <li><strong>Protocol:</strong> JSON-RPC 2.0</li>
            <li><strong>Models:</strong> All GitHub Copilot supported models</li>
            <li><strong>Updates:</strong> Regular releases with new features</li>
          </ul>

          <div class="callout">
            <strong>üìö Language-Specific Details:</strong><br />
            Each SDK section below provides detailed installation instructions, API examples, best practices, and troubleshooting tips specific to that language ecosystem.
          </div>

          <h2>Getting Help</h2>
          <ul>
            <li><strong>Documentation:</strong> Each SDK has detailed README in the repository</li>
            <li><strong>Examples:</strong> Cookbook and samples folders with working code</li>
            <li><strong>Issues:</strong> <a href="https://github.com/github/copilot-sdk/issues" target="_blank">GitHub Issues</a> for bug reports and features</li>
            <li><strong>Discussions:</strong> Community support and questions</li>
          </ul>
        </section>

        <section id="sdk-nodejs" role="article">
          <h1>üü¢ Node.js/TypeScript SDK</h1>
          <span class="badge">nodejs</span>
          <span class="badge">typescript</span>
          <span class="badge">npm</span>
          
          <p>The Node.js/TypeScript SDK provides a modern, Promise-based API for integrating GitHub Copilot agents into JavaScript and TypeScript applications. It features full TypeScript support with type definitions, event-driven architecture, and seamless integration with Node.js ecosystem tools.</p>

          <h2>Installation</h2>
          
          <pre class="syntax-highlighted" data-language="bash"><code># Using npm
npm install @github/copilot-sdk

# Using yarn
yarn add @github/copilot-sdk

# Using pnpm
pnpm add @github/copilot-sdk</code></pre>

          <h2>Requirements</h2>
          <ul>
            <li><strong>Node.js:</strong> 18.x or higher (20.x LTS recommended)</li>
            <li><strong>TypeScript:</strong> 4.5+ (optional, for TypeScript projects)</li>
            <li><strong>Copilot CLI:</strong> Installed and available in PATH</li>
            <li><strong>Package Manager:</strong> npm, yarn, or pnpm</li>
          </ul>

          <h2>Basic Usage</h2>
          
          <h3>TypeScript Example</h3>
          <pre class="syntax-highlighted" data-language="typescript"><code>import { CopilotClient } from '@github/copilot-sdk';

async function main() {
  // Create a client instance
  const client = new CopilotClient();
  
  try {
    // Run a simple agent
    const result = await client.runAgent({
      prompt: 'Explain the difference between let and const in JavaScript'
    });
    
    console.log('Agent response:', result.output);
  } catch (error) {
    console.error('Error:', error);
  } finally {
    // Always close the client
    await client.close();
  }
}

main();</code></pre>

          <h3>JavaScript (ES Modules) Example</h3>
          <pre class="syntax-highlighted" data-language="javascript"><code>import { CopilotClient } from '@github/copilot-sdk';

async function main() {
  const client = new CopilotClient();
  
  try {
    const result = await client.runAgent({
      prompt: 'Write a function to calculate factorial'
    });
    
    console.log(result.output);
  } finally {
    await client.close();
  }
}

main();</code></pre>

          <h3>JavaScript (CommonJS) Example</h3>
          <pre class="syntax-highlighted" data-language="javascript"><code>const { CopilotClient } = require('@github/copilot-sdk');

async function main() {
  const client = new CopilotClient();
  
  try {
    const result = await client.runAgent({
      prompt: 'Create a simple Express server'
    });
    
    console.log(result.output);
  } finally {
    await client.close();
  }
}

main();</code></pre>

          <h2>Client Configuration</h2>
          
          <pre class="syntax-highlighted" data-language="typescript"><code>import { CopilotClient, ClientOptions } from '@github/copilot-sdk';

const options: ClientOptions = {
  // Path to Copilot CLI (optional, auto-detected)
  cliPath: '/usr/local/bin/copilot',
  
  // Request timeout in milliseconds
  timeout: 30000,
  
  // Enable debug logging
  debug: true,
  
  // Tool configuration
  tools: {
    allowed: ['all'], // or specific tools: ['fs.read', 'git.status']
    requireApproval: false
  },
  
  // Model preference
  model: 'claude-sonnet-4.5',
  
  // Custom event handlers
  onProgress: (event) => {
    console.log('Progress:', event);
  },
  
  onError: (error) => {
    console.error('Error:', error);
  }
};

const client = new CopilotClient(options);</code></pre>

          <h2>Streaming Responses</h2>
          
          <pre class="syntax-highlighted" data-language="typescript"><code>import { CopilotClient } from '@github/copilot-sdk';

async function streamExample() {
  const client = new CopilotClient();
  
  try {
    // Stream responses in real-time
    const stream = await client.streamAgent({
      prompt: 'Write a comprehensive guide to async/await'
    });
    
    // Listen to events
    stream.on('start', () => {
      console.log('Agent started');
    });
    
    stream.on('progress', (data) => {
      console.log('Progress:', data.message);
    });
    
    stream.on('output', (data) => {
      process.stdout.write(data.content);
    });
    
    stream.on('complete', (result) => {
      console.log('\nAgent completed');
      console.log('Metadata:', result.metadata);
    });
    
    stream.on('error', (error) => {
      console.error('Stream error:', error);
    });
    
    // Wait for completion
    await stream.wait();
  } finally {
    await client.close();
  }
}

streamExample();</code></pre>

          <h2>Tool Approval Workflow</h2>
          
          <pre class="syntax-highlighted" data-language="typescript"><code>import { CopilotClient } from '@github/copilot-sdk';

async function toolApprovalExample() {
  const client = new CopilotClient({
    tools: {
      requireApproval: true
    }
  });
  
  // Handle tool approval requests
  client.on('toolApprovalRequired', async (request) => {
    console.log(`Tool requested: ${request.tool}`);
    console.log(`Description: ${request.description}`);
    console.log('Details:', request.details);
    
    // Prompt user for approval (or implement custom logic)
    const approved = await promptUser(`Approve ${request.tool}?`);
    
    if (approved) {
      await client.approveTool(request.taskId, request.tool);
    } else {
      await client.denyTool(request.taskId, request.tool);
    }
  });
  
  try {
    const result = await client.runAgent({
      prompt: 'Commit the changes in this repository'
    });
    
    console.log(result.output);
  } finally {
    await client.close();
  }
}

// Simplified user prompt (implement with readline or inquirer)
async function promptUser(message: string): Promise<boolean> {
  // Implementation details...
  return true;
}</code></pre>

          <h2>Custom Agents</h2>
          
          <pre class="syntax-highlighted" data-language="typescript"><code>import { CopilotClient, AgentConfig } from '@github/copilot-sdk';

const codeReviewAgent: AgentConfig = {
  name: 'code-reviewer',
  description: 'Reviews code for quality and best practices',
  systemPrompt: `You are an expert code reviewer. 
    Analyze code for:
    - Bugs and potential issues
    - Performance problems
    - Security vulnerabilities
    - Code style and best practices
    Provide constructive feedback.`,
  tools: ['fs.read', 'git.diff'],
  model: 'claude-sonnet-4.5'
};

async function reviewCode(filePath: string) {
  const client = new CopilotClient();
  
  try {
    const result = await client.runAgent({
      agent: codeReviewAgent,
      prompt: `Review the code in ${filePath}`
    });
    
    console.log('Code Review:\n', result.output);
  } finally {
    await client.close();
  }
}

reviewCode('src/index.ts');</code></pre>

          <h2>Error Handling</h2>
          
          <pre class="syntax-highlighted" data-language="typescript"><code>import { 
  CopilotClient, 
  CopilotError,
  AuthenticationError,
  TimeoutError,
  CLIError
} from '@github/copilot-sdk';

async function handleErrors() {
  const client = new CopilotClient();
  
  try {
    const result = await client.runAgent({
      prompt: 'Do something'
    });
    
    console.log(result.output);
  } catch (error) {
    if (error instanceof AuthenticationError) {
      console.error('Authentication failed. Please run: gh auth login');
    } else if (error instanceof TimeoutError) {
      console.error('Request timed out. Try increasing timeout.');
    } else if (error instanceof CLIError) {
      console.error('CLI error:', error.message);
      console.error('CLI output:', error.cliOutput);
    } else if (error instanceof CopilotError) {
      console.error('Copilot error:', error.message);
      console.error('Error code:', error.code);
    } else {
      console.error('Unexpected error:', error);
    }
  } finally {
    await client.close();
  }
}</code></pre>

          <h2>Advanced Features</h2>
          
          <h3>External CLI Server</h3>
          <pre class="syntax-highlighted" data-language="typescript"><code>// Connect to an external CLI server
const client = new CopilotClient({
  external: {
    host: 'localhost',
    port: 8080
  }
});</code></pre>

          <h3>Model Selection</h3>
          <pre class="syntax-highlighted" data-language="typescript"><code>// List available models
const models = await client.listModels();
console.log('Available models:', models);

// Use specific model
const result = await client.runAgent({
  prompt: 'Explain quantum computing',
  model: 'gpt-4'
});</code></pre>

          <h3>Authentication Status</h3>
          <pre class="syntax-highlighted" data-language="typescript"><code>// Check authentication
const authStatus = await client.getAuthStatus();
console.log('Authenticated:', authStatus.authenticated);
console.log('User:', authStatus.user);
console.log('Scopes:', authStatus.scopes);</code></pre>

          <h2>Integration Examples</h2>
          
          <h3>Express.js API</h3>
          <pre class="syntax-highlighted" data-language="typescript"><code>import express from 'express';
import { CopilotClient } from '@github/copilot-sdk';

const app = express();
const client = new CopilotClient();

app.use(express.json());

app.post('/api/agent', async (req, res) => {
  try {
    const { prompt } = req.body;
    
    const result = await client.runAgent({ prompt });
    
    res.json({
      success: true,
      output: result.output,
      metadata: result.metadata
    });
  } catch (error) {
    res.status(500).json({
      success: false,
      error: error.message
    });
  }
});

app.listen(3000, () => {
  console.log('Server running on port 3000');
});

// Cleanup on exit
process.on('SIGINT', async () => {
  await client.close();
  process.exit();
});</code></pre>

          <h3>CLI Tool with Commander</h3>
          <pre class="syntax-highlighted" data-language="typescript"><code>#!/usr/bin/env node
import { Command } from 'commander';
import { CopilotClient } from '@github/copilot-sdk';

const program = new Command();

program
  .name('copilot-cli')
  .description('CLI tool powered by Copilot SDK')
  .version('1.0.0');

program
  .command('ask <question>')
  .description('Ask Copilot a question')
  .action(async (question) => {
    const client = new CopilotClient();
    
    try {
      const result = await client.runAgent({
        prompt: question
      });
      
      console.log(result.output);
    } finally {
      await client.close();
    }
  });

program.parse();</code></pre>

          <h2>Best Practices</h2>
          
          <h3>‚úÖ Do's</h3>
          <ul>
            <li>Reuse <code>CopilotClient</code> instances for multiple requests</li>
            <li>Always call <code>client.close()</code> when done</li>
            <li>Use streaming for long-running tasks</li>
            <li>Implement proper error handling</li>
            <li>Use TypeScript for better type safety</li>
            <li>Configure timeouts appropriately</li>
          </ul>

          <h3>‚ùå Don'ts</h3>
          <ul>
            <li>Don't create a new client for every request</li>
            <li>Don't forget to close clients</li>
            <li>Don't use blocking operations in event handlers</li>
            <li>Don't expose client instances globally</li>
            <li>Don't ignore error events</li>
          </ul>

          <h2>TypeScript Configuration</h2>
          
          <pre class="syntax-highlighted" data-language="json"><code>// tsconfig.json
{
  "compilerOptions": {
    "target": "ES2020",
    "module": "commonjs",
    "lib": ["ES2020"],
    "moduleResolution": "node",
    "esModuleInterop": true,
    "strict": true,
    "skipLibCheck": true,
    "resolveJsonModule": true,
    "outDir": "./dist",
    "rootDir": "./src"
  },
  "include": ["src/**/*"],
  "exclude": ["node_modules"]
}</code></pre>

          <h2>Troubleshooting</h2>
          
          <h3>Module Not Found</h3>
          <pre class="syntax-highlighted" data-language="bash"><code># Ensure package is installed
npm install @github/copilot-sdk

# Clear cache and reinstall
npm cache clean --force
npm install</code></pre>

          <h3>TypeScript Types Not Working</h3>
          <pre class="syntax-highlighted" data-language="bash"><code># Install type definitions
npm install --save-dev @types/node

# Ensure tsconfig.json is properly configured</code></pre>

          <h3>CLI Not Found</h3>
          <pre class="syntax-highlighted" data-language="typescript"><code>// Specify CLI path explicitly
const client = new CopilotClient({
  cliPath: '/usr/local/bin/copilot'
});</code></pre>

          <div class="callout">
            <strong>üìö Further Resources:</strong><br />
            ‚Ä¢ <a href="https://github.com/github/copilot-sdk/tree/main/nodejs" target="_blank">Node.js SDK README</a><br />
            ‚Ä¢ <a href="https://github.com/github/copilot-sdk/tree/main/cookbook/nodejs" target="_blank">Node.js Cookbook</a><br />
            ‚Ä¢ <a href="https://github.com/github/copilot-sdk/tree/main/samples" target="_blank">Sample Projects</a>
          </div>
        </section>

        <section id="sdk-python" role="article">
          <h1>üêç Python SDK</h1>
          <span class="badge">python</span>
          <span class="badge">pip</span>
          
          <p>The Python SDK provides a Pythonic, async/await-based API for integrating GitHub Copilot agents into Python applications. It features type hints, context managers, and seamless integration with popular Python frameworks like FastAPI, Flask, and Django.</p>

          <h2>Installation</h2>
          
          <pre class="syntax-highlighted" data-language="bash"><code># Using pip
pip install github-copilot-sdk

# Using poetry
poetry add github-copilot-sdk

# Using pipenv
pipenv install github-copilot-sdk

# Using conda
conda install -c conda-forge github-copilot-sdk</code></pre>

          <h2>Requirements</h2>
          <ul>
            <li><strong>Python:</strong> 3.8 or higher (3.11+ recommended)</li>
            <li><strong>Copilot CLI:</strong> Installed and available in PATH</li>
            <li><strong>Dependencies:</strong> Automatically installed (aiohttp, typing-extensions)</li>
          </ul>

          <h2>Basic Usage</h2>
          
          <h3>Async Context Manager (Recommended)</h3>
          <pre class="syntax-highlighted" data-language="python"><code>import asyncio
from github_copilot_sdk import CopilotClient

async def main():
    # Using context manager (automatically handles cleanup)
    async with CopilotClient() as client:
        result = await client.run_agent(
            prompt="Explain list comprehensions in Python"
        )
        print("Agent response:", result.output)

if __name__ == "__main__":
    asyncio.run(main())</code></pre>

          <h3>Manual Lifecycle Management</h3>
          <pre class="syntax-highlighted" data-language="python"><code>import asyncio
from github_copilot_sdk import CopilotClient

async def main():
    client = CopilotClient()
    
    try:
        await client.connect()
        
        result = await client.run_agent(
            prompt="Write a function to calculate fibonacci"
        )
        
        print(result.output)
    finally:
        await client.close()

if __name__ == "__main__":
    asyncio.run(main())</code></pre>

          <h3>Synchronous Wrapper</h3>
          <pre class="syntax-highlighted" data-language="python"><code>from github_copilot_sdk import CopilotClient

def main():
    # Synchronous wrapper for non-async code
    with CopilotClient.sync() as client:
        result = client.run_agent(
            prompt="Create a simple Flask app"
        )
        print(result.output)

if __name__ == "__main__":
    main()</code></pre>

          <h2>Client Configuration</h2>
          
          <pre class="syntax-highlighted" data-language="python"><code>from github_copilot_sdk import CopilotClient, ClientOptions

options = ClientOptions(
    # Path to Copilot CLI (optional)
    cli_path="/usr/local/bin/copilot",
    
    # Request timeout in seconds
    timeout=30.0,
    
    # Enable debug logging
    debug=True,
    
    # Tool configuration
    allowed_tools=["all"],  # or specific: ["fs.read", "git.status"]
    require_tool_approval=False,
    
    # Model preference
    model="claude-sonnet-4.5",
    
    # Event handlers
    on_progress=lambda event: print(f"Progress: {event}"),
    on_error=lambda error: print(f"Error: {error}")
)

async with CopilotClient(options) as client:
    # Use client...</code></pre>

          <h2>Streaming Responses</h2>
          
          <pre class="syntax-highlighted" data-language="python"><code>import asyncio
from github_copilot_sdk import CopilotClient

async def stream_example():
    async with CopilotClient() as client:
        # Stream responses in real-time
        async for event in client.stream_agent(
            prompt="Write a comprehensive guide to async/await in Python"
        ):
            if event.type == "start":
                print("Agent started")
            elif event.type == "progress":
                print(f"Progress: {event.message}")
            elif event.type == "output":
                print(event.content, end="", flush=True)
            elif event.type == "complete":
                print("\nAgent completed")
                print(f"Metadata: {event.metadata}")
            elif event.type == "error":
                print(f"Error: {event.error}")

if __name__ == "__main__":
    asyncio.run(stream_example())</code></pre>

          <h2>Tool Approval Workflow</h2>
          
          <pre class="syntax-highlighted" data-language="python"><code>import asyncio
from github_copilot_sdk import CopilotClient

async def tool_approval_example():
    async with CopilotClient(require_tool_approval=True) as client:
        
        # Register tool approval handler
        @client.on_tool_approval_required
        async def handle_approval(request):
            print(f"Tool requested: {request.tool}")
            print(f"Description: {request.description}")
            print(f"Details: {request.details}")
            
            # Implement approval logic
            approved = await prompt_user(f"Approve {request.tool}?")
            
            if approved:
                await client.approve_tool(request.task_id, request.tool)
            else:
                await client.deny_tool(request.task_id, request.tool)
        
        result = await client.run_agent(
            prompt="Commit the changes in this repository"
        )
        
        print(result.output)

async def prompt_user(message: str) -> bool:
    # Implementation (use aioconsole or similar)
    return True

if __name__ == "__main__":
    asyncio.run(tool_approval_example())</code></pre>

          <h2>Custom Agents</h2>
          
          <pre class="syntax-highlighted" data-language="python"><code>from github_copilot_sdk import CopilotClient, AgentConfig
import asyncio

code_reviewer = AgentConfig(
    name="code-reviewer",
    description="Reviews code for quality and best practices",
    system_prompt="""
        You are an expert code reviewer.
        Analyze code for:
        - Bugs and potential issues
        - Performance problems  
        - Security vulnerabilities
        - Code style and best practices
        Provide constructive feedback.
    """,
    tools=["fs.read", "git.diff"],
    model="claude-sonnet-4.5"
)

async def review_code(file_path: str):
    async with CopilotClient() as client:
        result = await client.run_agent(
            agent=code_reviewer,
            prompt=f"Review the code in {file_path}"
        )
        
        print("Code Review:\n", result.output)

if __name__ == "__main__":
    asyncio.run(review_code("src/main.py"))</code></pre>

          <h2>Error Handling</h2>
          
          <pre class="syntax-highlighted" data-language="python"><code>from github_copilot_sdk import (
    CopilotClient,
    CopilotError,
    AuthenticationError,
    TimeoutError,
    CLIError
)
import asyncio

async def handle_errors():
    async with CopilotClient() as client:
        try:
            result = await client.run_agent(
                prompt="Do something"
            )
            print(result.output)
            
        except AuthenticationError as e:
            print("Authentication failed. Please run: gh auth login")
            
        except TimeoutError as e:
            print(f"Request timed out after {e.timeout}s")
            
        except CLIError as e:
            print(f"CLI error: {e.message}")
            print(f"CLI output: {e.cli_output}")
            
        except CopilotError as e:
            print(f"Copilot error: {e.message}")
            print(f"Error code: {e.code}")
            
        except Exception as e:
            print(f"Unexpected error: {e}")

if __name__ == "__main__":
    asyncio.run(handle_errors())</code></pre>

          <h2>Advanced Features</h2>
          
          <h3>External CLI Server</h3>
          <pre class="syntax-highlighted" data-language="python"><code># Connect to external CLI server
client = CopilotClient(
    external_host="localhost",
    external_port=8080
)</code></pre>

          <h3>Model Selection</h3>
          <pre class="syntax-highlighted" data-language="python"><code># List available models
models = await client.list_models()
print("Available models:", models)

# Use specific model
result = await client.run_agent(
    prompt="Explain quantum computing",
    model="gpt-4"
)</code></pre>

          <h3>Authentication Status</h3>
          <pre class="syntax-highlighted" data-language="python"><code># Check authentication
auth_status = await client.get_auth_status()
print(f"Authenticated: {auth_status.authenticated}")
print(f"User: {auth_status.user}")
print(f"Scopes: {auth_status.scopes}")</code></pre>

          <h2>Integration Examples</h2>
          
          <h3>FastAPI Integration</h3>
          <pre class="syntax-highlighted" data-language="python"><code>from fastapi import FastAPI, HTTPException
from pydantic import BaseModel
from github_copilot_sdk import CopilotClient
import asyncio

app = FastAPI()

# Create a global client (reuse across requests)
client: CopilotClient = None

class AgentRequest(BaseModel):
    prompt: str
    model: str = "claude-sonnet-4.5"

@app.on_event("startup")
async def startup():
    global client
    client = CopilotClient()
    await client.connect()

@app.on_event("shutdown")
async def shutdown():
    global client
    if client:
        await client.close()

@app.post("/api/agent")
async def run_agent(request: AgentRequest):
    try:
        result = await client.run_agent(
            prompt=request.prompt,
            model=request.model
        )
        
        return {
            "success": True,
            "output": result.output,
            "metadata": result.metadata
        }
    except Exception as e:
        raise HTTPException(status_code=500, detail=str(e))

if __name__ == "__main__":
    import uvicorn
    uvicorn.run(app, host="0.0.0.0", port=8000)</code></pre>

          <h3>Flask Integration</h3>
          <pre class="syntax-highlighted" data-language="python"><code>from flask import Flask, request, jsonify
from github_copilot_sdk import CopilotClient
import asyncio

app = Flask(__name__)

# Use synchronous wrapper
def run_copilot(prompt: str):
    with CopilotClient.sync() as client:
        result = client.run_agent(prompt=prompt)
        return result

@app.route('/api/agent', methods=['POST'])
def agent_endpoint():
    try:
        data = request.json
        prompt = data.get('prompt')
        
        result = run_copilot(prompt)
        
        return jsonify({
            'success': True,
            'output': result.output,
            'metadata': result.metadata
        })
    except Exception as e:
        return jsonify({
            'success': False,
            'error': str(e)
        }), 500

if __name__ == '__main__':
    app.run(debug=True, port=5000)</code></pre>

          <h3>Jupyter Notebook Integration</h3>
          <pre class="syntax-highlighted" data-language="python"><code># In a Jupyter cell
from github_copilot_sdk import CopilotClient
import nest_asyncio

# Enable nested event loops in Jupyter
nest_asyncio.apply()

async def ask_copilot(question: str):
    async with CopilotClient() as client:
        result = await client.run_agent(prompt=question)
        return result.output

# Use it
response = await ask_copilot("Explain pandas DataFrames")
print(response)</code></pre>

          <h2>Best Practices</h2>
          
          <h3>‚úÖ Do's</h3>
          <ul>
            <li>Use <code>async with</code> context managers for automatic cleanup</li>
            <li>Reuse client instances across multiple requests</li>
            <li>Use type hints for better IDE support</li>
            <li>Implement proper exception handling</li>
            <li>Use streaming for long-running tasks</li>
            <li>Configure appropriate timeouts</li>
          </ul>

          <h3>‚ùå Don'ts</h3>
          <ul>
            <li>Don't create a new client for every request</li>
            <li>Don't forget to close clients without context managers</li>
            <li>Don't use blocking I/O in async functions</li>
            <li>Don't mix sync and async code incorrectly</li>
            <li>Don't ignore timeout errors</li>
          </ul>

          <h2>Type Hints</h2>
          
          <pre class="syntax-highlighted" data-language="python"><code>from github_copilot_sdk import (
    CopilotClient,
    AgentResult,
    StreamEvent,
    ClientOptions
)
from typing import AsyncIterator, Optional

async def run_with_types(
    prompt: str,
    model: Optional[str] = None
) -> AgentResult:
    async with CopilotClient() as client:
        result: AgentResult = await client.run_agent(
            prompt=prompt,
            model=model
        )
        return result

async def stream_with_types(
    prompt: str
) -> AsyncIterator[StreamEvent]:
    async with CopilotClient() as client:
        async for event in client.stream_agent(prompt=prompt):
            yield event</code></pre>

          <h2>Testing</h2>
          
          <pre class="syntax-highlighted" data-language="python"><code>import pytest
from github_copilot_sdk import CopilotClient
from unittest.mock import AsyncMock, patch

@pytest.mark.asyncio
async def test_agent_execution():
    with patch('github_copilot_sdk.CopilotClient') as mock_client:
        # Mock the client
        mock_instance = AsyncMock()
        mock_client.return_value.__aenter__.return_value = mock_instance
        
        # Mock the response
        mock_instance.run_agent.return_value = AsyncMock(
            output="Test output",
            metadata={"model": "test-model"}
        )
        
        async with CopilotClient() as client:
            result = await client.run_agent(prompt="test")
            
        assert result.output == "Test output"
        assert result.metadata["model"] == "test-model"</code></pre>

          <h2>Troubleshooting</h2>
          
          <h3>ImportError</h3>
          <pre class="syntax-highlighted" data-language="bash"><code># Ensure package is installed
pip install github-copilot-sdk

# Upgrade to latest
pip install --upgrade github-copilot-sdk</code></pre>

          <h3>Event Loop Issues</h3>
          <pre class="syntax-highlighted" data-language="python"><code># For Jupyter notebooks
import nest_asyncio
nest_asyncio.apply()

# For scripts, ensure you're using asyncio.run()
import asyncio
asyncio.run(main())</code></pre>

          <h3>CLI Not Found</h3>
          <pre class="syntax-highlighted" data-language="python"><code># Specify CLI path explicitly
client = CopilotClient(
    cli_path="/usr/local/bin/copilot"
)</code></pre>

          <div class="callout">
            <strong>üìö Further Resources:</strong><br />
            ‚Ä¢ <a href="https://github.com/github/copilot-sdk/tree/main/python" target="_blank">Python SDK README</a><br />
            ‚Ä¢ <a href="https://github.com/github/copilot-sdk/tree/main/cookbook/python" target="_blank">Python Cookbook</a><br />
            ‚Ä¢ <a href="https://github.com/github/copilot-sdk/tree/main/samples" target="_blank">Sample Projects</a>
          </div>
        </section>

        <section id="sdk-dotnet" role="article">
          <h1>üî∑ .NET SDK</h1>
          <span class="badge">dotnet</span>
          <span class="badge">csharp</span>
          <span class="badge">nuget</span>
          
          <p>The .NET SDK provides a strongly-typed, async-first API for integrating GitHub Copilot agents into .NET applications. It supports C#, F#, and VB.NET, with full async/await support, LINQ integration, and seamless compatibility with ASP.NET Core, Azure Functions, and desktop applications.</p>

          <h2>Installation</h2>
          
          <pre class="syntax-highlighted" data-language="bash"><code># Using .NET CLI
dotnet add package GitHub.Copilot.SDK

# Using Package Manager Console
Install-Package GitHub.Copilot.SDK

# Or add to .csproj manually
<PackageReference Include="GitHub.Copilot.SDK" Version="*" /></code></pre>

          <h2>Requirements</h2>
          <ul>
            <li><strong>.NET Runtime:</strong> .NET 6.0 or higher (.NET 8.0 recommended)</li>
            <li><strong>Languages:</strong> C# 10+, F# 6+, or VB.NET</li>
            <li><strong>Copilot CLI:</strong> Installed and available in PATH</li>
            <li><strong>Frameworks:</strong> Compatible with ASP.NET Core, Console apps, Azure Functions</li>
          </ul>

          <h2>Basic Usage</h2>
          
          <h3>C# Example</h3>
          <pre class="syntax-highlighted" data-language="csharp"><code>using GitHub.Copilot.SDK;
using System;
using System.Threading.Tasks;

class Program
{
    static async Task Main(string[] args)
    {
        // Create a client instance
        using var client = new CopilotClient();
        
        try
        {
            // Run a simple agent
            var result = await client.RunAgentAsync(
                "Explain LINQ in C# with examples"
            );
            
            Console.WriteLine($"Agent response: {result.Output}");
        }
        catch (Exception ex)
        {
            Console.WriteLine($"Error: {ex.Message}");
        }
    }
}</code></pre>

          <h3>Using Statement (Recommended)</h3>
          <pre class="syntax-highlighted" data-language="csharp"><code>using GitHub.Copilot.SDK;

class Program
{
    static async Task Main(string[] args)
    {
        // Using statement ensures proper disposal
        using var client = new CopilotClient();
        
        var result = await client.RunAgentAsync(
            "Write a function to validate email addresses"
        );
        
        Console.WriteLine(result.Output);
    }
}</code></pre>

          <h3>F# Example</h3>
          <pre class="syntax-highlighted" data-language="fsharp"><code>open GitHub.Copilot.SDK
open System

[<EntryPoint>]
let main argv =
    async {
        use client = new CopilotClient()
        
        let! result = 
            client.RunAgentAsync("Explain F# pattern matching") 
            |> Async.AwaitTask
        
        printfn "Agent response: %s" result.Output
        return 0
    }
    |> Async.RunSynchronously</code></pre>

          <h2>Client Configuration</h2>
          
          <pre class="syntax-highlighted" data-language="csharp"><code>using GitHub.Copilot.SDK;

var options = new ClientOptions
{
    // Path to Copilot CLI (optional)
    CliPath = "/usr/local/bin/copilot",
    
    // Request timeout
    Timeout = TimeSpan.FromSeconds(30),
    
    // Enable debug logging
    Debug = true,
    
    // Tool configuration
    AllowedTools = new[] { "all" }, // or specific: new[] { "fs.read", "git.status" }
    RequireToolApproval = false,
    
    // Model preference
    Model = "claude-sonnet-4.5",
    
    // Event handlers
    OnProgress = (event) => Console.WriteLine($"Progress: {event}"),
    OnError = (error) => Console.WriteLine($"Error: {error}")
};

using var client = new CopilotClient(options);</code></pre>

          <h2>Streaming Responses</h2>
          
          <pre class="syntax-highlighted" data-language="csharp"><code>using GitHub.Copilot.SDK;
using System;
using System.Threading.Tasks;

class Program
{
    static async Task Main()
    {
        using var client = new CopilotClient();
        
        // Stream responses using IAsyncEnumerable
        await foreach (var event in client.StreamAgentAsync(
            "Write a comprehensive guide to async/await in C#"))
        {
            switch (event.Type)
            {
                case EventType.Start:
                    Console.WriteLine("Agent started");
                    break;
                    
                case EventType.Progress:
                    Console.WriteLine($"Progress: {event.Message}");
                    break;
                    
                case EventType.Output:
                    Console.Write(event.Content);
                    break;
                    
                case EventType.Complete:
                    Console.WriteLine("\nAgent completed");
                    Console.WriteLine($"Metadata: {event.Metadata}");
                    break;
                    
                case EventType.Error:
                    Console.WriteLine($"Error: {event.Error}");
                    break;
            }
        }
    }
}</code></pre>

          <h2>Tool Approval Workflow</h2>
          
          <pre class="syntax-highlighted" data-language="csharp"><code>using GitHub.Copilot.SDK;
using System;
using System.Threading.Tasks;

class Program
{
    static async Task Main()
    {
        var options = new ClientOptions
        {
            RequireToolApproval = true
        };
        
        using var client = new CopilotClient(options);
        
        // Subscribe to tool approval events
        client.ToolApprovalRequired += async (sender, request) =>
        {
            Console.WriteLine($"Tool requested: {request.Tool}");
            Console.WriteLine($"Description: {request.Description}");
            Console.WriteLine($"Details: {request.Details}");
            
            // Prompt user for approval
            Console.Write("Approve? (y/n): ");
            var response = Console.ReadLine();
            var approved = response?.ToLower() == "y";
            
            if (approved)
            {
                await client.ApproveToolAsync(request.TaskId, request.Tool);
            }
            else
            {
                await client.DenyToolAsync(request.TaskId, request.Tool);
            }
        };
        
        var result = await client.RunAgentAsync(
            "Commit the changes in this repository"
        );
        
        Console.WriteLine(result.Output);
    }
}</code></pre>

          <h2>Custom Agents</h2>
          
          <pre class="syntax-highlighted" data-language="csharp"><code>using GitHub.Copilot.SDK;
using System.Threading.Tasks;

var codeReviewer = new AgentConfig
{
    Name = "code-reviewer",
    Description = "Reviews code for quality and best practices",
    SystemPrompt = @"
        You are an expert code reviewer.
        Analyze code for:
        - Bugs and potential issues
        - Performance problems
        - Security vulnerabilities
        - Code style and best practices
        Provide constructive feedback.
    ",
    Tools = new[] { "fs.read", "git.diff" },
    Model = "claude-sonnet-4.5"
};

class Program
{
    static async Task ReviewCode(string filePath)
    {
        using var client = new CopilotClient();
        
        var result = await client.RunAgentAsync(
            agent: codeReviewer,
            prompt: $"Review the code in {filePath}"
        );
        
        Console.WriteLine($"Code Review:\n{result.Output}");
    }
    
    static async Task Main()
    {
        await ReviewCode("Program.cs");
    }
}</code></pre>

          <h2>Error Handling</h2>
          
          <pre class="syntax-highlighted" data-language="csharp"><code>using GitHub.Copilot.SDK;
using System;
using System.Threading.Tasks;

class Program
{
    static async Task Main()
    {
        using var client = new CopilotClient();
        
        try
        {
            var result = await client.RunAgentAsync("Do something");
            Console.WriteLine(result.Output);
        }
        catch (AuthenticationException ex)
        {
            Console.WriteLine("Authentication failed. Please run: gh auth login");
        }
        catch (TimeoutException ex)
        {
            Console.WriteLine($"Request timed out after {ex.Timeout}");
        }
        catch (CLIException ex)
        {
            Console.WriteLine($"CLI error: {ex.Message}");
            Console.WriteLine($"CLI output: {ex.CliOutput}");
        }
        catch (CopilotException ex)
        {
            Console.WriteLine($"Copilot error: {ex.Message}");
            Console.WriteLine($"Error code: {ex.Code}");
        }
        catch (Exception ex)
        {
            Console.WriteLine($"Unexpected error: {ex.Message}");
        }
    }
}</code></pre>

          <h2>Advanced Features</h2>
          
          <h3>External CLI Server</h3>
          <pre class="syntax-highlighted" data-language="csharp"><code>// Connect to external CLI server
var client = new CopilotClient(new ClientOptions
{
    ExternalHost = "localhost",
    ExternalPort = 8080
});</code></pre>

          <h3>Model Selection</h3>
          <pre class="syntax-highlighted" data-language="csharp"><code>// List available models
var models = await client.ListModelsAsync();
foreach (var model in models)
{
    Console.WriteLine($"Model: {model.Id} - {model.Name}");
}

// Use specific model
var result = await client.RunAgentAsync(
    prompt: "Explain quantum computing",
    model: "gpt-4"
);</code></pre>

          <h3>Authentication Status</h3>
          <pre class="syntax-highlighted" data-language="csharp"><code>// Check authentication
var authStatus = await client.GetAuthStatusAsync();
Console.WriteLine($"Authenticated: {authStatus.Authenticated}");
Console.WriteLine($"User: {authStatus.User}");
Console.WriteLine($"Scopes: {string.Join(", ", authStatus.Scopes)}");</code></pre>

          <h2>Integration Examples</h2>
          
          <h3>ASP.NET Core Web API</h3>
          <pre class="syntax-highlighted" data-language="csharp"><code>using Microsoft.AspNetCore.Mvc;
using GitHub.Copilot.SDK;

var builder = WebApplication.CreateBuilder(args);

// Register CopilotClient as singleton
builder.Services.AddSingleton<CopilotClient>();

var app = builder.Build();

app.MapPost("/api/agent", async (
    [FromBody] AgentRequest request,
    [FromServices] CopilotClient client) =>
{
    try
    {
        var result = await client.RunAgentAsync(request.Prompt);
        
        return Results.Ok(new
        {
            success = true,
            output = result.Output,
            metadata = result.Metadata
        });
    }
    catch (Exception ex)
    {
        return Results.Problem(ex.Message);
    }
});

app.Run();

public record AgentRequest(string Prompt, string? Model = null);</code></pre>

          <h3>Azure Function</h3>
          <pre class="syntax-highlighted" data-language="csharp"><code>using Microsoft.Azure.Functions.Worker;
using Microsoft.Azure.Functions.Worker.Http;
using GitHub.Copilot.SDK;
using System.Net;

public class CopilotFunction
{
    private readonly CopilotClient _client;
    
    public CopilotFunction()
    {
        _client = new CopilotClient();
    }
    
    [Function("RunAgent")]
    public async Task<HttpResponseData> Run(
        [HttpTrigger(AuthorizationLevel.Function, "post")] 
        HttpRequestData req)
    {
        var request = await req.ReadFromJsonAsync<AgentRequest>();
        
        try
        {
            var result = await _client.RunAgentAsync(request.Prompt);
            
            var response = req.CreateResponse(HttpStatusCode.OK);
            await response.WriteAsJsonAsync(new
            {
                success = true,
                output = result.Output
            });
            
            return response;
        }
        catch (Exception ex)
        {
            var response = req.CreateResponse(HttpStatusCode.InternalServerError);
            await response.WriteAsJsonAsync(new { error = ex.Message });
            return response;
        }
    }
}</code></pre>

          <h3>Console Application with Dependency Injection</h3>
          <pre class="syntax-highlighted" data-language="csharp"><code>using Microsoft.Extensions.DependencyInjection;
using Microsoft.Extensions.Hosting;
using GitHub.Copilot.SDK;

var host = Host.CreateDefaultBuilder(args)
    .ConfigureServices((context, services) =>
    {
        // Register CopilotClient
        services.AddSingleton<CopilotClient>();
        
        // Register your services
        services.AddTransient<IAgentService, AgentService>();
    })
    .Build();

// Run your application
var service = host.Services.GetRequiredService<IAgentService>();
await service.ProcessAsync("Your prompt here");

public interface IAgentService
{
    Task ProcessAsync(string prompt);
}

public class AgentService : IAgentService
{
    private readonly CopilotClient _client;
    
    public AgentService(CopilotClient client)
    {
        _client = client;
    }
    
    public async Task ProcessAsync(string prompt)
    {
        var result = await _client.RunAgentAsync(prompt);
        Console.WriteLine(result.Output);
    }
}</code></pre>

          <h2>LINQ Integration</h2>
          
          <pre class="syntax-highlighted" data-language="csharp"><code>using GitHub.Copilot.SDK;
using System.Linq;

// Query multiple agents using LINQ
var prompts = new[] 
{ 
    "Explain C# generics",
    "Explain C# delegates",
    "Explain C# LINQ"
};

using var client = new CopilotClient();

var results = await Task.WhenAll(
    prompts.Select(prompt => client.RunAgentAsync(prompt))
);

foreach (var (prompt, result) in prompts.Zip(results))
{
    Console.WriteLine($"Prompt: {prompt}");
    Console.WriteLine($"Result: {result.Output}\n");
}</code></pre>

          <h2>Best Practices</h2>
          
          <h3>‚úÖ Do's</h3>
          <ul>
            <li>Use <code>using</code> statements for automatic disposal</li>
            <li>Register as singleton in DI containers</li>
            <li>Use <code>ConfigureAwait(false)</code> in library code</li>
            <li>Implement proper exception handling</li>
            <li>Use <code>IAsyncEnumerable</code> for streaming</li>
            <li>Leverage nullable reference types</li>
          </ul>

          <h3>‚ùå Don'ts</h3>
          <ul>
            <li>Don't create multiple clients unnecessarily</li>
            <li>Don't forget to dispose clients</li>
            <li>Don't use <code>.Result</code> or <code>.Wait()</code> (use async/await)</li>
            <li>Don't ignore cancellation tokens</li>
            <li>Don't catch all exceptions without logging</li>
          </ul>

          <h2>Cancellation Support</h2>
          
          <pre class="syntax-highlighted" data-language="csharp"><code>using GitHub.Copilot.SDK;
using System.Threading;

using var cts = new CancellationTokenSource();
using var client = new CopilotClient();

// Cancel after 10 seconds
cts.CancelAfter(TimeSpan.FromSeconds(10));

try
{
    var result = await client.RunAgentAsync(
        "Long running task",
        cancellationToken: cts.Token
    );
    
    Console.WriteLine(result.Output);
}
catch (OperationCanceledException)
{
    Console.WriteLine("Operation was cancelled");
}</code></pre>

          <h2>Testing with Moq</h2>
          
          <pre class="syntax-highlighted" data-language="csharp"><code>using Xunit;
using Moq;
using GitHub.Copilot.SDK;

public class AgentServiceTests
{
    [Fact]
    public async Task ProcessAsync_ShouldReturnResult()
    {
        // Arrange
        var mockClient = new Mock<ICopilotClient>();
        mockClient
            .Setup(c => c.RunAgentAsync(It.IsAny<string>(), default))
            .ReturnsAsync(new AgentResult 
            { 
                Output = "Test output",
                Metadata = new Dictionary<string, object>()
            });
        
        var service = new AgentService(mockClient.Object);
        
        // Act
        await service.ProcessAsync("test prompt");
        
        // Assert
        mockClient.Verify(
            c => c.RunAgentAsync("test prompt", default),
            Times.Once
        );
    }
}</code></pre>

          <h2>Troubleshooting</h2>
          
          <h3>Package Not Found</h3>
          <pre class="syntax-highlighted" data-language="bash"><code># Clear NuGet cache
dotnet nuget locals all --clear

# Restore packages
dotnet restore

# Check package sources
dotnet nuget list source</code></pre>

          <h3>Runtime Errors</h3>
          <pre class="syntax-highlighted" data-language="bash"><code># Verify .NET version
dotnet --version

# Should be 6.0 or higher

# Install required runtime
dotnet --list-runtimes</code></pre>

          <h3>CLI Not Found</h3>
          <pre class="syntax-highlighted" data-language="csharp"><code>// Specify CLI path explicitly
var client = new CopilotClient(new ClientOptions
{
    CliPath = "/usr/local/bin/copilot"
});</code></pre>

          <div class="callout">
            <strong>üìö Further Resources:</strong><br />
            ‚Ä¢ <a href="https://github.com/github/copilot-sdk/tree/main/dotnet" target="_blank">.NET SDK README</a><br />
            ‚Ä¢ <a href="https://github.com/github/copilot-sdk/tree/main/cookbook/dotnet" target="_blank">.NET Cookbook</a><br />
            ‚Ä¢ <a href="https://github.com/github/copilot-sdk/tree/main/samples" target="_blank">Sample Projects</a>
          </div>
        </section>

        <section id="sdk-go" role="article">
          <h1>üîµ Go SDK</h1>
          <span class="badge">go</span>
          <span class="badge">golang</span>
          
          <p>The Go SDK provides an idiomatic, channel-based API for integrating GitHub Copilot agents into Go applications. It leverages goroutines, channels, and context for concurrent, high-performance agent interactions, making it ideal for microservices, cloud-native applications, and high-throughput systems.</p>

          <h2>Installation</h2>
          
          <pre class="syntax-highlighted" data-language="bash"><code># Initialize Go module (if new project)
go mod init myapp

# Install SDK
go get github.com/github/copilot-sdk/go

# Tidy dependencies
go mod tidy</code></pre>

          <h2>Requirements</h2>
          <ul>
            <li><strong>Go Version:</strong> 1.20 or higher (1.21+ recommended)</li>
            <li><strong>Copilot CLI:</strong> Installed and available in PATH</li>
            <li><strong>Modules:</strong> Go modules enabled</li>
          </ul>

          <h2>Basic Usage</h2>
          
          <pre class="syntax-highlighted" data-language="go"><code>package main

import (
	"context"
	"fmt"
	"log"

	copilot "github.com/github/copilot-sdk/go"
)

func main() {
	// Create a client instance
	client, err := copilot.NewClient()
	if err != nil {
		log.Fatalf("Failed to create client: %v", err)
	}
	defer client.Close()

	ctx := context.Background()
	
	// Run a simple agent
	result, err := client.RunAgent(ctx, &copilot.AgentRequest{
		Prompt: "Explain goroutines and channels in Go",
	})
	if err != nil {
		log.Fatalf("Agent error: %v", err)
	}
	
	fmt.Printf("Agent response: %s\n", result.Output)
}</code></pre>

          <h2>Client Configuration</h2>
          
          <pre class="syntax-highlighted" data-language="go"><code>package main

import (
	"time"
	copilot "github.com/github/copilot-sdk/go"
)

func main() {
	options := &copilot.ClientOptions{
		// Path to Copilot CLI (optional)
		CLIPath: "/usr/local/bin/copilot",
		
		// Request timeout
		Timeout: 30 * time.Second,
		
		// Enable debug logging
		Debug: true,
		
		// Tool configuration
		AllowedTools: []string{"all"}, // or specific: []string{"fs.read", "git.status"}
		RequireToolApproval: false,
		
		// Model preference
		Model: "claude-sonnet-4.5",
		
		// Event handlers
		OnProgress: func(event *copilot.ProgressEvent) {
			fmt.Printf("Progress: %s\n", event.Message)
		},
		OnError: func(err error) {
			fmt.Printf("Error: %v\n", err)
		},
	}
	
	client, err := copilot.NewClient(options)
	if err != nil {
		panic(err)
	}
	defer client.Close()
}</code></pre>

          <h2>Context and Cancellation</h2>
          
          <pre class="syntax-highlighted" data-language="go"><code>package main

import (
	"context"
	"fmt"
	"time"

	copilot "github.com/github/copilot-sdk/go"
)

func main() {
	client, err := copilot.NewClient()
	if err != nil {
		panic(err)
	}
	defer client.Close()
	
	// Create context with timeout
	ctx, cancel := context.WithTimeout(context.Background(), 10*time.Second)
	defer cancel()
	
	result, err := client.RunAgent(ctx, &copilot.AgentRequest{
		Prompt: "Write a concurrent web scraper in Go",
	})
	
	if err == context.DeadlineExceeded {
		fmt.Println("Request timed out")
		return
	}
	
	if err != nil {
		fmt.Printf("Error: %v\n", err)
		return
	}
	
	fmt.Println(result.Output)
}</code></pre>

          <h2>Streaming Responses</h2>
          
          <pre class="syntax-highlighted" data-language="go"><code>package main

import (
	"context"
	"fmt"

	copilot "github.com/github/copilot-sdk/go"
)

func main() {
	client, err := copilot.NewClient()
	if err != nil {
		panic(err)
	}
	defer client.Close()
	
	ctx := context.Background()
	
	// Stream responses via channel
	eventCh, err := client.StreamAgent(ctx, &copilot.AgentRequest{
		Prompt: "Write a comprehensive guide to Go concurrency",
	})
	if err != nil {
		panic(err)
	}
	
	// Process events from channel
	for event := range eventCh {
		switch event.Type {
		case copilot.EventStart:
			fmt.Println("Agent started")
			
		case copilot.EventProgress:
			fmt.Printf("Progress: %s\n", event.Message)
			
		case copilot.EventOutput:
			fmt.Print(event.Content)
			
		case copilot.EventComplete:
			fmt.Println("\nAgent completed")
			fmt.Printf("Metadata: %+v\n", event.Metadata)
			
		case copilot.EventError:
			fmt.Printf("Error: %v\n", event.Error)
		}
	}
}</code></pre>

          <h2>Concurrent Requests</h2>
          
          <pre class="syntax-highlighted" data-language="go"><code>package main

import (
	"context"
	"fmt"
	"sync"

	copilot "github.com/github/copilot-sdk/go"
)

func main() {
	client, err := copilot.NewClient()
	if err != nil {
		panic(err)
	}
	defer client.Close()
	
	ctx := context.Background()
	
	prompts := []string{
		"Explain Go interfaces",
		"Explain Go goroutines",
		"Explain Go channels",
	}
	
	var wg sync.WaitGroup
	resultCh := make(chan string, len(prompts))
	
	// Launch concurrent requests
	for _, prompt := range prompts {
		wg.Add(1)
		go func(p string) {
			defer wg.Done()
			
			result, err := client.RunAgent(ctx, &copilot.AgentRequest{
				Prompt: p,
			})
			if err != nil {
				fmt.Printf("Error for '%s': %v\n", p, err)
				return
			}
			
			resultCh <- fmt.Sprintf("%s: %s", p, result.Output)
		}(prompt)
	}
	
	// Close channel when all goroutines complete
	go func() {
		wg.Wait()
		close(resultCh)
	}()
	
	// Collect results
	for result := range resultCh {
		fmt.Println(result)
	}
}</code></pre>

          <h2>Tool Approval Workflow</h2>
          
          <pre class="syntax-highlighted" data-language="go"><code>package main

import (
	"bufio"
	"context"
	"fmt"
	"os"
	"strings"

	copilot "github.com/github/copilot-sdk/go"
)

func main() {
	options := &copilot.ClientOptions{
		RequireToolApproval: true,
	}
	
	client, err := copilot.NewClient(options)
	if err != nil {
		panic(err)
	}
	defer client.Close()
	
	// Handle tool approval requests
	approvalCh := client.ToolApprovalChannel()
	go func() {
		for request := range approvalCh {
			fmt.Printf("Tool requested: %s\n", request.Tool)
			fmt.Printf("Description: %s\n", request.Description)
			fmt.Printf("Details: %+v\n", request.Details)
			
			// Prompt user
			fmt.Print("Approve? (y/n): ")
			reader := bufio.NewReader(os.Stdin)
			response, _ := reader.ReadString('\n')
			approved := strings.TrimSpace(strings.ToLower(response)) == "y"
			
			if approved {
				client.ApproveTool(request.TaskID, request.Tool)
			} else {
				client.DenyTool(request.TaskID, request.Tool)
			}
		}
	}()
	
	ctx := context.Background()
	result, err := client.RunAgent(ctx, &copilot.AgentRequest{
		Prompt: "Commit the changes in this repository",
	})
	
	if err != nil {
		fmt.Printf("Error: %v\n", err)
		return
	}
	
	fmt.Println(result.Output)
}</code></pre>

          <h2>Custom Agents</h2>
          
          <pre class="syntax-highlighted" data-language="go"><code>package main

import (
	"context"
	"fmt"

	copilot "github.com/github/copilot-sdk/go"
)

func main() {
	codeReviewer := &copilot.AgentConfig{
		Name:        "code-reviewer",
		Description: "Reviews code for quality and best practices",
		SystemPrompt: `You are an expert code reviewer.
			Analyze code for:
			- Bugs and potential issues
			- Performance problems
			- Security vulnerabilities
			- Code style and best practices
			Provide constructive feedback.`,
		Tools: []string{"fs.read", "git.diff"},
		Model: "claude-sonnet-4.5",
	}
	
	client, err := copilot.NewClient()
	if err != nil {
		panic(err)
	}
	defer client.Close()
	
	ctx := context.Background()
	result, err := client.RunAgent(ctx, &copilot.AgentRequest{
		Agent:  codeReviewer,
		Prompt: "Review the code in main.go",
	})
	
	if err != nil {
		panic(err)
	}
	
	fmt.Printf("Code Review:\n%s\n", result.Output)
}</code></pre>

          <h2>Error Handling</h2>
          
          <pre class="syntax-highlighted" data-language="go"><code>package main

import (
	"context"
	"errors"
	"fmt"

	copilot "github.com/github/copilot-sdk/go"
)

func main() {
	client, err := copilot.NewClient()
	if err != nil {
		panic(err)
	}
	defer client.Close()
	
	ctx := context.Background()
	result, err := client.RunAgent(ctx, &copilot.AgentRequest{
		Prompt: "Do something",
	})
	
	if err != nil {
		var authErr *copilot.AuthenticationError
		var timeoutErr *copilot.TimeoutError
		var cliErr *copilot.CLIError
		
		switch {
		case errors.As(err, &authErr):
			fmt.Println("Authentication failed. Please run: gh auth login")
			
		case errors.As(err, &timeoutErr):
			fmt.Printf("Request timed out after %v\n", timeoutErr.Timeout)
			
		case errors.As(err, &cliErr):
			fmt.Printf("CLI error: %s\n", cliErr.Message)
			fmt.Printf("CLI output: %s\n", cliErr.Output)
			
		default:
			fmt.Printf("Unexpected error: %v\n", err)
		}
		return
	}
	
	fmt.Println(result.Output)
}</code></pre>

          <h2>Integration Examples</h2>
          
          <h3>HTTP Server with Gin</h3>
          <pre class="syntax-highlighted" data-language="go"><code>package main

import (
	"context"
	"net/http"

	"github.com/gin-gonic/gin"
	copilot "github.com/github/copilot-sdk/go"
)

var client *copilot.Client

type AgentRequest struct {
	Prompt string `json:"prompt" binding:"required"`
	Model  string `json:"model"`
}

func main() {
	var err error
	client, err = copilot.NewClient()
	if err != nil {
		panic(err)
	}
	defer client.Close()
	
	r := gin.Default()
	
	r.POST("/api/agent", func(c *gin.Context) {
		var req AgentRequest
		if err := c.ShouldBindJSON(&req); err != nil {
			c.JSON(http.StatusBadRequest, gin.H{"error": err.Error()})
			return
		}
		
		ctx := context.Background()
		result, err := client.RunAgent(ctx, &copilot.AgentRequest{
			Prompt: req.Prompt,
			Model:  req.Model,
		})
		
		if err != nil {
			c.JSON(http.StatusInternalServerError, gin.H{"error": err.Error()})
			return
		}
		
		c.JSON(http.StatusOK, gin.H{
			"success":  true,
			"output":   result.Output,
			"metadata": result.Metadata,
		})
	})
	
	r.Run(":8080")
}</code></pre>

          <h3>gRPC Service</h3>
          <pre class="syntax-highlighted" data-language="go"><code>package main

import (
	"context"
	"net"

	"google.golang.org/grpc"
	copilot "github.com/github/copilot-sdk/go"
)

type AgentService struct {
	client *copilot.Client
}

func (s *AgentService) RunAgent(ctx context.Context, req *AgentRequest) (*AgentResponse, error) {
	result, err := s.client.RunAgent(ctx, &copilot.AgentRequest{
		Prompt: req.Prompt,
	})
	if err != nil {
		return nil, err
	}
	
	return &AgentResponse{
		Output: result.Output,
	}, nil
}

func main() {
	client, err := copilot.NewClient()
	if err != nil {
		panic(err)
	}
	defer client.Close()
	
	lis, err := net.Listen("tcp", ":50051")
	if err != nil {
		panic(err)
	}
	
	s := grpc.NewServer()
	// Register your service
	// RegisterAgentServiceServer(s, &AgentService{client: client})
	
	if err := s.Serve(lis); err != nil {
		panic(err)
	}
}</code></pre>

          <h2>Best Practices</h2>
          
          <h3>‚úÖ Do's</h3>
          <ul>
            <li>Always use context for cancellation and timeouts</li>
            <li>Reuse client instances (they're goroutine-safe)</li>
            <li>Handle errors explicitly with type assertions</li>
            <li>Use channels for streaming responses</li>
            <li>Leverage goroutines for concurrent requests</li>
            <li>Always defer <code>client.Close()</code></li>
          </ul>

          <h3>‚ùå Don'ts</h3>
          <ul>
            <li>Don't create a new client for every request</li>
            <li>Don't ignore context cancellation</li>
            <li>Don't forget to consume channels completely</li>
            <li>Don't use blocking operations on channels</li>
            <li>Don't share client instances across packages</li>
          </ul>

          <h2>Worker Pool Pattern</h2>
          
          <pre class="syntax-highlighted" data-language="go"><code>package main

import (
	"context"
	"fmt"
	"sync"

	copilot "github.com/github/copilot-sdk/go"
)

func worker(id int, jobs <-chan string, results chan<- string, client *copilot.Client) {
	for prompt := range jobs {
		ctx := context.Background()
		result, err := client.RunAgent(ctx, &copilot.AgentRequest{
			Prompt: prompt,
		})
		if err != nil {
			results <- fmt.Sprintf("Worker %d error: %v", id, err)
			continue
		}
		results <- fmt.Sprintf("Worker %d: %s", id, result.Output)
	}
}

func main() {
	client, err := copilot.NewClient()
	if err != nil {
		panic(err)
	}
	defer client.Close()
	
	jobs := make(chan string, 100)
	results := make(chan string, 100)
	
	// Start workers
	for w := 1; w <= 5; w++ {
		go worker(w, jobs, results, client)
	}
	
	// Send jobs
	prompts := []string{"Task 1", "Task 2", "Task 3", "Task 4", "Task 5"}
	for _, prompt := range prompts {
		jobs <- prompt
	}
	close(jobs)
	
	// Collect results
	for range prompts {
		fmt.Println(<-results)
	}
}</code></pre>

          <h2>Testing</h2>
          
          <pre class="syntax-highlighted" data-language="go"><code>package main

import (
	"context"
	"testing"

	"github.com/stretchr/testify/assert"
	"github.com/stretchr/testify/mock"
	copilot "github.com/github/copilot-sdk/go"
)

// MockClient for testing
type MockClient struct {
	mock.Mock
}

func (m *MockClient) RunAgent(ctx context.Context, req *copilot.AgentRequest) (*copilot.AgentResult, error) {
	args := m.Called(ctx, req)
	return args.Get(0).(*copilot.AgentResult), args.Error(1)
}

func TestAgentExecution(t *testing.T) {
	mockClient := new(MockClient)
	
	expected := &copilot.AgentResult{
		Output: "Test output",
		Metadata: map[string]interface{}{"model": "test"},
	}
	
	mockClient.On("RunAgent", mock.Anything, mock.Anything).Return(expected, nil)
	
	ctx := context.Background()
	result, err := mockClient.RunAgent(ctx, &copilot.AgentRequest{
		Prompt: "test",
	})
	
	assert.NoError(t, err)
	assert.Equal(t, "Test output", result.Output)
	mockClient.AssertExpectations(t)
}</code></pre>

          <h2>Troubleshooting</h2>
          
          <h3>Module Issues</h3>
          <pre class="syntax-highlighted" data-language="bash"><code># Update dependencies
go get -u github.com/github/copilot-sdk/go

# Clean module cache
go clean -modcache

# Verify dependencies
go mod verify</code></pre>

          <h3>CLI Not Found</h3>
          <pre class="syntax-highlighted" data-language="go"><code>// Specify CLI path explicitly
client, err := copilot.NewClient(&copilot.ClientOptions{
	CLIPath: "/usr/local/bin/copilot",
})</code></pre>

          <div class="callout">
            <strong>üìö Further Resources:</strong><br />
            ‚Ä¢ <a href="https://github.com/github/copilot-sdk/tree/main/go" target="_blank">Go SDK README</a><br />
            ‚Ä¢ <a href="https://github.com/github/copilot-sdk/tree/main/cookbook/go" target="_blank">Go Cookbook</a><br />
            ‚Ä¢ <a href="https://github.com/github/copilot-sdk/tree/main/samples" target="_blank">Sample Projects</a>
          </div>
        </section>

        <section id="core-concepts" role="article">
          <h1>üß† Core Concepts</h1>
          <span class="badge">concepts</span>
          <span class="badge">fundamentals</span>
          
          <p>Understanding the core concepts of the GitHub Copilot SDK is essential for building effective AI-powered applications. This section covers the fundamental building blocks: <strong>Agents</strong>, <strong>Skills</strong>, <strong>Tools</strong>, and <strong>Lifecycle Management</strong>.</p>

          <h2>Conceptual Model</h2>
          
          <div class="mermaid">
graph TB
    A[Agent] -->|Contains| B[Skills]
    A -->|Uses| C[Tools]
    B -->|Powered by| D[LLM]
    C -->|Provides| E[Actions]
    A -->|Manages| F[Lifecycle]
    
    subgraph "Core Components"
        A
        B
        C
        F
    end
    
    subgraph "Capabilities"
        D
        E
    end
    
    style A fill:#dbeafe
    style B fill:#dcfce7
    style C fill:#fef3c7
    style F fill:#fee2e2
    style D fill:#e9d5ff
    style E fill:#fce7f3
          </div>

          <h2>Overview</h2>
          
          <div class="row">
            <div class="col-md-6">
              <div class="card">
                <div class="card-body">
                  <h3>ü§ñ Agents</h3>
                  <p>Self-contained AI entities that execute tasks autonomously. Each agent has a specific purpose, behavior, and set of capabilities.</p>
                  <ul>
                    <li>Configurable system prompts</li>
                    <li>Model selection flexibility</li>
                    <li>Custom tool access</li>
                    <li>Behavioral constraints</li>
                  </ul>
                </div>
              </div>
            </div>
            
            <div class="col-md-6">
              <div class="card">
                <div class="card-body">
                  <h3>üéØ Skills</h3>
                  <p>Learned capabilities that agents can apply. Skills represent domain knowledge, reasoning patterns, or task-specific expertise.</p>
                  <ul>
                    <li>Code generation & analysis</li>
                    <li>Documentation creation</li>
                    <li>Testing & debugging</li>
                    <li>Architectural guidance</li>
                  </ul>
                </div>
              </div>
            </div>
          </div>

          <div class="row mt-3">
            <div class="col-md-6">
              <div class="card">
                <div class="card-body">
                  <h3>üõ†Ô∏è Tools</h3>
                  <p>Concrete actions agents can perform to interact with external systems. Tools provide the bridge between AI reasoning and real-world effects.</p>
                  <ul>
                    <li>File system operations</li>
                    <li>Git commands</li>
                    <li>API calls</li>
                    <li>Custom integrations</li>
                  </ul>
                </div>
              </div>
            </div>
            
            <div class="col-md-6">
              <div class="card">
                <div class="card-body">
                  <h3>‚ôªÔ∏è Lifecycle</h3>
                  <p>Management of agent processes from creation to termination. Proper lifecycle handling ensures resource efficiency and reliability.</p>
                  <ul>
                    <li>Initialization & startup</li>
                    <li>Connection management</li>
                    <li>Request processing</li>
                    <li>Cleanup & shutdown</li>
                  </ul>
                </div>
              </div>
            </div>
          </div>

          <h2>Relationships Between Concepts</h2>
          
          <div class="mermaid">
            %%{ init: { 'theme': 'base', 'themeVariables': { 'primaryColor': '#dbeafe', 'secondaryColor': '#fef3c7', 'tertiaryColor': '#e9d5ff', 'lineColor': '#000000', 'textColor': '#000000' } } }%%
sequenceDiagram
    participant App as Your Application
    participant SDK as SDK Client
    participant Agent as Agent
    participant Skill as Skills
    participant Tool as Tools
    participant CLI as CLI Backend
    
    App->>SDK: Initialize (Lifecycle Start)
    SDK->>CLI: Start process
    CLI-->>SDK: Ready
    
    App->>SDK: Run Agent with task
    SDK->>Agent: Activate
    Agent->>Skill: Apply reasoning
    Skill->>Agent: Generate plan
    
    loop Execute plan steps
        Agent->>Tool: Invoke action
        Tool->>CLI: Execute
        CLI-->>Tool: Result
        Tool-->>Agent: Feedback
        Agent->>Skill: Adapt based on feedback
    end
    
    Agent-->>SDK: Task complete
    SDK-->>App: Result
    
    App->>SDK: Shutdown (Lifecycle End)
    SDK->>CLI: Terminate
          </div>

          <h2>Key Principles</h2>
          
          <h3>üé≠ Separation of Concerns</h3>
          <p>Each concept has a distinct responsibility:</p>
          <ul>
            <li><strong>Agents</strong> orchestrate and make decisions</li>
            <li><strong>Skills</strong> provide reasoning and knowledge</li>
            <li><strong>Tools</strong> execute concrete actions</li>
            <li><strong>Lifecycle</strong> manages resources and state</li>
          </ul>

          <h3>üîß Composability</h3>
          <p>Mix and match components to create tailored solutions:</p>
          <pre class="syntax-highlighted" data-language="javascript"><code>// Compose custom agent with specific skills and tools
const codeReviewAgent = new CopilotAgent({
  name: 'code-reviewer',
  skills: ['code-analysis', 'best-practices', 'security-scanning'],
  tools: ['fs.read', 'git.diff', 'linter.run'],
  systemPrompt: 'Review code for quality and security issues'
});</code></pre>

          <h3>üîÑ Flexibility</h3>
          <p>Adapt behavior through configuration rather than code changes:</p>
          <ul>
            <li>Switch models without changing application logic</li>
            <li>Enable/disable tools based on permissions</li>
            <li>Customize agent behavior via system prompts</li>
            <li>Control lifecycle based on deployment needs</li>
          </ul>

          <h2>Hierarchy and Abstraction</h2>
          
          <div class="mermaid">
graph TD
    A[Application Layer] -->|Uses| B[SDK Client]
    B -->|Creates| C[Agent Instances]
    C -->|Applies| D[Skills]
    C -->|Invokes| E[Tools]
    D -->|Powered by| F[LLM Models]
    E -->|Executed by| G[CLI Backend]
    B -->|Manages| H[Process Lifecycle]
    H -->|Controls| G
    
    style A fill:#dbeafe
    style B fill:#dcfce7
    style C fill:#fef3c7
    style D fill:#fee2e2
    style E fill:#e9d5ff
    style F fill:#fce7f3
    style G fill:#fce4ec
    style H fill:#e0f2fe
          </div>

          <h2>Practical Example</h2>
          
          <p>Here's how the concepts work together in a real-world scenario:</p>
          
          <pre class="syntax-highlighted" data-language="javascript"><code>// 1. LIFECYCLE: Initialize SDK client
const client = new CopilotClient();

// 2. AGENT: Define a specialized agent
const agent = {
  name: 'api-generator',
  description: 'Creates RESTful API endpoints',
  
  // SKILLS: Embedded knowledge
  systemPrompt: `
    You are an API design expert.
    Create RESTful endpoints following:
    - OpenAPI 3.0 specification
    - SOLID principles
    - Security best practices
  `,
  
  // TOOLS: Available actions
  tools: [
    'fs.write',    // Create files
    'git.commit',  // Version control
    'npm.run'      // Run tests
  ]
};

// 3. Execute with all concepts working together
const result = await client.runAgent({
  agent: agent,
  prompt: 'Create a user management API with CRUD operations'
});

console.log(result.output);

// 4. LIFECYCLE: Clean shutdown
await client.close();</code></pre>

          <h2>Benefits of This Architecture</h2>
          
          <div class="row">
            <div class="col-md-4">
              <h4>üéØ Modularity</h4>
              <p>Each concept can evolve independently without breaking others</p>
            </div>
            
            <div class="col-md-4">
              <h4>üîç Testability</h4>
              <p>Mock individual components to test specific behaviors</p>
            </div>
            
            <div class="col-md-4">
              <h4>üìà Scalability</h4>
              <p>Add new skills and tools without changing core architecture</p>
            </div>
          </div>

          <div class="callout mt-3">
            <strong>üí° Next Steps:</strong><br />
            Dive deeper into each concept by exploring the dedicated sections below. Start with <strong>Agents</strong> to understand how to configure AI behavior, then move to <strong>Skills</strong> and <strong>Tools</strong> to see what capabilities are available.
          </div>
        </section>

        <section id="concept-agents" role="article">
          <h1>ü§ñ Agents</h1>
          <span class="badge">agents</span>
          <span class="badge">ai</span>
          
          <p>Agents are autonomous AI entities that understand tasks, plan approaches, and execute actions to achieve goals. They combine language model intelligence with tool access to perform complex, multi-step operations.</p>

          <h2>What is an Agent?</h2>
          
          <p>An agent is more than a simple chatbot‚Äîit's an intelligent system that can:</p>
          <ul>
            <li><strong>Understand Context:</strong> Parse user intent from natural language</li>
            <li><strong>Plan Actions:</strong> Break down complex tasks into steps</li>
            <li><strong>Use Tools:</strong> Execute operations on files, APIs, and systems</li>
            <li><strong>Adapt Behavior:</strong> Learn from feedback and adjust approaches</li>
            <li><strong>Maintain State:</strong> Track progress across multi-step operations</li>
          </ul>

          <h2>Agent Architecture</h2>
          
          <div class="mermaid">
graph TB
    subgraph "Agent Core"
        A[System Prompt] -->|Defines| B[Behavior]
        C[LLM Model] -->|Powers| B
        D[Tool Registry] -->|Available to| B
    end
    
    B -->|Processes| E[User Input]
    E -->|Generates| F[Plan]
    F -->|Executes| G[Tool Calls]
    G -->|Produces| H[Results]
    H -->|Feeds back to| B
    
    style A fill:#dbeafe
    style C fill:#dcfce7
    style D fill:#fef3c7
    style B fill:#fee2e2
    style F fill:#e9d5ff
    style G fill:#fce7f3
          </div>

          <h2>Agent Components</h2>
          
          <h3>1Ô∏è‚É£ Name</h3>
          <p>A unique identifier for the agent:</p>
          <pre class="syntax-highlighted" data-language="javascript"><code>const agent = {
  name: 'code-reviewer',
  // ...
};</code></pre>

          <h3>2Ô∏è‚É£ Description</h3>
          <p>Human-readable explanation of the agent's purpose:</p>
          <pre class="syntax-highlighted" data-language="javascript"><code>const agent = {
  name: 'code-reviewer',
  description: 'Analyzes code for quality, security, and best practices',
  // ...
};</code></pre>

          <h3>3Ô∏è‚É£ System Prompt</h3>
          <p>Instructions that define the agent's behavior and expertise:</p>
          <pre class="syntax-highlighted" data-language="javascript"><code>const agent = {
  name: 'code-reviewer',
  systemPrompt: `
    You are an expert code reviewer with deep knowledge of:
    - Software engineering best practices
    - Security vulnerabilities (OWASP Top 10)
    - Performance optimization
    - Code maintainability
    
    When reviewing code:
    1. Identify bugs and logical errors
    2. Flag security vulnerabilities
    3. Suggest performance improvements
    4. Check for code smells
    5. Provide constructive, actionable feedback
    
    Always explain WHY something is an issue, not just WHAT is wrong.
  `,
  // ...
};</code></pre>

          <h3>4Ô∏è‚É£ Tools</h3>
          <p>List of tools the agent can access:</p>
          <pre class="syntax-highlighted" data-language="javascript"><code>const agent = {
  name: 'code-reviewer',
  tools: [
    'fs.read',      // Read source files
    'git.diff',     // Compare versions
    'grep.search'   // Find patterns
  ],
  // ...
};</code></pre>

          <h3>5Ô∏è‚É£ Model</h3>
          <p>The LLM model powering the agent:</p>
          <pre class="syntax-highlighted" data-language="javascript"><code>const agent = {
  name: 'code-reviewer',
  model: 'claude-sonnet-4.5',  // or 'gpt-4', 'gpt-3.5-turbo'
  // ...
};</code></pre>

          <h2>Agent Types</h2>
          
          <h3>üî∑ Default Agent</h3>
          <p>General-purpose agent with broad capabilities:</p>
          <pre class="syntax-highlighted" data-language="typescript"><code>// Uses default agent
const result = await client.runAgent('Explain how JWT works');</code></pre>

          <h3>üî∂ Custom Agent</h3>
          <p>Specialized agent with specific behavior:</p>
          <pre class="syntax-highlighted" data-language="typescript"><code>const securityAuditor = {
  name: 'security-auditor',
  description: 'Identifies security vulnerabilities',
  systemPrompt: `
    You are a security expert specializing in:
    - OWASP Top 10 vulnerabilities
    - Secure coding practices
    - Authentication & authorization
    - Encryption and data protection
  `,
  tools: ['fs.read', 'grep.search'],
  model: 'claude-sonnet-4.5'
};

const result = await client.runAgent({
  agent: securityAuditor,
  prompt: 'Audit this codebase for security issues'
});</code></pre>

          <h2>Agent Execution Flow</h2>
          
          <div class="mermaid">
sequenceDiagram
    participant U as User
    participant S as SDK
    participant A as Agent
    participant LLM as Language Model
    participant T as Tools
    
    U->>S: runAgent(prompt)
    S->>A: Initialize with config
    A->>LLM: System prompt + user prompt
    
    loop Planning & Execution
        LLM->>A: Generate plan
        A->>LLM: Request tool use
        LLM->>A: Tool call specification
        A->>T: Execute tool
        T-->>A: Tool result
        A->>LLM: Tool result feedback
        LLM->>A: Adapt plan
    end
    
    A->>LLM: Synthesize final response
    LLM-->>A: Structured output
    A-->>S: Return result
    S-->>U: Display output
          </div>

          <h2>Agent Best Practices</h2>
          
          <h3>‚úÖ Writing Effective System Prompts</h3>
          <ul>
            <li><strong>Be Specific:</strong> Clearly define the agent's role and expertise</li>
            <li><strong>Provide Context:</strong> Include domain knowledge and constraints</li>
            <li><strong>Set Expectations:</strong> Specify output format and quality standards</li>
            <li><strong>Include Examples:</strong> Show desired behavior patterns</li>
            <li><strong>Define Boundaries:</strong> Clarify what the agent should NOT do</li>
          </ul>

          <h3>üéØ Example: Well-Crafted System Prompt</h3>
          <pre class="syntax-highlighted" data-language="javascript"><code>const technicalWriter = {
  name: 'technical-writer',
  systemPrompt: `
    # Role
    You are a senior technical writer specializing in developer documentation.
    
    # Expertise
    - API documentation (OpenAPI, REST, GraphQL)
    - Code examples and tutorials
    - Architecture diagrams
    - README files and guides
    
    # Guidelines
    1. Write for developers with intermediate experience
    2. Include code examples in multiple languages when relevant
    3. Use clear, concise language avoiding jargon
    4. Structure content with headers, lists, and code blocks
    5. Always include practical, runnable examples
    
    # Output Format
    - Use Markdown formatting
    - Include code language identifiers
    - Add inline comments to explain complex code
    - Provide "Why" explanations, not just "How"
    
    # Constraints
    - Do not assume prior knowledge of proprietary systems
    - Avoid marketing language‚Äîfocus on technical accuracy
    - Keep paragraphs under 4 sentences
  `,
  tools: ['fs.read', 'fs.write', 'grep.search'],
  model: 'claude-sonnet-4.5'
};</code></pre>

          <h3>üîí Tool Permissions</h3>
          <p>Grant only necessary tool access:</p>
          <pre class="syntax-highlighted" data-language="javascript"><code>// ‚ùå Too permissive
const agent = {
  tools: ['all']  // Grants access to ALL tools
};

// ‚úÖ Principle of least privilege
const agent = {
  tools: [
    'fs.read',     // Can read files
    'git.status'   // Can check git status
    // Cannot write files or commit changes
  ]
};</code></pre>

          <h2>Common Agent Patterns</h2>
          
          <h3>Pattern 1: Code Generation Agent</h3>
          <pre class="syntax-highlighted" data-language="typescript"><code>const codeGenerator = {
  name: 'code-generator',
  systemPrompt: `
    Generate production-ready code following:
    - SOLID principles
    - Language-specific idioms
    - Comprehensive error handling
    - Unit test coverage
  `,
  tools: ['fs.write', 'npm.install'],
  model: 'claude-sonnet-4.5'
};</code></pre>

          <h3>Pattern 2: Documentation Agent</h3>
          <pre class="syntax-highlighted" data-language="typescript"><code>const docAgent = {
  name: 'doc-generator',
  systemPrompt: `
    Create comprehensive documentation including:
    - API reference with all endpoints
    - Code examples in multiple languages
    - Common use cases and patterns
    - Troubleshooting guides
  `,
  tools: ['fs.read', 'fs.write', 'grep.search'],
  model: 'gpt-4'
};</code></pre>

          <h3>Pattern 3: Testing Agent</h3>
          <pre class="syntax-highlighted" data-language="typescript"><code>const testAgent = {
  name: 'test-generator',
  systemPrompt: `
    Generate comprehensive test suites:
    - Unit tests for all functions
    - Integration tests for APIs
    - Edge cases and error scenarios
    - Mock external dependencies
  `,
  tools: ['fs.read', 'fs.write', 'npm.run'],
  model: 'gpt-4'
};</code></pre>

          <h2>Agent Composition</h2>
          
          <p>Combine multiple agents for complex workflows:</p>
          <pre class="syntax-highlighted" data-language="typescript"><code>// Multi-agent workflow
const agents = {
  architect: {
    name: 'architect',
    systemPrompt: 'Design system architecture',
    tools: ['fs.read']
  },
  developer: {
    name: 'developer',
    systemPrompt: 'Implement code from specifications',
    tools: ['fs.write', 'npm.install']
  },
  reviewer: {
    name: 'reviewer',
    systemPrompt: 'Review code for quality',
    tools: ['fs.read', 'git.diff']
  }
};

// Execute pipeline
const design = await client.runAgent({
  agent: agents.architect,
  prompt: 'Design a REST API for user management'
});

const code = await client.runAgent({
  agent: agents.developer,
  prompt: `Implement this design:\n${design.output}`
});

const review = await client.runAgent({
  agent: agents.reviewer,
  prompt: 'Review the implemented code'
});</code></pre>

          <h2>Model Selection Guidance</h2>
          
          <table class="table">
            <thead>
              <tr>
                <th>Model</th>
                <th>Best For</th>
                <th>Strengths</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>claude-sonnet-4.5</code></td>
                <td>Code generation, analysis</td>
                <td>Technical accuracy, reasoning, large context</td>
              </tr>
              <tr>
                <td><code>gpt-4</code></td>
                <td>General tasks, creativity</td>
                <td>Broad knowledge, versatility</td>
              </tr>
              <tr>
                <td><code>gpt-3.5-turbo</code></td>
                <td>Simple tasks, high volume</td>
                <td>Fast, cost-effective</td>
              </tr>
            </tbody>
          </table>

          <div class="callout">
            <strong>üí° Key Takeaways:</strong><br />
            ‚Ä¢ Agents are autonomous AI entities that plan and execute tasks<br />
            ‚Ä¢ System prompts define agent behavior and expertise<br />
            ‚Ä¢ Tool access should follow the principle of least privilege<br />
            ‚Ä¢ Compose multiple specialized agents for complex workflows<br />
            ‚Ä¢ Choose models based on task complexity and requirements
          </div>
        </section>

        <section id="concept-skills" role="article">
          <h1>üéØ Skills</h1>
          <span class="badge">skills</span>
          <span class="badge">capabilities</span>
          
          <p>Skills represent the learned capabilities and domain expertise that agents apply to solve problems. Unlike tools (which are concrete actions), skills are cognitive abilities embedded in the agent's reasoning process through model training and system prompts.</p>

          <h2>What are Skills?</h2>
          
          <p>Skills are the "knowledge" and "reasoning patterns" that allow agents to:</p>
          <ul>
            <li><strong>Understand Domain Context:</strong> Apply specialized knowledge (e.g., security, architecture, testing)</li>
            <li><strong>Follow Best Practices:</strong> Adhere to industry standards and conventions</li>
            <li><strong>Reason About Problems:</strong> Break down complex tasks into logical steps</li>
            <li><strong>Generate Quality Output:</strong> Produce code, documentation, or solutions that meet standards</li>
            <li><strong>Adapt to Feedback:</strong> Learn from tool results and adjust approaches</li>
          </ul>

          <h2>Skills vs. Tools</h2>
          
          <table class="table">
            <thead>
              <tr>
                <th>Aspect</th>
                <th>Skills üéØ</th>
                <th>Tools üõ†Ô∏è</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>Nature</strong></td>
                <td>Cognitive/reasoning abilities</td>
                <td>Concrete actions/operations</td>
              </tr>
              <tr>
                <td><strong>Source</strong></td>
                <td>Model training + system prompts</td>
                <td>CLI functions and integrations</td>
              </tr>
              <tr>
                <td><strong>Examples</strong></td>
                <td>Code review, architecture design, debugging logic</td>
                <td>fs.read, git.commit, npm.install</td>
              </tr>
              <tr>
                <td><strong>Customization</strong></td>
                <td>Via system prompts and examples</td>
                <td>Via tool configuration and permissions</td>
              </tr>
              <tr>
                <td><strong>Execution</strong></td>
                <td>By the language model</td>
                <td>By the CLI backend</td>
              </tr>
            </tbody>
          </table>

          <h2>Categories of Skills</h2>
          
          <h3>1. üíª Code-Related Skills</h3>
          
          <h4>Code Generation</h4>
          <ul>
            <li>Writing idiomatic code in specific languages</li>
            <li>Following framework conventions (React, Express, Django)</li>
            <li>Implementing design patterns</li>
            <li>Generating boilerplate and scaffolding</li>
          </ul>
          
          <pre class="syntax-highlighted" data-language="javascript"><code>// Agent with code generation skills
const codeGen = {
  name: 'code-generator',
  systemPrompt: `
    You are an expert programmer skilled in:
    - Writing clean, maintainable code
    - Following language-specific idioms
    - Implementing SOLID principles
    - Adding comprehensive error handling
    - Including JSDoc/docstring comments
  `
};</code></pre>

          <h4>Code Review</h4>
          <ul>
            <li>Identifying bugs and logic errors</li>
            <li>Spotting code smells</li>
            <li>Checking for security vulnerabilities</li>
            <li>Evaluating performance implications</li>
            <li>Assessing maintainability</li>
          </ul>

          <h4>Refactoring</h4>
          <ul>
            <li>Improving code structure without changing behavior</li>
            <li>Extracting reusable components</li>
            <li>Simplifying complex logic</li>
            <li>Optimizing performance</li>
          </ul>

          <h3>2. üèóÔ∏è Architecture Skills</h3>
          
          <ul>
            <li><strong>System Design:</strong> High-level architecture planning</li>
            <li><strong>Pattern Selection:</strong> Choosing appropriate design patterns</li>
            <li><strong>Scalability Planning:</strong> Designing for growth</li>
            <li><strong>Technology Selection:</strong> Recommending frameworks and tools</li>
          </ul>
          
          <pre class="syntax-highlighted" data-language="javascript"><code>const architect = {
  name: 'solution-architect',
  systemPrompt: `
    You are a solutions architect skilled in:
    - Microservices architecture
    - Event-driven design
    - Cloud-native patterns
    - API design (REST, GraphQL, gRPC)
    - Database selection and modeling
    - Performance and scalability
  `
};</code></pre>

          <h3>3. üß™ Testing Skills</h3>
          
          <ul>
            <li><strong>Unit Testing:</strong> Testing individual functions/methods</li>
            <li><strong>Integration Testing:</strong> Testing component interactions</li>
            <li><strong>E2E Testing:</strong> Testing complete user workflows</li>
            <li><strong>Test Strategy:</strong> Planning comprehensive test coverage</li>
          </ul>

          <h3>4. üìù Documentation Skills</h3>
          
          <ul>
            <li><strong>API Documentation:</strong> OpenAPI, JSDoc, docstrings</li>
            <li><strong>User Guides:</strong> How-to articles and tutorials</li>
            <li><strong>Architecture Docs:</strong> System diagrams and explanations</li>
            <li><strong>Code Comments:</strong> Inline explanations</li>
          </ul>

          <h3>5. üîí Security Skills</h3>
          
          <ul>
            <li><strong>Vulnerability Detection:</strong> OWASP Top 10 awareness</li>
            <li><strong>Secure Coding:</strong> Input validation, sanitization</li>
            <li><strong>Auth/AuthZ:</strong> Authentication and authorization patterns</li>
            <li><strong>Encryption:</strong> Data protection strategies</li>
          </ul>

          <h2>Skill Composition</h2>
          
          <div class="mermaid">
graph TD
    A[Agent] -->|Combines| B[Multiple Skills]
    B --> C[Code Generation]
    B --> D[Security Awareness]
    B --> E[Best Practices]
    B --> F[Testing Strategy]
    
    C -->|Applied to| G[Task]
    D -->|Applied to| G
    E -->|Applied to| G
    F -->|Applied to| G
    
    G -->|Produces| H[High-Quality Output]
    
    style A fill:#dbeafe
    style B fill:#dcfce7
    style G fill:#fef3c7
    style H fill:#fee2e2
          </div>

          <h2>Teaching Skills to Agents</h2>
          
          <h3>Method 1: System Prompts</h3>
          <p>Define expertise and behaviors explicitly:</p>
          <pre class="syntax-highlighted" data-language="javascript"><code>const agent = {
  systemPrompt: `
    You are an expert in API design with these skills:
    
    1. RESTful Design:
       - Use proper HTTP verbs (GET, POST, PUT, DELETE)
       - Design resource-oriented URLs
       - Return appropriate status codes
       - Include pagination for collections
    
    2. Security:
       - Always validate input
       - Use authentication tokens
       - Implement rate limiting
       - Follow OWASP guidelines
    
    3. Documentation:
       - Generate OpenAPI/Swagger specs
       - Include request/response examples
       - Document error responses
  `
};</code></pre>

          <h3>Method 2: Examples (Few-Shot Learning)</h3>
          <p>Provide examples of desired output:</p>
          <pre class="syntax-highlighted" data-language="javascript"><code>const agent = {
  systemPrompt: `
    When generating API endpoints, follow this pattern:
    
    Example 1: User Listing
    GET /api/users
    Response: {
      "data": [...],
      "pagination": { "page": 1, "total": 100 },
      "meta": { "timestamp": "..." }
    }
    
    Example 2: User Creation
    POST /api/users
    Request: { "email": "...", "name": "..." }
    Response: {
      "data": { "id": 123, ... },
      "message": "User created successfully"
    }
    
    Always follow this structure for consistency.
  `
};</code></pre>

          <h3>Method 3: Constraints and Guidelines</h3>
          <p>Set boundaries and requirements:</p>
          <pre class="syntax-highlighted" data-language="javascript"><code>const agent = {
  systemPrompt: `
    Constraints:
    - Maximum function length: 50 lines
    - Maximum cyclomatic complexity: 10
    - Required test coverage: 80%
    - All functions must have type annotations
    - All public APIs must have documentation
    
    If you cannot meet these constraints, explain why and suggest alternatives.
  `
};</code></pre>

          <h2>Skill Evolution</h2>
          
          <p>Skills improve through:</p>
          
          <h3>üîÑ Feedback Loops</h3>
          <pre class="syntax-highlighted" data-language="javascript"><code>// Agents learn from tool results
const result = await client.runAgent({
  agent: testAgent,
  prompt: 'Write tests for the UserService class'
});

// If tests fail, agent adapts approach
await client.runAgent({
  agent: testAgent,
  prompt: `The tests failed with these errors: ${errors}. Fix them.`
});</code></pre>

          <h3>üìä Performance Monitoring</h3>
          <p>Track skill effectiveness:</p>
          <ul>
            <li>Code quality metrics (linting scores, complexity)</li>
            <li>Test pass rates</li>
            <li>Review feedback</li>
            <li>User satisfaction</li>
          </ul>

          <h2>Domain-Specific Skills</h2>
          
          <h3>Web Development</h3>
          <pre class="syntax-highlighted" data-language="javascript"><code>const webDev = {
  systemPrompt: `
    Skills:
    - React component design (hooks, composition)
    - State management (Redux, Context)
    - Responsive design (mobile-first)
    - Accessibility (WCAG 2.1 compliance)
    - Performance optimization (code splitting, lazy loading)
  `
};</code></pre>

          <h3>Data Engineering</h3>
          <pre class="syntax-highlighted" data-language="javascript"><code>const dataEngineer = {
  systemPrompt: `
    Skills:
    - ETL pipeline design
    - SQL optimization
    - Data modeling (star schema, snowflake)
    - Stream processing (Kafka, Kinesis)
    - Data quality validation
  `
};</code></pre>

          <h3>DevOps</h3>
          <pre class="syntax-highlighted" data-language="javascript"><code>const devOps = {
  systemPrompt: `
    Skills:
    - CI/CD pipeline configuration
    - Infrastructure as Code (Terraform, CloudFormation)
    - Container orchestration (Kubernetes, Docker)
    - Monitoring and alerting
    - Security hardening
  `
};</code></pre>

          <h2>Measuring Skill Effectiveness</h2>
          
          <table class="table">
            <thead>
              <tr>
                <th>Skill Category</th>
                <th>Success Metrics</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Code Generation</td>
                <td>Compile success rate, linting score, test pass rate</td>
              </tr>
              <tr>
                <td>Code Review</td>
                <td>Bug detection rate, false positive rate</td>
              </tr>
              <tr>
                <td>Documentation</td>
                <td>Completeness, clarity, accuracy</td>
              </tr>
              <tr>
                <td>Testing</td>
                <td>Code coverage, test reliability, edge case coverage</td>
              </tr>
              <tr>
                <td>Architecture</td>
                <td>Scalability, maintainability, performance</td>
              </tr>
            </tbody>
          </table>

          <h2>Skill Limitations</h2>
          
          <div class="callout">
            <strong>‚ö†Ô∏è Important:</strong> Skills are limited by:
            <ul>
              <li><strong>Model Training Data:</strong> Knowledge cutoff dates</li>
              <li><strong>Context Window:</strong> Amount of code/context the model can process</li>
              <li><strong>Domain Specificity:</strong> Proprietary systems may not be well-understood</li>
              <li><strong>Determinism:</strong> AI outputs can vary between runs</li>
            </ul>
            Always validate AI-generated output, especially for critical systems.
          </div>

          <h2>Best Practices</h2>
          
          <h3>‚úÖ Do's</h3>
          <ul>
            <li>Clearly define skill boundaries in system prompts</li>
            <li>Provide concrete examples of desired output</li>
            <li>Combine complementary skills (e.g., code gen + testing)</li>
            <li>Validate skill output with automated checks</li>
            <li>Update prompts based on performance feedback</li>
          </ul>

          <h3>‚ùå Don'ts</h3>
          <ul>
            <li>Don't expect perfect output‚Äîalways review</li>
            <li>Don't overload agents with too many conflicting skills</li>
            <li>Don't assume knowledge of proprietary/internal systems</li>
            <li>Don't skip validation even for "simple" tasks</li>
          </ul>

          <div class="callout">
            <strong>üí° Key Takeaways:</strong><br />
            ‚Ä¢ Skills are cognitive abilities defined through system prompts<br />
            ‚Ä¢ Different from tools: skills are "thinking," tools are "doing"<br />
            ‚Ä¢ Combine multiple skills for comprehensive task execution<br />
            ‚Ä¢ Teach skills through clear prompts, examples, and constraints<br />
            ‚Ä¢ Always validate skill output with automated checks
          </div>
        </section>

        <section id="concept-tools" role="article">
          <h1>üõ†Ô∏è Tools</h1>
          <span class="badge">tools</span>
          <span class="badge">functions</span>
          
          <p>Tools are concrete actions that agents can execute to interact with external systems. They provide the bridge between AI reasoning (skills) and real-world effects, enabling agents to read files, execute commands, make API calls, and modify systems.</p>

          <h2>What are Tools?</h2>
          
          <p>Tools are executable functions that allow agents to:</p>
          <ul>
            <li><strong>Read Information:</strong> Access files, databases, APIs</li>
            <li><strong>Modify State:</strong> Write files, commit code, deploy apps</li>
            <li><strong>Execute Commands:</strong> Run scripts, tests, builds</li>
            <li><strong>Interact with Systems:</strong> Git, npm, Docker, cloud services</li>
            <li><strong>Gather Context:</strong> Search code, check status, query data</li>
          </ul>

          <h2>Tool Architecture</h2>
          
          <div class="mermaid">
sequenceDiagram
    participant A as Agent
    participant SDK as SDK
    participant CLI as CLI Backend
    participant T as Tool (e.g., fs.read)
    participant S as System
    
    A->>SDK: Decide to use tool
    SDK->>CLI: JSON-RPC: invoke tool
    CLI->>T: Execute
    T->>S: Perform action
    S-->>T: Result
    T-->>CLI: Success/Error
    CLI-->>SDK: Tool result
    SDK-->>A: Feedback for next step
          </div>

          <h2>Built-in Tools</h2>
          
          <h3>üìÅ File System Tools</h3>
          
          <table class="table">
            <thead>
              <tr>
                <th>Tool</th>
                <th>Description</th>
                <th>Example Use Case</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>fs.read</code></td>
                <td>Read file contents</td>
                <td>Analyze source code</td>
              </tr>
              <tr>
                <td><code>fs.write</code></td>
                <td>Write/create files</td>
                <td>Generate new components</td>
              </tr>
              <tr>
                <td><code>fs.list</code></td>
                <td>List directory contents</td>
                <td>Explore project structure</td>
              </tr>
              <tr>
                <td><code>fs.delete</code></td>
                <td>Delete files</td>
                <td>Clean up temporary files</td>
              </tr>
              <tr>
                <td><code>fs.move</code></td>
                <td>Move/rename files</td>
                <td>Refactor file locations</td>
              </tr>
            </tbody>
          </table>

          <h3>üîç Search Tools</h3>
          
          <table class="table">
            <thead>
              <tr>
                <th>Tool</th>
                <th>Description</th>
                <th>Example Use Case</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>grep.search</code></td>
                <td>Search file contents</td>
                <td>Find function definitions</td>
              </tr>
              <tr>
                <td><code>grep.replace</code></td>
                <td>Search and replace text</td>
                <td>Refactor variable names</td>
              </tr>
            </tbody>
          </table>

          <h3>üåø Git Tools</h3>
          
          <table class="table">
            <thead>
              <tr>
                <th>Tool</th>
                <th>Description</th>
                <th>Example Use Case</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>git.status</code></td>
                <td>Check repository status</td>
                <td>See modified files</td>
              </tr>
              <tr>
                <td><code>git.diff</code></td>
                <td>View changes</td>
                <td>Review modifications</td>
              </tr>
              <tr>
                <td><code>git.commit</code></td>
                <td>Commit changes</td>
                <td>Save work with message</td>
              </tr>
              <tr>
                <td><code>git.branch</code></td>
                <td>Manage branches</td>
                <td>Create feature branches</td>
              </tr>
              <tr>
                <td><code>git.log</code></td>
                <td>View commit history</td>
                <td>Track changes</td>
              </tr>
            </tbody>
          </table>

          <h3>üì¶ Package Manager Tools</h3>
          
          <table class="table">
            <thead>
              <tr>
                <th>Tool</th>
                <th>Description</th>
                <th>Example Use Case</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>npm.install</code></td>
                <td>Install npm packages</td>
                <td>Add dependencies</td>
              </tr>
              <tr>
                <td><code>npm.run</code></td>
                <td>Run npm scripts</td>
                <td>Execute tests, builds</td>
              </tr>
              <tr>
                <td><code>pip.install</code></td>
                <td>Install Python packages</td>
                <td>Add Python dependencies</td>
              </tr>
            </tbody>
          </table>

          <h2>Tool Permissions</h2>
          
          <h3>Permission Levels</h3>
          
          <pre class="syntax-highlighted" data-language="javascript"><code>// 1. All tools enabled (‚ö†Ô∏è Use with caution)
const client = new CopilotClient({
  tools: ['all']
});

// 2. Specific tools only (‚úÖ Recommended)
const client = new CopilotClient({
  tools: [
    'fs.read',      // Read-only file access
    'git.status',   // View git status
    'grep.search'   // Search capabilities
  ]
});

// 3. No tools (limited capability)
const client = new CopilotClient({
  tools: []
});</code></pre>

          <h3>Tool Approval Workflow</h3>
          
          <p>Require manual approval for sensitive operations:</p>
          <pre class="syntax-highlighted" data-language="typescript"><code>const client = new CopilotClient({
  requireToolApproval: true,
  tools: ['fs.write', 'git.commit']
});

// Agent requests tool use
client.on('toolApprovalRequired', async (request) => {
  console.log(`Tool: ${request.tool}`);
  console.log(`Action: ${request.description}`);
  console.log(`Details: ${JSON.stringify(request.details)}`);
  
  // Show user prompt
  const approved = await promptUser('Approve this action?');
  
  if (approved) {
    await client.approveTool(request.taskId, request.tool);
  } else {
    await client.denyTool(request.taskId, request.tool);
  }
});

const result = await client.runAgent(
  'Create a new React component and commit it'
);</code></pre>

          <h2>Tool Usage Patterns</h2>
          
          <h3>Pattern 1: Read-Analyze-Write</h3>
          <pre class="syntax-highlighted" data-language="javascript"><code>const agent = {
  name: 'refactoring-agent',
  tools: [
    'fs.read',    // Read source code
    'fs.write'    // Write refactored code
  ],
  systemPrompt: `
    1. Read the specified file
    2. Analyze code quality and structure
    3. Refactor to improve maintainability
    4. Write the improved code back
  `
};</code></pre>

          <h3>Pattern 2: Search-Modify-Commit</h3>
          <pre class="syntax-highlighted" data-language="javascript"><code>const agent = {
  name: 'bulk-update-agent',
  tools: [
    'grep.search',    // Find all occurrences
    'grep.replace',   // Replace across files
    'git.status',     // Check changes
    'git.commit'      // Commit updates
  ],
  systemPrompt: `
    1. Search for pattern across codebase
    2. Replace with updated pattern
    3. Verify changes
    4. Commit with descriptive message
  `
};</code></pre>

          <h3>Pattern 3: Test-Fix-Verify</h3>
          <pre class="syntax-highlighted" data-language="javascript"><code>const agent = {
  name: 'test-fixer',
  tools: [
    'npm.run',        // Run tests
    'fs.read',        // Read failing tests
    'fs.write',       // Fix code
    'npm.run'         // Re-run tests
  ],
  systemPrompt: `
    1. Run test suite
    2. If tests fail, read error messages
    3. Analyze and fix the root cause
    4. Re-run tests to verify
    5. Repeat until all tests pass
  `
};</code></pre>

          <h2>Custom Tools</h2>
          
          <p>Extend the SDK with custom tools:</p>
          
          <h3>Defining Custom Tools</h3>
          <pre class="syntax-highlighted" data-language="typescript"><code>// Custom tool definition
const customTool = {
  name: 'api.query',
  description: 'Query internal API',
  parameters: {
    endpoint: { type: 'string', required: true },
    method: { type: 'string', default: 'GET' },
    body: { type: 'object', required: false }
  },
  execute: async (params) => {
    const response = await fetch(
      `https://api.internal.com${params.endpoint}`,
      {
        method: params.method,
        body: params.body ? JSON.stringify(params.body) : undefined
      }
    );
    return response.json();
  }
};

// Register with client
const client = new CopilotClient({
  customTools: [customTool]
});</code></pre>

          <h3>Use Cases for Custom Tools</h3>
          <ul>
            <li><strong>Internal APIs:</strong> Query company systems</li>
            <li><strong>Database Access:</strong> Execute SQL queries</li>
            <li><strong>Cloud Operations:</strong> Deploy to AWS/Azure</li>
            <li><strong>Monitoring:</strong> Check application health</li>
            <li><strong>Notifications:</strong> Send alerts (Slack, email)</li>
          </ul>

          <h2>Tool Execution Flow</h2>
          
          <div class="mermaid">
stateDiagram-v2
    [*] --> AgentPlanning: Agent decides tool needed
    AgentPlanning --> ToolRequest: Generate tool call
    ToolRequest --> ApprovalCheck: Check if approval required
    
    ApprovalCheck --> WaitingApproval: Yes
    ApprovalCheck --> Executing: No
    
    WaitingApproval --> Approved: User approves
    WaitingApproval --> Denied: User denies
    
    Approved --> Executing
    Denied --> AgentPlanning: Try alternative
    
    Executing --> Success: Tool succeeds
    Executing --> Error: Tool fails
    
    Success --> AgentPlanning: Continue with result
    Error --> AgentPlanning: Handle error
    
    AgentPlanning --> [*]: Task complete
          </div>

          <h2>Error Handling</h2>
          
          <h3>Tool Execution Errors</h3>
          <pre class="syntax-highlighted" data-language="typescript"><code>try {
  const result = await client.runAgent({
    agent: { tools: ['fs.write'] },
    prompt: 'Create a new file'
  });
} catch (error) {
  if (error instanceof ToolExecutionError) {
    console.error(`Tool ${error.tool} failed:`);
    console.error(`Reason: ${error.message}`);
    console.error(`Details: ${error.details}`);
    
    // Handle specific tool errors
    if (error.tool === 'fs.write') {
      // File write failed - maybe permissions?
      console.log('Check file permissions');
    }
  }
}</code></pre>

          <h3>Tool Timeout</h3>
          <pre class="syntax-highlighted" data-language="typescript"><code>const client = new CopilotClient({
  toolTimeout: 30000, // 30 seconds max per tool
  tools: ['npm.run']
});

// Long-running tools will timeout
try {
  await client.runAgent('Run the entire test suite');
} catch (error) {
  if (error instanceof ToolTimeoutError) {
    console.log('Tool execution took too long');
  }
}</code></pre>

          <h2>Security Best Practices</h2>
          
          <h3>‚úÖ Do's</h3>
          <ul>
            <li><strong>Principle of Least Privilege:</strong> Grant only necessary tools</li>
            <li><strong>Require Approval:</strong> Enable approval for write/destructive operations</li>
            <li><strong>Validate Tool Results:</strong> Don't blindly trust tool output</li>
            <li><strong>Audit Tool Usage:</strong> Log all tool invocations</li>
            <li><strong>Sandbox When Possible:</strong> Run in isolated environments</li>
          </ul>

          <h3>‚ùå Don'ts</h3>
          <ul>
            <li><strong>Don't Grant 'all' Tools:</strong> Unless absolutely necessary</li>
            <li><strong>Don't Skip Approval:</strong> For production systems</li>
            <li><strong>Don't Expose Credentials:</strong> In tool definitions</li>
            <li><strong>Don't Allow Arbitrary Commands:</strong> Restrict to safe operations</li>
          </ul>

          <h2>Tool Performance</h2>
          
          <h3>Optimization Strategies</h3>
          
          <h4>1. Batch Operations</h4>
          <pre class="syntax-highlighted" data-language="javascript"><code>// ‚ùå Inefficient: Multiple tool calls
for (const file of files) {
  await agent.runTool('fs.read', { path: file });
}

// ‚úÖ Efficient: Batch read
const agent = {
  systemPrompt: 'Read all files at once using a glob pattern'
};</code></pre>

          <h4>2. Caching</h4>
          <pre class="syntax-highlighted" data-language="javascript"><code>const client = new CopilotClient({
  toolCache: true,  // Cache tool results
  cacheTimeout: 5 * 60 * 1000  // 5 minutes
});</code></pre>

          <h4>3. Parallel Execution</h4>
          <pre class="syntax-highlighted" data-language="javascript"><code>// Allow independent tools to run in parallel
const agent = {
  systemPrompt: `
    When possible, execute independent tools in parallel.
    For example, read multiple files simultaneously.
  `
};</code></pre>

          <h2>Monitoring and Debugging</h2>
          
          <h3>Tool Usage Logs</h3>
          <pre class="syntax-highlighted" data-language="typescript"><code>const client = new CopilotClient({
  debug: true,
  onToolInvoked: (tool, params) => {
    console.log(`[TOOL] ${tool} invoked`);
    console.log(`[PARAMS] ${JSON.stringify(params)}`);
  },
  onToolCompleted: (tool, result) => {
    console.log(`[TOOL] ${tool} completed`);
    console.log(`[RESULT] ${JSON.stringify(result)}`);
  }
});</code></pre>

          <h3>Tool Metrics</h3>
          <ul>
            <li><strong>Invocation Count:</strong> How often each tool is used</li>
            <li><strong>Success Rate:</strong> Percentage of successful executions</li>
            <li><strong>Execution Time:</strong> Average duration per tool</li>
            <li><strong>Error Rate:</strong> Frequency of failures</li>
          </ul>

          <h2>Tool Categories Summary</h2>
          
          <div class="mermaid">
mindmap
  root((Tools))
    File System
      fs.read
      fs.write
      fs.list
      fs.delete
    Search
      grep.search
      grep.replace
    Git
      git.status
      git.commit
      git.diff
    Package Managers
      npm.install
      npm.run
      pip.install
    Custom
      API calls
      Database queries
      Cloud operations
          </div>

          <div class="callout">
            <strong>üí° Key Takeaways:</strong><br />
            ‚Ä¢ Tools are executable actions that interact with external systems<br />
            ‚Ä¢ Built-in tools cover file system, Git, search, and package management<br />
            ‚Ä¢ Use tool permissions to control agent capabilities<br />
            ‚Ä¢ Enable approval workflows for sensitive operations<br />
            ‚Ä¢ Custom tools extend SDK to integrate with any system<br />
            ‚Ä¢ Always follow security best practices when granting tool access
          </div>
        </section>

        <section id="concept-lifecycle" role="article">
          <h1>‚ôªÔ∏è Lifecycle Management</h1>
          <span class="badge">lifecycle</span>
          <span class="badge">process</span>
          
          <p>Lifecycle management refers to the complete process of creating, using, and terminating SDK client and CLI backend processes. Proper lifecycle handling ensures resource efficiency, reliability, and graceful error handling throughout your application's runtime.</p>

          <h2>Lifecycle Stages</h2>
          
          <div class="mermaid">
stateDiagram-v2
    [*] --> Uninitialized: Application starts
    Uninitialized --> Initializing: Create client
    Initializing --> Starting: Spawn CLI process
    Starting --> Connecting: Establish connection
    Connecting --> Ready: Handshake complete
    
    Ready --> Processing: runAgent() called
    Processing --> Ready: Task complete
    Processing --> Error: Exception occurred
    
    Error --> Ready: Recoverable error
    Error --> Terminating: Fatal error
    
    Ready --> Closing: client.close() called
    Closing --> Terminating: Cleanup
    Terminating --> Terminated: Process ended
    Terminated --> [*]
          </div>

          <h2>Stage Details</h2>
          
          <h3>1Ô∏è‚É£ Initialization</h3>
          
          <p>Creating the SDK client instance:</p>
          <pre class="syntax-highlighted" data-language="typescript"><code>import { CopilotClient } from 'copilot-sdk';

// Create client - does not start process yet
const client = new CopilotClient({
  cliPath: '/usr/local/bin/copilot',  // Optional
  timeout: 30000,                      // Request timeout
  debug: true                          // Enable logging
});

// At this point: Client object exists but CLI not started
console.log('Client initialized');</code></pre>

          <h3>2Ô∏è‚É£ Connection & Startup</h3>
          
          <p>First agent call triggers CLI process startup:</p>
          <pre class="syntax-highlighted" data-language="typescript"><code>// This triggers CLI process spawn
const result = await client.runAgent('Hello world');

// Behind the scenes:
// 1. CLI process spawned
// 2. Socket connection established
// 3. Handshake performed
// 4. Agent request sent
// 5. Response received</code></pre>

          <h3>3Ô∏è‚É£ Ready State</h3>
          
          <p>CLI process is running and ready for requests:</p>
          <pre class="syntax-highlighted" data-language="typescript"><code>// Multiple requests can be made
await client.runAgent('First task');
await client.runAgent('Second task');
await client.runAgent('Third task');

// Same CLI process handles all requests (efficient!)</code></pre>

          <h3>4Ô∏è‚É£ Processing</h3>
          
          <p>Active agent execution:</p>
          <pre class="syntax-highlighted" data-language="typescript"><code>// During processing:
// - Agent analyzes task
// - Tools are invoked
// - Responses are generated
// - Events are emitted

for await (const event of client.streamAgent('Long task')) {
  console.log(`Status: ${event.type}`);
  // EventStart, EventProgress, EventOutput, EventComplete
}</code></pre>

          <h3>5Ô∏è‚É£ Error Handling</h3>
          
          <p>Handling recoverable and fatal errors:</p>
          <pre class="syntax-highlighted" data-language="typescript"><code>try {
  await client.runAgent('Some task');
} catch (error) {
  // Recoverable errors: Client stays alive
  if (error instanceof TimeoutError) {
    console.log('Task timed out, but client still usable');
    await client.runAgent('Retry with shorter task');
  }
  
  // Fatal errors: Client should be terminated
  if (error instanceof CLIProcessError) {
    console.error('CLI crashed, need to restart');
    await client.close();
    // Create new client
  }
}</code></pre>

          <h3>6Ô∏è‚É£ Cleanup & Termination</h3>
          
          <p>Gracefully shutting down:</p>
          <pre class="syntax-highlighted" data-language="typescript"><code>// Explicit cleanup
await client.close();

// Behind the scenes:
// 1. Send shutdown message to CLI
// 2. Wait for acknowledgment
// 3. Close socket connection
// 4. Terminate CLI process
// 5. Release resources</code></pre>

          <h2>Lifecycle Patterns</h2>
          
          <h3>Pattern 1: Short-Lived (Request-Scoped)</h3>
          
          <p>Create and destroy for single operation:</p>
          <pre class="syntax-highlighted" data-language="typescript"><code>async function handleRequest(req, res) {
  // Create client per request
  const client = new CopilotClient();
  
  try {
    const result = await client.runAgent(req.body.prompt);
    res.json({ output: result.output });
  } finally {
    // Always cleanup
    await client.close();
  }
}

// ‚ö†Ô∏è Inefficient: Spawns new process for each request</code></pre>

          <h3>Pattern 2: Long-Lived (Application-Scoped)</h3>
          
          <p>Single client for application lifetime:</p>
          <pre class="syntax-highlighted" data-language="typescript"><code>// Singleton client
let globalClient: CopilotClient;

// Initialize on app startup
async function initializeApp() {
  globalClient = new CopilotClient();
  console.log('Copilot client ready');
}

// Use throughout application
async function handleRequest(req, res) {
  const result = await globalClient.runAgent(req.body.prompt);
  res.json({ output: result.output });
}

// Cleanup on app shutdown
process.on('SIGTERM', async () => {
  await globalClient.close();
  process.exit(0);
});

// ‚úÖ Efficient: Reuses same CLI process</code></pre>

          <h3>Pattern 3: Pool-Based</h3>
          
          <p>Multiple clients for high concurrency:</p>
          <pre class="syntax-highlighted" data-language="typescript"><code>class CopilotPool {
  private clients: CopilotClient[] = [];
  private available: CopilotClient[] = [];
  
  constructor(size: number) {
    for (let i = 0; i < size; i++) {
      const client = new CopilotClient();
      this.clients.push(client);
      this.available.push(client);
    }
  }
  
  async acquire(): Promise<CopilotClient> {
    while (this.available.length === 0) {
      await new Promise(resolve => setTimeout(resolve, 100));
    }
    return this.available.pop()!;
  }
  
  release(client: CopilotClient) {
    this.available.push(client);
  }
  
  async closeAll() {
    await Promise.all(this.clients.map(c => c.close()));
  }
}

// Usage
const pool = new CopilotPool(5);  // 5 concurrent clients

async function handleRequest(req, res) {
  const client = await pool.acquire();
  try {
    const result = await client.runAgent(req.body.prompt);
    res.json({ output: result.output });
  } finally {
    pool.release(client);
  }
}</code></pre>

          <h2>Resource Management</h2>
          
          <h3>Memory Usage</h3>
          
          <ul>
            <li><strong>SDK Client:</strong> ~5-10 MB per instance</li>
            <li><strong>CLI Process:</strong> ~50-100 MB per process</li>
            <li><strong>LLM Context:</strong> Varies by model and request</li>
          </ul>

          <h3>Connection Handling</h3>
          
          <pre class="syntax-highlighted" data-language="typescript"><code>const client = new CopilotClient({
  // Connection timeout
  connectionTimeout: 5000,  // 5 seconds to connect
  
  // Request timeout
  requestTimeout: 30000,    // 30 seconds per request
  
  // Retry configuration
  maxRetries: 3,
  retryDelay: 1000,
  
  // Keep-alive
  keepAlive: true,
  keepAliveInterval: 30000  // Ping every 30 seconds
});</code></pre>

          <h3>Process Health Monitoring</h3>
          
          <pre class="syntax-highlighted" data-language="typescript"><code>const client = new CopilotClient({
  onProcessStart: () => {
    console.log('CLI process started');
  },
  onProcessExit: (code, signal) => {
    console.error(`CLI process exited: code=${code}, signal=${signal}`);
  },
  onProcessError: (error) => {
    console.error('CLI process error:', error);
  }
});</code></pre>

          <h2>Graceful Shutdown</h2>
          
          <h3>Best Practices</h3>
          
          <pre class="syntax-highlighted" data-language="typescript"><code>class Application {
  private client: CopilotClient;
  private isShuttingDown = false;
  
  async initialize() {
    this.client = new CopilotClient();
    
    // Register shutdown handlers
    process.on('SIGTERM', () => this.shutdown());
    process.on('SIGINT', () => this.shutdown());
    process.on('uncaughtException', (error) => {
      console.error('Uncaught exception:', error);
      this.shutdown();
    });
  }
  
  async shutdown() {
    if (this.isShuttingDown) return;
    this.isShuttingDown = true;
    
    console.log('Shutting down gracefully...');
    
    try {
      // Wait for in-flight requests (with timeout)
      await Promise.race([
        this.waitForInFlightRequests(),
        new Promise(resolve => setTimeout(resolve, 10000))  // 10s max
      ]);
      
      // Close client
      await this.client.close();
      
      console.log('Shutdown complete');
      process.exit(0);
    } catch (error) {
      console.error('Error during shutdown:', error);
      process.exit(1);
    }
  }
  
  private async waitForInFlightRequests() {
    // Implementation depends on your request tracking
  }
}</code></pre>

          <h2>Error Recovery</h2>
          
          <h3>Automatic Reconnection</h3>
          
          <pre class="syntax-highlighted" data-language="typescript"><code>class ResilientClient {
  private client: CopilotClient | null = null;
  
  async runAgent(prompt: string) {
    for (let attempt = 0; attempt < 3; attempt++) {
      try {
        if (!this.client) {
          this.client = new CopilotClient();
        }
        
        return await this.client.runAgent(prompt);
      } catch (error) {
        console.error(`Attempt ${attempt + 1} failed:`, error);
        
        // Close and retry
        await this.client?.close();
        this.client = null;
        
        if (attempt === 2) throw error;  // Give up after 3 attempts
        
        // Exponential backoff
        await new Promise(resolve => 
          setTimeout(resolve, Math.pow(2, attempt) * 1000)
        );
      }
    }
  }
  
  async close() {
    await this.client?.close();
  }
}</code></pre>

          <h2>Monitoring & Observability</h2>
          
          <h3>Lifecycle Events</h3>
          
          <pre class="syntax-highlighted" data-language="typescript"><code>const client = new CopilotClient({
  // Lifecycle events
  onInitialized: () => {
    console.log('[LIFECYCLE] Client initialized');
  },
  onConnected: () => {
    console.log('[LIFECYCLE] Connected to CLI');
  },
  onReady: () => {
    console.log('[LIFECYCLE] Client ready for requests');
  },
  onClosing: () => {
    console.log('[LIFECYCLE] Client closing...');
  },
  onClosed: () => {
    console.log('[LIFECYCLE] Client closed');
  }
});</code></pre>

          <h3>Metrics Collection</h3>
          
          <pre class="syntax-highlighted" data-language="typescript"><code>class MetricsCollector {
  private totalRequests = 0;
  private successfulRequests = 0;
  private failedRequests = 0;
  private totalDuration = 0;
  
  async runAgentWithMetrics(
    client: CopilotClient,
    prompt: string
  ) {
    this.totalRequests++;
    const start = Date.now();
    
    try {
      const result = await client.runAgent(prompt);
      this.successfulRequests++;
      return result;
    } catch (error) {
      this.failedRequests++;
      throw error;
    } finally {
      this.totalDuration += Date.now() - start;
    }
  }
  
  getMetrics() {
    return {
      totalRequests: this.totalRequests,
      successRate: this.successfulRequests / this.totalRequests,
      avgDuration: this.totalDuration / this.totalRequests
    };
  }
}</code></pre>

          <h2>Language-Specific Patterns</h2>
          
          <h3>TypeScript/JavaScript</h3>
          <pre class="syntax-highlighted" data-language="typescript"><code>// Using try-finally
const client = new CopilotClient();
try {
  await client.runAgent('task');
} finally {
  await client.close();
}</code></pre>

          <h3>Python</h3>
          <pre class="syntax-highlighted" data-language="python"><code># Context manager (recommended)
async with CopilotClient() as client:
    result = await client.run_agent('task')
    # Automatically closed when exiting context</code></pre>

          <h3>.NET</h3>
          <pre class="syntax-highlighted" data-language="csharp"><code>// Using statement
using var client = new CopilotClient();
var result = await client.RunAgentAsync("task");
// Automatically disposed</code></pre>

          <h3>Go</h3>
          <pre class="syntax-highlighted" data-language="go"><code>// Defer cleanup
client, err := copilot.NewClient()
if err != nil {
    panic(err)
}
defer client.Close()

result, err := client.RunAgent(ctx, &copilot.AgentRequest{
    Prompt: "task",
})</code></pre>

          <h2>Best Practices Summary</h2>
          
          <h3>‚úÖ Do's</h3>
          <ul>
            <li>Always call <code>close()</code> when done</li>
            <li>Use language-specific patterns (context managers, using statements)</li>
            <li>Implement graceful shutdown for production apps</li>
            <li>Monitor process health and resource usage</li>
            <li>Implement retry logic for transient failures</li>
            <li>Reuse clients when possible for efficiency</li>
          </ul>

          <h3>‚ùå Don'ts</h3>
          <ul>
            <li>Don't create new clients for every request</li>
            <li>Don't forget to close clients (resource leak)</li>
            <li>Don't ignore process exit events</li>
            <li>Don't use clients after calling close()</li>
            <li>Don't block shutdown waiting for requests indefinitely</li>
          </ul>

          <h2>Troubleshooting</h2>
          
          <h3>Common Issues</h3>
          
          <table class="table">
            <thead>
              <tr>
                <th>Issue</th>
                <th>Cause</th>
                <th>Solution</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Connection timeout</td>
                <td>CLI not starting</td>
                <td>Check CLI installation, increase timeout</td>
              </tr>
              <tr>
                <td>Resource leak</td>
                <td>Clients not closed</td>
                <td>Ensure close() is called in finally/defer</td>
              </tr>
              <tr>
                <td>Process crashes</td>
                <td>Out of memory, bugs</td>
                <td>Implement monitoring and auto-restart</td>
              </tr>
              <tr>
                <td>Slow performance</td>
                <td>Too many processes</td>
                <td>Use connection pooling</td>
              </tr>
            </tbody>
          </table>

          <div class="callout">
            <strong>üí° Key Takeaways:</strong><br />
            ‚Ä¢ Lifecycle management ensures efficient resource usage<br />
            ‚Ä¢ Always close clients to prevent resource leaks<br />
            ‚Ä¢ Use long-lived clients for production applications<br />
            ‚Ä¢ Implement graceful shutdown for reliability<br />
            ‚Ä¢ Monitor process health and implement auto-recovery<br />
            ‚Ä¢ Follow language-specific patterns for automatic cleanup
          </div>
        </section>

        <section id="key-features" role="article">
          <h1>‚ú® Key Features</h1>
          <span class="badge">features</span>
          <span class="badge">capabilities</span>
          
          <p>The GitHub Copilot SDK provides a rich set of features that enable developers to build powerful AI-assisted applications. From custom agent creation to advanced tool configurations, the SDK offers enterprise-grade capabilities while maintaining simplicity and developer experience.</p>

          <h2>Core Capabilities</h2>
          
          <div class="row">
            <div class="col-md-6 mb-4">
              <div class="card h-100">
                <div class="card-body">
                  <h3>ü§ñ Custom Agents</h3>
                  <p><strong>Build specialized AI assistants for any domain</strong></p>
                  <ul>
                    <li>Define agent behaviors, skills, and tools</li>
                    <li>Create role-based agents (code reviewer, security auditor, etc.)</li>
                    <li>Compose multi-agent workflows</li>
                    <li>Share agents across teams via registries</li>
                    <li>Version and manage agent configurations</li>
                  </ul>
                  <div class="alert alert-info">
                    <strong>Use Case:</strong> Create a dedicated SQL optimization agent that reviews queries, suggests indexes, and identifies performance bottlenecks.
                  </div>
                </div>
              </div>
            </div>
            
            <div class="col-md-6 mb-4">
              <div class="card h-100">
                <div class="card-body">
                  <h3>üîß Tool Configuration</h3>
                  <p><strong>Extend agent capabilities with custom tools</strong></p>
                  <ul>
                    <li>Integrate external APIs and services</li>
                    <li>Define tool schemas and parameters</li>
                    <li>Configure permissions and approval workflows</li>
                    <li>Implement tool chaining and composition</li>
                    <li>Monitor tool usage and performance</li>
                  </ul>
                  <div class="alert alert-info">
                    <strong>Use Case:</strong> Add database query tools, deployment automation, or monitoring integrations to your agents.
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-md-6 mb-4">
              <div class="card h-100">
                <div class="card-body">
                  <h3>üß† Model Selection</h3>
                  <p><strong>Choose the right AI model for your needs</strong></p>
                  <ul>
                    <li>Access to multiple GPT-4 and GPT-3.5 variants</li>
                    <li>Support for specialized models (code, chat, etc.)</li>
                    <li>Dynamic model switching based on task complexity</li>
                    <li>Cost optimization through model selection</li>
                    <li>Fallback strategies for availability</li>
                  </ul>
                  <div class="alert alert-info">
                    <strong>Use Case:</strong> Use GPT-4 for complex architecture decisions and GPT-3.5 for simple code completions to optimize costs.
                  </div>
                </div>
              </div>
            </div>
            
            <div class="col-md-6 mb-4">
              <div class="card h-100">
                <div class="card-body">
                  <h3>üîê BYOK Support</h3>
                  <p><strong>Bring Your Own Key for enterprise security</strong></p>
                  <ul>
                    <li>Use your own Azure OpenAI endpoints</li>
                    <li>Full data sovereignty and compliance control</li>
                    <li>Custom rate limits and quotas</li>
                    <li>Private network connectivity options</li>
                    <li>Audit logs and usage tracking</li>
                  </ul>
                  <div class="alert alert-info">
                    <strong>Use Case:</strong> Deploy in regulated industries (healthcare, finance) with full control over data residency and access.
                  </div>
                </div>
              </div>
            </div>
          </div>

          <h2>Feature Comparison Matrix</h2>
          
          <table class="table table-striped table-bordered">
            <thead>
              <tr>
                <th>Feature</th>
                <th>GitHub Hosted</th>
                <th>BYOK (Azure)</th>
                <th>Enterprise</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>Custom Agents</strong></td>
                <td>‚úÖ Full Support</td>
                <td>‚úÖ Full Support</td>
                <td>‚úÖ Full Support</td>
              </tr>
              <tr>
                <td><strong>Tool Configuration</strong></td>
                <td>‚úÖ Standard Tools</td>
                <td>‚úÖ Standard + Custom</td>
                <td>‚úÖ Unlimited Custom</td>
              </tr>
              <tr>
                <td><strong>Model Selection</strong></td>
                <td>‚úÖ GitHub Models</td>
                <td>‚úÖ Azure OpenAI</td>
                <td>‚úÖ Any Endpoint</td>
              </tr>
              <tr>
                <td><strong>Rate Limits</strong></td>
                <td>üî∂ Shared Quotas</td>
                <td>‚úÖ Dedicated Quotas</td>
                <td>‚úÖ Custom Limits</td>
              </tr>
              <tr>
                <td><strong>Data Privacy</strong></td>
                <td>‚úÖ GitHub SOC 2</td>
                <td>‚úÖ Azure Compliance</td>
                <td>‚úÖ Full Control</td>
              </tr>
              <tr>
                <td><strong>SLA Guarantees</strong></td>
                <td>‚ùå Best Effort</td>
                <td>‚úÖ 99.9% Uptime</td>
                <td>‚úÖ Custom SLA</td>
              </tr>
              <tr>
                <td><strong>Multi-Region</strong></td>
                <td>‚ùå US Only</td>
                <td>‚úÖ Global Regions</td>
                <td>‚úÖ Multi-Region</td>
              </tr>
              <tr>
                <td><strong>Audit Logging</strong></td>
                <td>üî∂ Basic Logs</td>
                <td>‚úÖ Full Audit Trail</td>
                <td>‚úÖ Custom Retention</td>
              </tr>
            </tbody>
          </table>

          <h2>Advanced Capabilities</h2>
          
          <div class="card mb-4">
            <div class="card-body">
              <h3>üîÑ Streaming Responses</h3>
              <p>Get real-time feedback as the agent generates responses, perfect for interactive applications:</p>
              <ul>
                <li><strong>Token-by-token streaming:</strong> Display responses as they're generated</li>
                <li><strong>Progress indicators:</strong> Show users that work is in progress</li>
                <li><strong>Cancellation support:</strong> Stop generation mid-stream to save costs</li>
                <li><strong>Partial result handling:</strong> Process incomplete responses gracefully</li>
              </ul>
              
              <pre><code class="language-typescript">// Streaming example
const stream = await agent.stream({
  messages: [{ role: 'user', content: 'Explain async/await' }]
});

for await (const chunk of stream) {
  process.stdout.write(chunk.content);
}</code></pre>
            </div>
          </div>

          <div class="card mb-4">
            <div class="card-body">
              <h3>üìä Context Management</h3>
              <p>Efficiently manage conversation context and memory:</p>
              <ul>
                <li><strong>Automatic token counting:</strong> Stay within model limits</li>
                <li><strong>Context compression:</strong> Summarize long conversations</li>
                <li><strong>Sliding window:</strong> Keep recent context, discard old</li>
                <li><strong>Persistent memory:</strong> Store and retrieve conversation history</li>
                <li><strong>Context injection:</strong> Add relevant data dynamically</li>
              </ul>
            </div>
          </div>

          <div class="card mb-4">
            <div class="card-body">
              <h3>üõ°Ô∏è Error Handling & Resilience</h3>
              <p>Built-in reliability features for production applications:</p>
              <ul>
                <li><strong>Automatic retries:</strong> Configurable retry policies with exponential backoff</li>
                <li><strong>Circuit breakers:</strong> Prevent cascade failures</li>
                <li><strong>Fallback strategies:</strong> Switch models or providers on failure</li>
                <li><strong>Timeout management:</strong> Configure request and streaming timeouts</li>
                <li><strong>Error classification:</strong> Distinguish transient from permanent errors</li>
              </ul>
            </div>
          </div>

          <h2>Security & Compliance</h2>
          
          <div class="row">
            <div class="col-md-4 mb-3">
              <div class="card">
                <div class="card-body">
                  <h4>üîí Authentication</h4>
                  <ul>
                    <li>GitHub token authentication</li>
                    <li>Azure AD integration</li>
                    <li>API key management</li>
                    <li>Token rotation support</li>
                  </ul>
                </div>
              </div>
            </div>
            
            <div class="col-md-4 mb-3">
              <div class="card">
                <div class="card-body">
                  <h4>üõ°Ô∏è Data Protection</h4>
                  <ul>
                    <li>TLS 1.3 encryption</li>
                    <li>At-rest encryption</li>
                    <li>Data residency controls</li>
                    <li>GDPR compliance</li>
                  </ul>
                </div>
              </div>
            </div>
            
            <div class="col-md-4 mb-3">
              <div class="card">
                <div class="card-body">
                  <h4>üìã Audit & Logging</h4>
                  <ul>
                    <li>Request/response logging</li>
                    <li>Tool usage tracking</li>
                    <li>Cost attribution</li>
                    <li>Compliance reports</li>
                  </ul>
                </div>
              </div>
            </div>
          </div>

          <h2>Performance Features</h2>
          
          <table class="table table-bordered">
            <thead>
              <tr>
                <th>Feature</th>
                <th>Benefit</th>
                <th>Typical Impact</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>Connection Pooling</strong></td>
                <td>Reuse HTTP connections across requests</td>
                <td>50-100ms latency reduction</td>
              </tr>
              <tr>
                <td><strong>Request Batching</strong></td>
                <td>Send multiple requests in parallel</td>
                <td>3-5x throughput improvement</td>
              </tr>
              <tr>
                <td><strong>Response Caching</strong></td>
                <td>Cache identical requests locally</td>
                <td>90%+ latency reduction for cache hits</td>
              </tr>
              <tr>
                <td><strong>Streaming Optimization</strong></td>
                <td>Process tokens as they arrive</td>
                <td>Perceived latency reduction of 70%+</td>
              </tr>
              <tr>
                <td><strong>Compression</strong></td>
                <td>Reduce network payload size</td>
                <td>40-60% bandwidth savings</td>
              </tr>
            </tbody>
          </table>

          <h2>Language-Specific Features</h2>
          
          <div class="row">
            <div class="col-md-6 mb-3">
              <div class="card">
                <div class="card-body">
                  <h4>üü¶ TypeScript/Node.js</h4>
                  <ul>
                    <li>Full TypeScript type definitions</li>
                    <li>Async/await and Promise support</li>
                    <li>Stream API integration</li>
                    <li>Express/Fastify middleware</li>
                    <li>React hooks for UI integration</li>
                  </ul>
                </div>
              </div>
            </div>
            
            <div class="col-md-6 mb-3">
              <div class="card">
                <div class="card-body">
                  <h4>üêç Python</h4>
                  <ul>
                    <li>Type hints and annotations</li>
                    <li>Async/await with asyncio</li>
                    <li>FastAPI integration</li>
                    <li>Pandas DataFrame support</li>
                    <li>Jupyter notebook compatibility</li>
                  </ul>
                </div>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-md-6 mb-3">
              <div class="card">
                <div class="card-body">
                  <h4>‚ö° .NET</h4>
                  <ul>
                    <li>C# and F# support</li>
                    <li>Task-based async patterns</li>
                    <li>ASP.NET Core integration</li>
                    <li>Dependency injection support</li>
                    <li>Azure Functions bindings</li>
                  </ul>
                </div>
              </div>
            </div>
            
            <div class="col-md-6 mb-3">
              <div class="card">
                <div class="card-body">
                  <h4>üîµ Go</h4>
                  <ul>
                    <li>Idiomatic Go patterns</li>
                    <li>Context and cancellation</li>
                    <li>Goroutine-safe clients</li>
                    <li>Standard library integration</li>
                    <li>Minimal dependencies</li>
                  </ul>
                </div>
              </div>
            </div>
          </div>

          <h2>Integration Ecosystem</h2>
          
          <div class="card mb-4">
            <div class="card-body">
              <h3>üîå Pre-built Integrations</h3>
              <p>The SDK provides ready-to-use integrations with popular tools and services:</p>
              
              <div class="row">
                <div class="col-md-3">
                  <h5>Development Tools</h5>
                  <ul>
                    <li>Git/GitHub</li>
                    <li>Docker</li>
                    <li>VS Code</li>
                    <li>IntelliJ IDEA</li>
                  </ul>
                </div>
                
                <div class="col-md-3">
                  <h5>Cloud Platforms</h5>
                  <ul>
                    <li>Azure</li>
                    <li>AWS</li>
                    <li>Google Cloud</li>
                    <li>Kubernetes</li>
                  </ul>
                </div>
                
                <div class="col-md-3">
                  <h5>Databases</h5>
                  <ul>
                    <li>PostgreSQL</li>
                    <li>MongoDB</li>
                    <li>Redis</li>
                    <li>Cosmos DB</li>
                  </ul>
                </div>
                
                <div class="col-md-3">
                  <h5>Observability</h5>
                  <ul>
                    <li>Application Insights</li>
                    <li>Datadog</li>
                    <li>New Relic</li>
                    <li>Prometheus</li>
                  </ul>
                </div>
              </div>
            </div>
          </div>

          <h2>Getting Started with Features</h2>
          
          <div class="alert alert-success">
            <h4>üöÄ Quick Feature Tour</h4>
            <p>To explore these features in action:</p>
            <ol>
              <li><strong>Custom Agents:</strong> See the <a href="#feature-agents">Custom Agents</a> section for building specialized agents</li>
              <li><strong>Tool Configuration:</strong> Check <a href="#feature-tools">Tool Configuration</a> for adding custom capabilities</li>
              <li><strong>Model Selection:</strong> Visit <a href="#feature-models">Model Selection</a> to optimize for your use case</li>
              <li><strong>BYOK Support:</strong> Learn about <a href="#feature-byok">BYOK Support</a> for enterprise deployments</li>
            </ol>
          </div>

          <div class="alert alert-warning">
            <h4>‚ö° Feature Availability</h4>
            <p>Some features require specific subscription tiers or configurations:</p>
            <ul>
              <li><strong>GitHub Free:</strong> Basic agents, standard tools, shared quotas</li>
              <li><strong>GitHub Pro:</strong> Custom agents, extended tool access, higher rate limits</li>
              <li><strong>GitHub Enterprise:</strong> All features, BYOK support, dedicated quotas, SLA guarantees</li>
            </ul>
          </div>
        </section>

        <section id="feature-agents" role="article">
          <h1>ü§ñ Custom Agents</h1>
          <span class="badge">custom</span>
          <span class="badge">agents</span>
          
          <p>Custom agents are specialized AI assistants tailored for specific tasks, domains, or roles. They combine pre-configured prompts, tools, and behaviors to deliver consistent, high-quality results for targeted use cases.</p>

          <h2>Why Custom Agents?</h2>
          
          <div class="row">
            <div class="col-md-4 mb-3">
              <div class="card">
                <div class="card-body">
                  <h3>üéØ Specialization</h3>
                  <p>Agents excel at specific tasks through targeted training and configuration.</p>
                  <ul>
                    <li>Domain expertise</li>
                    <li>Consistent behavior</li>
                    <li>Optimized prompts</li>
                  </ul>
                </div>
              </div>
            </div>
            
            <div class="col-md-4 mb-3">
              <div class="card">
                <div class="card-body">
                  <h3>‚ôªÔ∏è Reusability</h3>
                  <p>Define once, use everywhere across your organization.</p>
                  <ul>
                    <li>Share configurations</li>
                    <li>Version control</li>
                    <li>Team collaboration</li>
                  </ul>
                </div>
              </div>
            </div>
            
            <div class="col-md-4 mb-3">
              <div class="card">
                <div class="card-body">
                  <h3>üîí Governance</h3>
                  <p>Control agent behavior and capabilities centrally.</p>
                  <ul>
                    <li>Permission boundaries</li>
                    <li>Audit logging</li>
                    <li>Compliance controls</li>
                  </ul>
                </div>
              </div>
            </div>
          </div>

          <h2>Creating Custom Agents</h2>

          <h3>Basic Agent Configuration</h3>
          
          <pre><code class="language-typescript">import { CopilotClient } from '@github/copilot-sdk';

const client = new CopilotClient({ auth: process.env.GITHUB_TOKEN });

// Define a custom code review agent
const codeReviewAgent = client.createAgent({
  name: 'code-reviewer',
  description: 'Reviews code for best practices and potential issues',
  model: 'gpt-4',
  temperature: 0.3,  // More deterministic for consistency
  systemPrompt: `You are an expert code reviewer specializing in TypeScript and Node.js.
  
  Your responsibilities:
  - Identify bugs and potential issues
  - Suggest performance improvements
  - Check for security vulnerabilities
  - Ensure code follows best practices
  - Verify proper error handling
  
  Format your review as:
  1. Summary of findings
  2. Critical issues (must fix)
  3. Warnings (should fix)
  4. Suggestions (nice to have)
  5. Positive feedback`,
  tools: [
    {
      type: 'function',
      function: {
        name: 'analyze_dependencies',
        description: 'Check for outdated or vulnerable dependencies',
        parameters: {
          type: 'object',
          properties: {
            packageJson: { type: 'string' }
          }
        }
      }
    }
  ]
});</code></pre>

          <h2>Real-World Agent Examples</h2>

          <h3>1. SQL Optimization Agent</h3>
          
          <pre><code class="language-typescript">const sqlAgent = client.createAgent({
  name: 'sql-optimizer',
  description: 'Analyzes and optimizes SQL queries',
  model: 'gpt-4',
  temperature: 0.2,
  systemPrompt: `You are a database optimization expert specializing in PostgreSQL.
  
  For each query, provide:
  1. Performance analysis
  2. Index recommendations
  3. Query rewrite suggestions
  4. Estimated performance improvement
  5. Alternative approaches`,
  tools: [
    {
      type: 'function',
      function: {
        name: 'explain_query',
        description: 'Get query execution plan',
        parameters: {
          type: 'object',
          properties: {
            query: { type: 'string' },
            database: { type: 'string' }
          },
          required: ['query']
        }
      }
    }
  ]
});

// Use the agent
const review = await sqlAgent.send({
  messages: [{
    role: 'user',
    content: `Optimize this query:
    SELECT * FROM orders 
    WHERE user_id IN (SELECT id FROM users WHERE country = 'US')
    ORDER BY created_at DESC`
  }]
});</code></pre>

          <h3>2. Security Audit Agent</h3>
          
          <pre><code class="language-typescript">const securityAgent = client.createAgent({
  name: 'security-auditor',
  description: 'Performs security analysis on code',
  model: 'gpt-4',
  temperature: 0.1,  // Very deterministic for security
  systemPrompt: `You are a cybersecurity expert performing code audits.
  
  Check for:
  - SQL injection vulnerabilities
  - XSS risks
  - Authentication/authorization issues
  - Sensitive data exposure
  - Insecure dependencies
  - OWASP Top 10 violations
  
  Classify findings as: CRITICAL, HIGH, MEDIUM, LOW
  Provide specific remediation steps for each issue.`,
  tools: [
    {
      type: 'function',
      function: {
        name: 'check_cve',
        description: 'Check for known CVEs in dependencies',
        parameters: {
          type: 'object',
          properties: {
            package: { type: 'string' },
            version: { type: 'string' }
          }
        }
      }
    },
    {
      type: 'function',
      function: {
        name: 'scan_secrets',
        description: 'Scan for exposed secrets or credentials',
        parameters: {
          type: 'object',
          properties: {
            code: { type: 'string' }
          }
        }
      }
    }
  ]
});</code></pre>

          <h3>3. Documentation Generator Agent</h3>
          
          <pre><code class="language-typescript">const docsAgent = client.createAgent({
  name: 'doc-generator',
  description: 'Generates comprehensive technical documentation',
  model: 'gpt-4',
  temperature: 0.5,
  systemPrompt: `You are a technical writer creating clear, comprehensive documentation.
  
  For each component, generate:
  - Overview and purpose
  - API/interface documentation
  - Usage examples
  - Parameter descriptions
  - Return value documentation
  - Error cases
  - Best practices
  
  Use Markdown format with proper headings and code blocks.`,
  tools: [
    {
      type: 'function',
      function: {
        name: 'extract_types',
        description: 'Extract TypeScript type definitions',
        parameters: {
          type: 'object',
          properties: {
            filePath: { type: 'string' }
          }
        }
      }
    }
  ]
});</code></pre>

          <h3>4. Test Generation Agent</h3>
          
          <pre><code class="language-typescript">const testAgent = client.createAgent({
  name: 'test-generator',
  description: 'Generates comprehensive unit tests',
  model: 'gpt-4',
  temperature: 0.4,
  systemPrompt: `You are a test automation expert specializing in Jest/Vitest.
  
  Generate tests that cover:
  - Happy path scenarios
  - Edge cases
  - Error conditions
  - Boundary values
  - Integration scenarios
  
  Follow AAA pattern (Arrange, Act, Assert)
  Include descriptive test names
  Add comments for complex scenarios`,
  tools: [
    {
      type: 'function',
      function: {
        name: 'get_coverage',
        description: 'Get current code coverage metrics',
        parameters: {
          type: 'object',
          properties: {
            filePath: { type: 'string' }
          }
        }
      }
    }
  ]
});</code></pre>

          <h2>Agent Registry Pattern</h2>

          <p>Create a centralized registry for managing and sharing agents across your organization:</p>
          
          <pre><code class="language-typescript">class AgentRegistry {
  private agents: Map<string, Agent> = new Map();
  
  register(name: string, config: AgentConfig) {
    const agent = this.client.createAgent(config);
    this.agents.set(name, agent);
  }
  
  get(name: string): Agent {
    const agent = this.agents.get(name);
    if (!agent) {
      throw new Error(`Agent '${name}' not found`);
    }
    return agent;
  }
  
  list(): string[] {
    return Array.from(this.agents.keys());
  }
  
  async loadFromConfig(configPath: string) {
    const config = await fs.readFile(configPath, 'utf-8');
    const agents = JSON.parse(config);
    
    for (const [name, agentConfig] of Object.entries(agents)) {
      this.register(name, agentConfig as AgentConfig);
    }
  }
}

// Usage
const registry = new AgentRegistry();
await registry.loadFromConfig('./agents.json');

const codeReviewer = registry.get('code-reviewer');
const sqlOptimizer = registry.get('sql-optimizer');</code></pre>

          <h3>Agent Configuration File</h3>
          
          <pre><code class="language-json">// agents.json
{
  "code-reviewer": {
    "name": "code-reviewer",
    "description": "Reviews code for best practices",
    "model": "gpt-4",
    "temperature": 0.3,
    "systemPrompt": "You are an expert code reviewer...",
    "tools": []
  },
  "sql-optimizer": {
    "name": "sql-optimizer",
    "description": "Optimizes SQL queries",
    "model": "gpt-4",
    "temperature": 0.2,
    "systemPrompt": "You are a database optimization expert...",
    "tools": []
  },
  "doc-generator": {
    "name": "doc-generator",
    "description": "Generates documentation",
    "model": "gpt-4",
    "temperature": 0.5,
    "systemPrompt": "You are a technical writer...",
    "tools": []
  }
}</code></pre>

          <h2>Multi-Agent Workflows</h2>

          <h3>Sequential Agent Pipeline</h3>
          
          <pre><code class="language-typescript">// Code review pipeline: generate ‚Üí review ‚Üí test ‚Üí document
async function reviewPipeline(code: string) {
  const results = {
    generated: '',
    reviewed: '',
    tested: '',
    documented: ''
  };
  
  // Step 1: Code generation
  const codeGen = registry.get('code-generator');
  const generated = await codeGen.send({
    messages: [{ role: 'user', content: `Generate: ${code}` }]
  });
  results.generated = generated.choices[0].message.content;
  
  // Step 2: Code review
  const reviewer = registry.get('code-reviewer');
  const reviewed = await reviewer.send({
    messages: [{ role: 'user', content: results.generated }]
  });
  results.reviewed = reviewed.choices[0].message.content;
  
  // Step 3: Test generation
  const tester = registry.get('test-generator');
  const tests = await tester.send({
    messages: [{ role: 'user', content: results.generated }]
  });
  results.tested = tests.choices[0].message.content;
  
  // Step 4: Documentation
  const docs = registry.get('doc-generator');
  const documented = await docs.send({
    messages: [{ role: 'user', content: results.generated }]
  });
  results.documented = documented.choices[0].message.content;
  
  return results;
}</code></pre>

          <h3>Parallel Agent Execution</h3>
          
          <pre><code class="language-typescript">// Run multiple agents concurrently
async function parallelAnalysis(code: string) {
  const [security, performance, quality] = await Promise.all([
    registry.get('security-auditor').send({
      messages: [{ role: 'user', content: code }]
    }),
    registry.get('performance-analyzer').send({
      messages: [{ role: 'user', content: code }]
    }),
    registry.get('quality-checker').send({
      messages: [{ role: 'user', content: code }]
    })
  ]);
  
  return {
    security: security.choices[0].message.content,
    performance: performance.choices[0].message.content,
    quality: quality.choices[0].message.content
  };
}</code></pre>

          <h2>Agent Versioning</h2>

          <pre><code class="language-typescript">class VersionedAgent {
  constructor(
    private name: string,
    private version: string,
    private config: AgentConfig
  ) {}
  
  getFullName(): string {
    return `${this.name}@${this.version}`;
  }
  
  static fromConfig(config: any): VersionedAgent {
    return new VersionedAgent(
      config.name,
      config.version || '1.0.0',
      config
    );
  }
}

// Usage
const reviewerV1 = new VersionedAgent(
  'code-reviewer',
  '1.0.0',
  reviewerConfig
);

const reviewerV2 = new VersionedAgent(
  'code-reviewer',
  '2.0.0',
  enhancedReviewerConfig
);</code></pre>

          <h2>Best Practices</h2>

          <div class="card mb-4">
            <div class="card-body">
              <h3>‚úÖ Custom Agent Best Practices</h3>
              <ul>
                <li>‚úÖ Use descriptive names that indicate the agent's purpose</li>
                <li>‚úÖ Write clear, detailed system prompts with examples</li>
                <li>‚úÖ Set appropriate temperature based on task (lower for deterministic)</li>
                <li>‚úÖ Define specific tools the agent needs</li>
                <li>‚úÖ Version your agent configurations</li>
                <li>‚úÖ Test agents thoroughly before production use</li>
                <li>‚úÖ Monitor agent performance and token usage</li>
                <li>‚úÖ Document agent capabilities and limitations</li>
                <li>‚úÖ Store configurations in version control</li>
                <li>‚úÖ Use agent registries for centralized management</li>
              </ul>
            </div>
          </div>

          <h2>Common Agent Patterns</h2>

          <table class="table table-striped table-bordered">
            <thead>
              <tr>
                <th>Agent Type</th>
                <th>Temperature</th>
                <th>Model</th>
                <th>Best For</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Code Reviewer</td>
                <td>0.2 - 0.3</td>
                <td>gpt-4</td>
                <td>Consistent, accurate analysis</td>
              </tr>
              <tr>
                <td>Security Auditor</td>
                <td>0.1 - 0.2</td>
                <td>gpt-4</td>
                <td>Thorough, deterministic checks</td>
              </tr>
              <tr>
                <td>Test Generator</td>
                <td>0.3 - 0.5</td>
                <td>gpt-4</td>
                <td>Comprehensive test coverage</td>
              </tr>
              <tr>
                <td>Doc Writer</td>
                <td>0.4 - 0.6</td>
                <td>gpt-4</td>
                <td>Clear, helpful documentation</td>
              </tr>
              <tr>
                <td>Code Generator</td>
                <td>0.3 - 0.5</td>
                <td>gpt-4</td>
                <td>Quality, maintainable code</td>
              </tr>
              <tr>
                <td>Chatbot</td>
                <td>0.7 - 0.9</td>
                <td>gpt-3.5-turbo</td>
                <td>Natural, conversational</td>
              </tr>
              <tr>
                <td>Creative Writer</td>
                <td>0.8 - 1.2</td>
                <td>gpt-4</td>
                <td>Unique, engaging content</td>
              </tr>
            </tbody>
          </table>

          <div class="card bg-light mt-4">
            <div class="card-body">
              <h3>üìö Related Documentation</h3>
              <ul>
                <li><a href="#api-agent">Agent API</a> - Agent API reference</li>
                <li><a href="#core-concepts-agents">Core Concepts: Agents</a> - Agent architecture</li>
                <li><a href="#usage-patterns-custom-agent">Custom Agent Pattern</a> - Implementation patterns</li>
                <li><a href="#cookbook">Cookbook</a> - More agent examples</li>
              </ul>
            </div>
          </div>
        </section>

        <section id="feature-tools" role="article">
          <h1>üîß Tool Configuration</h1>
          <span class="badge">tools</span>
          <span class="badge">config</span>
          
          <p>Tools extend agent capabilities by allowing them to interact with external systems, APIs, databases, and services. The SDK provides a flexible framework for defining, configuring, and securing tool usage.</p>

          <h2>What Are Tools?</h2>

          <div class="row">
            <div class="col-md-4 mb-3">
              <div class="card">
                <div class="card-body">
                  <h3>üéØ Purpose</h3>
                  <p>Tools give agents the ability to:</p>
                  <ul>
                    <li>Execute code</li>
                    <li>Query databases</li>
                    <li>Call APIs</li>
                    <li>Access files</li>
                    <li>Deploy resources</li>
                  </ul>
                </div>
              </div>
            </div>
            
            <div class="col-md-4 mb-3">
              <div class="card">
                <div class="card-body">
                  <h3>üîí Control</h3>
                  <p>You control:</p>
                  <ul>
                    <li>What tools are available</li>
                    <li>Who can use them</li>
                    <li>When they can be used</li>
                    <li>What parameters are allowed</li>
                    <li>Approval workflows</li>
                  </ul>
                </div>
              </div>
            </div>
            
            <div class="col-md-4 mb-3">
              <div class="card">
                <div class="card-body">
                  <h3>üìä Visibility</h3>
                  <p>Full observability:</p>
                  <ul>
                    <li>Tool invocations logged</li>
                    <li>Parameters captured</li>
                    <li>Results recorded</li>
                    <li>Errors tracked</li>
                    <li>Audit trail maintained</li>
                  </ul>
                </div>
              </div>
            </div>
          </div>

          <h2>Defining Tools</h2>

          <h3>Basic Tool Definition</h3>
          
          <pre><code class="language-typescript">import { Tool } from '@github/copilot-sdk';

// Define a database query tool
const queryTool: Tool = {
  type: 'function',
  function: {
    name: 'query_database',
    description: 'Execute a SQL query against the database',
    parameters: {
      type: 'object',
      properties: {
        query: {
          type: 'string',
          description: 'The SQL query to execute'
        },
        database: {
          type: 'string',
          enum: ['production', 'staging', 'development'],
          description: 'Target database'
        },
        timeout: {
          type: 'number',
          default: 30,
          description: 'Query timeout in seconds'
        }
      },
      required: ['query', 'database']
    }
  }
};</code></pre>

          <h3>Implementing Tool Execution</h3>
          
          <pre><code class="language-typescript">// Tool executor
async function executeQueryTool(args: any) {
  const { query, database, timeout = 30 } = args;
  
  // Validate query (prevent DROP, DELETE without WHERE, etc.)
  if (isUnsafeQuery(query)) {
    throw new Error('Unsafe query detected');
  }
  
  // Get database connection
  const db = await getDatabase(database);
  
  // Execute with timeout
  const result = await db.query(query, { timeout: timeout * 1000 });
  
  return {
    rows: result.rows,
    rowCount: result.rowCount,
    executionTime: result.duration
  };
}

// Register tool handler
agent.onToolCall('query_database', executeQueryTool);</code></pre>

          <h2>Tool Categories</h2>

          <h3>1. Data Access Tools</h3>
          
          <pre><code class="language-typescript">const dataTools = [
  {
    type: 'function',
    function: {
      name: 'read_file',
      description: 'Read contents of a file',
      parameters: {
        type: 'object',
        properties: {
          path: { type: 'string' },
          encoding: { type: 'string', default: 'utf-8' }
        },
        required: ['path']
      }
    }
  },
  {
    type: 'function',
    function: {
      name: 'list_files',
      description: 'List files in a directory',
      parameters: {
        type: 'object',
        properties: {
          directory: { type: 'string' },
          pattern: { type: 'string' }
        },
        required: ['directory']
      }
    }
  }
];</code></pre>

          <h3>2. API Integration Tools</h3>
          
          <pre><code class="language-typescript">const apiTools = [
  {
    type: 'function',
    function: {
      name: 'http_request',
      description: 'Make HTTP requests to external APIs',
      parameters: {
        type: 'object',
        properties: {
          url: { type: 'string' },
          method: { type: 'string', enum: ['GET', 'POST', 'PUT', 'DELETE'] },
          headers: { type: 'object' },
          body: { type: 'object' }
        },
        required: ['url', 'method']
      }
    }
  },
  {
    type: 'function',
    function: {
      name: 'github_api',
      description: 'Interact with GitHub API',
      parameters: {
        type: 'object',
        properties: {
          endpoint: { type: 'string' },
          method: { type: 'string' },
          data: { type: 'object' }
        },
        required: ['endpoint']
      }
    }
  }
];</code></pre>

          <h3>3. Deployment Tools</h3>
          
          <pre><code class="language-typescript">const deploymentTools = [
  {
    type: 'function',
    function: {
      name: 'deploy_application',
      description: 'Deploy application to specified environment',
      parameters: {
        type: 'object',
        properties: {
          application: { type: 'string' },
          environment: { type: 'string', enum: ['staging', 'production'] },
          version: { type: 'string' },
          rollback: { type: 'boolean', default: false }
        },
        required: ['application', 'environment', 'version']
      }
    }
  },
  {
    type: 'function',
    function: {
      name: 'run_migration',
      description: 'Execute database migration',
      parameters: {
        type: 'object',
        properties: {
          migration: { type: 'string' },
          direction: { type: 'string', enum: ['up', 'down'] }
        },
        required: ['migration', 'direction']
      }
    }
  }
];</code></pre>

          <h2>Permission Models</h2>

          <h3>Role-Based Access Control (RBAC)</h3>
          
          <pre><code class="language-typescript">class ToolPermissionManager {
  private permissions: Map<string, Set<string>> = new Map();
  
  // Define role permissions
  constructor() {
    this.permissions.set('developer', new Set([
      'query_database',
      'read_file',
      'list_files',
      'http_request'
    ]));
    
    this.permissions.set('admin', new Set([
      'query_database',
      'read_file',
      'write_file',
      'deploy_application',
      'run_migration',
      'delete_resource'
    ]));
    
    this.permissions.set('viewer', new Set([
      'query_database',  // Read-only
      'read_file',
      'list_files'
    ]));
  }
  
  canUseTool(role: string, toolName: string): boolean {
    const allowed = this.permissions.get(role);
    return allowed?.has(toolName) ?? false;
  }
  
  getToolsForRole(role: string): string[] {
    return Array.from(this.permissions.get(role) ?? []);
  }
}

// Usage
const permManager = new ToolPermissionManager();
const userRole = 'developer';

if (permManager.canUseTool(userRole, 'deploy_application')) {
  // Allow tool usage
} else {
  throw new Error('Permission denied');
}</code></pre>

          <h3>Approval Workflows</h3>
          
          <pre><code class="language-typescript">class ApprovalWorkflow {
  async requiresApproval(toolName: string, params: any): Promise<boolean> {
    // Define which tools require approval
    const highRiskTools = [
      'deploy_application',
      'delete_resource',
      'run_migration'
    ];
    
    if (highRiskTools.includes(toolName)) {
      return true;
    }
    
    // Check parameter-based rules
    if (toolName === 'query_database' && params.database === 'production') {
      return true;
    }
    
    return false;
  }
  
  async requestApproval(
    toolName: string,
    params: any,
    requestedBy: string
  ): Promise<string> {
    const approvalId = generateId();
    
    // Create approval request
    await db.approvals.create({
      id: approvalId,
      toolName,
      parameters: params,
      requestedBy,
      status: 'pending',
      createdAt: new Date()
    });
    
    // Notify approvers
    await notifyApprovers({
      tool: toolName,
      requestedBy,
      approvalId
    });
    
    return approvalId;
  }
  
  async waitForApproval(approvalId: string, timeout: number = 300000) {
    const startTime = Date.now();
    
    while (Date.now() - startTime < timeout) {
      const approval = await db.approvals.findById(approvalId);
      
      if (approval.status === 'approved') {
        return true;
      }
      
      if (approval.status === 'rejected') {
        throw new Error('Approval rejected');
      }
      
      await sleep(5000);  // Poll every 5 seconds
    }
    
    throw new Error('Approval timeout');
  }
}

// Usage in agent
agent.onToolCall('deploy_application', async (args) => {
  const workflow = new ApprovalWorkflow();
  
  if (await workflow.requiresApproval('deploy_application', args)) {
    const approvalId = await workflow.requestApproval(
      'deploy_application',
      args,
      currentUser
    );
    
    await workflow.waitForApproval(approvalId);
  }
  
  // Proceed with deployment
  return await deployApplication(args);
});</code></pre>

          <h2>Tool Security</h2>

          <h3>Input Validation</h3>
          
          <pre><code class="language-typescript">class ToolValidator {
  validateQueryTool(params: any) {
    const { query, database } = params;
    
    // Check for SQL injection patterns
    const dangerousPatterns = [
      /DROP\s+TABLE/i,
      /DELETE\s+FROM.*WHERE\s*1\s*=\s*1/i,
      /TRUNCATE/i,
      /;\s*DROP/i
    ];
    
    for (const pattern of dangerousPatterns) {
      if (pattern.test(query)) {
        throw new Error('Dangerous SQL pattern detected');
      }
    }
    
    // Validate database name
    const allowedDatabases = ['production', 'staging', 'development'];
    if (!allowedDatabases.includes(database)) {
      throw new Error('Invalid database name');
    }
    
    // Check query length
    if (query.length > 10000) {
      throw new Error('Query too long');
    }
  }
  
  validateFilePath(path: string) {
    // Prevent path traversal
    if (path.includes('..')) {
      throw new Error('Path traversal detected');
    }
    
    // Restrict to allowed directories
    const allowedPaths = ['/app/data', '/app/uploads', '/app/config'];
    if (!allowedPaths.some(p => path.startsWith(p))) {
      throw new Error('Access to path not allowed');
    }
  }
}</code></pre>

          <h3>Rate Limiting</h3>
          
          <pre><code class="language-typescript">class ToolRateLimiter {
  private limits: Map<string, { count: number; resetAt: Date }> = new Map();
  
  async checkLimit(userId: string, toolName: string): Promise<boolean> {
    const key = `${userId}:${toolName}`;
    const limit = this.limits.get(key);
    
    // Reset if expired
    if (limit && limit.resetAt < new Date()) {
      this.limits.delete(key);
    }
    
    const current = this.limits.get(key);
    
    // Check limits (100 calls per hour per tool per user)
    if (current && current.count >= 100) {
      throw new Error('Rate limit exceeded');
    }
    
    // Increment counter
    if (current) {
      current.count++;
    } else {
      this.limits.set(key, {
        count: 1,
        resetAt: new Date(Date.now() + 60 * 60 * 1000)
      });
    }
    
    return true;
  }
}</code></pre>

          <h2>Tool Monitoring</h2>

          <h3>Audit Logging</h3>
          
          <pre><code class="language-typescript">class ToolAuditLogger {
  async logToolCall(
    toolName: string,
    params: any,
    result: any,
    userId: string,
    agentName: string
  ) {
    await db.toolAudit.create({
      timestamp: new Date(),
      toolName,
      parameters: this.sanitizeParams(params),
      result: this.sanitizeResult(result),
      userId,
      agentName,
      success: true
    });
  }
  
  async logToolError(
    toolName: string,
    params: any,
    error: Error,
    userId: string
  ) {
    await db.toolAudit.create({
      timestamp: new Date(),
      toolName,
      parameters: this.sanitizeParams(params),
      error: error.message,
      userId,
      success: false
    });
  }
  
  private sanitizeParams(params: any): any {
    // Remove sensitive data
    const sanitized = { ...params };
    const sensitiveKeys = ['password', 'apiKey', 'token', 'secret'];
    
    for (const key of sensitiveKeys) {
      if (key in sanitized) {
        sanitized[key] = '***REDACTED***';
      }
    }
    
    return sanitized;
  }
}</code></pre>

          <h2>Tool Usage Analytics</h2>

          <pre><code class="language-typescript">class ToolAnalytics {
  async getToolUsageStats(timeRange: { start: Date; end: Date }) {
    const stats = await db.toolAudit.aggregate([
      {
        $match: {
          timestamp: { $gte: timeRange.start, $lte: timeRange.end }
        }
      },
      {
        $group: {
          _id: '$toolName',
          totalCalls: { $sum: 1 },
          successfulCalls: {
            $sum: { $cond: ['$success', 1, 0] }
          },
          failedCalls: {
            $sum: { $cond: ['$success', 0, 1] }
          },
          uniqueUsers: { $addToSet: '$userId' }
        }
      }
    ]);
    
    return stats.map(s => ({
      toolName: s._id,
      totalCalls: s.totalCalls,
      successRate: (s.successfulCalls / s.totalCalls) * 100,
      failedCalls: s.failedCalls,
      uniqueUsers: s.uniqueUsers.length
    }));
  }
}</code></pre>

          <h2>Best Practices</h2>

          <div class="card mb-4">
            <div class="card-body">
              <h3>‚úÖ Tool Configuration Best Practices</h3>
              <ul>
                <li>‚úÖ Define clear, descriptive tool names and descriptions</li>
                <li>‚úÖ Use JSON Schema for parameter validation</li>
                <li>‚úÖ Implement strict input validation and sanitization</li>
                <li>‚úÖ Use RBAC to control tool access</li>
                <li>‚úÖ Require approval for high-risk operations</li>
                <li>‚úÖ Log all tool invocations for audit trails</li>
                <li>‚úÖ Implement rate limiting to prevent abuse</li>
                <li>‚úÖ Sanitize sensitive data in logs</li>
                <li>‚úÖ Set appropriate timeouts for tool execution</li>
                <li>‚úÖ Monitor tool usage and performance</li>
                <li>‚úÖ Handle errors gracefully with informative messages</li>
                <li>‚úÖ Version your tool definitions</li>
              </ul>
            </div>
          </div>

          <h2>Tool Security Checklist</h2>

          <table class="table table-bordered">
            <thead>
              <tr>
                <th>Security Control</th>
                <th>Implementation</th>
                <th>Priority</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Input Validation</td>
                <td>Validate and sanitize all tool parameters</td>
                <td>üî¥ Critical</td>
              </tr>
              <tr>
                <td>Authentication</td>
                <td>Verify user identity before tool execution</td>
                <td>üî¥ Critical</td>
              </tr>
              <tr>
                <td>Authorization</td>
                <td>Check user permissions for each tool</td>
                <td>üî¥ Critical</td>
              </tr>
              <tr>
                <td>Audit Logging</td>
                <td>Log all tool calls with user context</td>
                <td>üü° High</td>
              </tr>
              <tr>
                <td>Rate Limiting</td>
                <td>Prevent abuse through rate limits</td>
                <td>üü° High</td>
              </tr>
              <tr>
                <td>Approval Workflows</td>
                <td>Require approval for sensitive operations</td>
                <td>üü° High</td>
              </tr>
              <tr>
                <td>Encryption</td>
                <td>Encrypt sensitive tool parameters</td>
                <td>üü¢ Medium</td>
              </tr>
              <tr>
                <td>Monitoring</td>
                <td>Alert on suspicious tool usage patterns</td>
                <td>üü¢ Medium</td>
              </tr>
            </tbody>
          </table>

          <div class="card bg-light mt-4">
            <div class="card-body">
              <h3>üìö Related Documentation</h3>
              <ul>
                <li><a href="#core-concepts-tools">Core Concepts: Tools</a> - Tool architecture</li>
                <li><a href="#usage-patterns-tool-config">Tool Configuration Pattern</a> - Implementation patterns</li>
                <li><a href="#best-practices">Best Practices</a> - Security and optimization</li>
                <li><a href="#cookbook">Cookbook</a> - Tool examples</li>
              </ul>
            </div>
          </div>
        </section>

        <section id="feature-models" role="article">
          <h1>üß† Model Selection</h1>
          <span class="badge">models</span>
          <span class="badge">llm</span>
          
          <p>Choosing the right AI model is critical for balancing performance, cost, and capabilities. The GitHub Copilot SDK supports multiple models, each optimized for different use cases and requirements.</p>

          <h2>Available Models Overview</h2>

          <div class="row">
            <div class="col-md-6 mb-4">
              <div class="card h-100 border-primary">
                <div class="card-body">
                  <h3>üéØ GPT-4 Turbo</h3>
                  <p class="badge bg-primary">Recommended for Most Use Cases</p>
                  
                  <h5>Key Specifications:</h5>
                  <ul>
                    <li><strong>Context:</strong> 128K tokens (~96K words)</li>
                    <li><strong>Output:</strong> Up to 4K tokens</li>
                    <li><strong>Speed:</strong> Fast (optimized)</li>
                    <li><strong>Cost:</strong> $0.01/1K input, $0.03/1K output</li>
                  </ul>
                  
                  <h5>Best For:</h5>
                  <ul>
                    <li>Large document analysis</li>
                    <li>Complex code reviews</li>
                    <li>Multi-file context</li>
                    <li>Long conversations</li>
                  </ul>
                  
                  <pre><code class="language-typescript">const client = new CopilotClient({
  auth: token,
  model: 'gpt-4-turbo'
});</code></pre>
                </div>
              </div>
            </div>
            
            <div class="col-md-6 mb-4">
              <div class="card h-100 border-success">
                <div class="card-body">
                  <h3>‚ú® GPT-4</h3>
                  <p class="badge bg-success">Highest Quality</p>
                  
                  <h5>Key Specifications:</h5>
                  <ul>
                    <li><strong>Context:</strong> 8K tokens (~6K words)</li>
                    <li><strong>Output:</strong> Up to 4K tokens</li>
                    <li><strong>Speed:</strong> Moderate</li>
                    <li><strong>Cost:</strong> $0.03/1K input, $0.06/1K output</li>
                  </ul>
                  
                  <h5>Best For:</h5>
                  <ul>
                    <li>Critical decision making</li>
                    <li>Complex reasoning tasks</li>
                    <li>High-accuracy requirements</li>
                    <li>Security-sensitive work</li>
                  </ul>
                  
                  <pre><code class="language-typescript">const client = new CopilotClient({
  auth: token,
  model: 'gpt-4'
});</code></pre>
                </div>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-md-6 mb-4">
              <div class="card h-100 border-info">
                <div class="card-body">
                  <h3>‚ö° GPT-3.5 Turbo</h3>
                  <p class="badge bg-info">Fast & Cost-Effective</p>
                  
                  <h5>Key Specifications:</h5>
                  <ul>
                    <li><strong>Context:</strong> 16K tokens (~12K words)</li>
                    <li><strong>Output:</strong> Up to 4K tokens</li>
                    <li><strong>Speed:</strong> Very fast</li>
                    <li><strong>Cost:</strong> $0.0005/1K input, $0.0015/1K output</li>
                  </ul>
                  
                  <h5>Best For:</h5>
                  <ul>
                    <li>High-volume operations</li>
                    <li>Simple queries</li>
                    <li>Chatbots</li>
                    <li>Cost-sensitive applications</li>
                  </ul>
                  
                  <pre><code class="language-typescript">const client = new CopilotClient({
  auth: token,
  model: 'gpt-3.5-turbo'
});</code></pre>
                </div>
              </div>
            </div>
            
            <div class="col-md-6 mb-4">
              <div class="card h-100 border-warning">
                <div class="card-body">
                  <h3>üî• GPT-3.5 Turbo 16K</h3>
                  <p class="badge bg-warning text-dark">Extended Context</p>
                  
                  <h5>Key Specifications:</h5>
                  <ul>
                    <li><strong>Context:</strong> 16K tokens (~12K words)</li>
                    <li><strong>Output:</strong> Up to 4K tokens</li>
                    <li><strong>Speed:</strong> Fast</li>
                    <li><strong>Cost:</strong> $0.003/1K input, $0.004/1K output</li>
                  </ul>
                  
                  <h5>Best For:</h5>
                  <ul>
                    <li>Medium-sized documents</li>
                    <li>Multi-turn conversations</li>
                    <li>Good quality/cost balance</li>
                    <li>General purpose tasks</li>
                  </ul>
                  
                  <pre><code class="language-typescript">const client = new CopilotClient({
  auth: token,
  model: 'gpt-3.5-turbo-16k'
});</code></pre>
                </div>
              </div>
            </div>
          </div>

          <h2>Model Selection Decision Tree</h2>

          <pre><code class="language-mermaid">graph TD
    A[Start: Choose Model] --> B{What's your priority?}
    
    B -->|Cost| C{Request volume?}
    B -->|Quality| D{Task complexity?}
    B -->|Speed| E[GPT-3.5 Turbo]
    B -->|Context Size| F{How much context?}
    
    C -->|High volume| E
    C -->|Medium volume| G[GPT-3.5 Turbo 16K]
    C -->|Low volume| H[GPT-4]
    
    D -->|Simple| E
    D -->|Moderate| G
    D -->|Complex| H
    D -->|Very Complex| I[GPT-4 Turbo]
    
    F -->|< 4K tokens| E
    F -->|4K-16K tokens| G
    F -->|16K-128K tokens| I
    
    E --> J[Fast, cheap, good for simple tasks]
    G --> K[Balanced speed, cost, context]
    H --> L[High quality, accurate, reliable]
    I --> M[Best quality, largest context]</code></pre>

          <h2>Cost Optimization Strategies</h2>

          <h3>1. Dynamic Model Switching</h3>
          
          <pre><code class="language-typescript">class SmartModelSelector {
  selectModel(request: AgentRequest): string {
    const tokenCount = this.estimateTokens(request.messages);
    const complexity = this.analyzeComplexity(request.messages);
    const priority = request.metadata?.priority || 'normal';
    
    // High priority always uses best model
    if (priority === 'critical') {
      return 'gpt-4';
    }
    
    // Large context requires turbo
    if (tokenCount > 16000) {
      return 'gpt-4-turbo';
    }
    
    // Complex tasks use GPT-4
    if (complexity > 0.7) {
      return 'gpt-4';
    }
    
    // Medium complexity uses extended context
    if (complexity > 0.4 || tokenCount > 4000) {
      return 'gpt-3.5-turbo-16k';
    }
    
    // Simple tasks use fast model
    return 'gpt-3.5-turbo';
  }
  
  private estimateTokens(messages: Message[]): number {
    // Rough estimate: 1 token ‚âà 4 characters
    return messages.reduce((sum, msg) => 
      sum + Math.ceil(msg.content.length / 4), 0
    );
  }
  
  private analyzeComplexity(messages: Message[]): number {
    const content = messages.map(m => m.content).join(' ');
    
    // Complexity indicators
    const indicators = [
      /algorithm|complexity|optimize|performance/i,
      /architecture|design pattern|scalability/i,
      /security|vulnerability|audit/i,
      /\bclass\b|\binterface\b|\babstract\b/i,
      /database|query|index|transaction/i
    ];
    
    const matches = indicators.filter(pattern => pattern.test(content)).length;
    return matches / indicators.length;
  }
}

// Usage
const selector = new SmartModelSelector();
const model = selector.selectModel(request);

const response = await client.send({
  ...request,
  model
});</code></pre>

          <h3>2. Prompt Caching</h3>
          
          <pre><code class="language-typescript">class PromptCache {
  private cache: Map<string, any> = new Map();
  
  async sendWithCache(
    client: CopilotClient,
    request: AgentRequest
  ): Promise<AgentResponse> {
    // Generate cache key
    const key = this.generateKey(request);
    
    // Check cache
    if (this.cache.has(key)) {
      console.log('Cache hit - saving API call');
      return this.cache.get(key);
    }
    
    // Make request
    const response = await client.send(request);
    
    // Cache result
    this.cache.set(key, response);
    
    return response;
  }
  
  private generateKey(request: AgentRequest): string {
    return JSON.stringify({
      messages: request.messages,
      model: request.model,
      temperature: request.temperature
    });
  }
}

// Save ~70% on repeated queries
const cache = new PromptCache();
const response = await cache.sendWithCache(client, request);</code></pre>

          <h3>3. Token Budget Management</h3>
          
          <pre><code class="language-typescript">class TokenBudgetManager {
  private dailyBudget = 1000000;  // 1M tokens per day
  private usedToday = 0;
  private lastReset = new Date();
  
  async sendWithBudget(
    client: CopilotClient,
    request: AgentRequest
  ): Promise<AgentResponse> {
    // Reset daily counter
    this.checkReset();
    
    // Estimate request tokens
    const estimated = this.estimateTokens(request);
    
    // Check budget
    if (this.usedToday + estimated > this.dailyBudget) {
      // Downgrade to cheaper model
      console.warn('Budget limit approaching, using GPT-3.5');
      request.model = 'gpt-3.5-turbo';
    }
    
    // Make request
    const response = await client.send(request);
    
    // Track usage
    this.usedToday += response.usage.total_tokens;
    
    return response;
  }
  
  private checkReset() {
    const now = new Date();
    if (now.getDate() !== this.lastReset.getDate()) {
      this.usedToday = 0;
      this.lastReset = now;
    }
  }
}</code></pre>

          <h2>Use Case to Model Mapping</h2>

          <table class="table table-striped table-bordered">
            <thead>
              <tr>
                <th>Use Case</th>
                <th>Recommended Model</th>
                <th>Temperature</th>
                <th>Reasoning</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>Code Review</strong></td>
                <td>gpt-4</td>
                <td>0.2 - 0.3</td>
                <td>Requires accuracy and deep understanding</td>
              </tr>
              <tr>
                <td><strong>Code Generation</strong></td>
                <td>gpt-4</td>
                <td>0.3 - 0.5</td>
                <td>Quality code needs strong model</td>
              </tr>
              <tr>
                <td><strong>Documentation</strong></td>
                <td>gpt-3.5-turbo-16k</td>
                <td>0.5 - 0.7</td>
                <td>Good quality, cost-effective</td>
              </tr>
              <tr>
                <td><strong>Simple Q&A</strong></td>
                <td>gpt-3.5-turbo</td>
                <td>0.7</td>
                <td>Fast, cheap, sufficient quality</td>
              </tr>
              <tr>
                <td><strong>Chatbot</strong></td>
                <td>gpt-3.5-turbo</td>
                <td>0.7 - 0.9</td>
                <td>Speed and cost matter most</td>
              </tr>
              <tr>
                <td><strong>Security Audit</strong></td>
                <td>gpt-4</td>
                <td>0.1 - 0.2</td>
                <td>Critical accuracy, deterministic</td>
              </tr>
              <tr>
                <td><strong>Test Generation</strong></td>
                <td>gpt-4</td>
                <td>0.3 - 0.4</td>
                <td>Comprehensive coverage needed</td>
              </tr>
              <tr>
                <td><strong>Data Extraction</strong></td>
                <td>gpt-3.5-turbo</td>
                <td>0.1</td>
                <td>Simple, deterministic task</td>
              </tr>
              <tr>
                <td><strong>SQL Optimization</strong></td>
                <td>gpt-4</td>
                <td>0.2</td>
                <td>Complex analysis required</td>
              </tr>
              <tr>
                <td><strong>Architecture Review</strong></td>
                <td>gpt-4-turbo</td>
                <td>0.3</td>
                <td>Large context, deep analysis</td>
              </tr>
              <tr>
                <td><strong>API Documentation</strong></td>
                <td>gpt-3.5-turbo-16k</td>
                <td>0.5</td>
                <td>Moderate context, good quality</td>
              </tr>
              <tr>
                <td><strong>Creative Writing</strong></td>
                <td>gpt-4</td>
                <td>0.8 - 1.2</td>
                <td>Quality and creativity both important</td>
              </tr>
            </tbody>
          </table>

          <h2>Performance Benchmarks</h2>

          <table class="table table-bordered">
            <thead>
              <tr>
                <th>Model</th>
                <th>Avg Latency</th>
                <th>Throughput</th>
                <th>Cost (1K tokens)</th>
                <th>Quality Score</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>GPT-4 Turbo</strong></td>
                <td>2-4 seconds</td>
                <td>High</td>
                <td>$0.01 - $0.03</td>
                <td>9.5/10</td>
              </tr>
              <tr>
                <td><strong>GPT-4</strong></td>
                <td>3-5 seconds</td>
                <td>Medium</td>
                <td>$0.03 - $0.06</td>
                <td>10/10</td>
              </tr>
              <tr>
                <td><strong>GPT-3.5 Turbo</strong></td>
                <td>0.5-1 second</td>
                <td>Very High</td>
                <td>$0.0005 - $0.0015</td>
                <td>7.5/10</td>
              </tr>
              <tr>
                <td><strong>GPT-3.5 Turbo 16K</strong></td>
                <td>1-2 seconds</td>
                <td>High</td>
                <td>$0.003 - $0.004</td>
                <td>8/10</td>
              </tr>
            </tbody>
          </table>

          <h2>Model Selection Best Practices</h2>

          <div class="card mb-4">
            <div class="card-body">
              <h3>‚úÖ Selection Guidelines</h3>
              <ul>
                <li>‚úÖ Start with GPT-4 Turbo as default for most applications</li>
                <li>‚úÖ Use GPT-3.5 Turbo for high-volume, cost-sensitive workloads</li>
                <li>‚úÖ Reserve GPT-4 for critical, accuracy-dependent tasks</li>
                <li>‚úÖ Implement dynamic model selection based on task complexity</li>
                <li>‚úÖ Monitor token usage and costs by model</li>
                <li>‚úÖ Test with different models to find optimal balance</li>
                <li>‚úÖ Use caching to reduce repeated API calls</li>
                <li>‚úÖ Set token budgets to control costs</li>
                <li>‚úÖ Consider context window requirements</li>
                <li>‚úÖ Factor in latency requirements for user-facing apps</li>
              </ul>
            </div>
          </div>

          <h2>Cost Calculator</h2>

          <pre><code class="language-typescript">class ModelCostCalculator {
  private pricing = {
    'gpt-4-turbo': { input: 0.01, output: 0.03 },
    'gpt-4': { input: 0.03, output: 0.06 },
    'gpt-3.5-turbo': { input: 0.0005, output: 0.0015 },
    'gpt-3.5-turbo-16k': { input: 0.003, output: 0.004 }
  };
  
  calculateCost(
    model: string,
    inputTokens: number,
    outputTokens: number
  ): number {
    const prices = this.pricing[model];
    if (!prices) throw new Error(`Unknown model: ${model}`);
    
    const inputCost = (inputTokens / 1000) * prices.input;
    const outputCost = (outputTokens / 1000) * prices.output;
    
    return inputCost + outputCost;
  }
  
  compareCosts(inputTokens: number, outputTokens: number) {
    return Object.keys(this.pricing).map(model => ({
      model,
      cost: this.calculateCost(model, inputTokens, outputTokens),
      costFormatted: `$${this.calculateCost(model, inputTokens, outputTokens).toFixed(4)}`
    }));
  }
}

// Example: Calculate cost for 1000 input, 500 output tokens
const calculator = new ModelCostCalculator();
const comparison = calculator.compareCosts(1000, 500);

console.log(comparison);
// [
//   { model: 'gpt-4-turbo', cost: 0.025, costFormatted: '$0.0250' },
//   { model: 'gpt-4', cost: 0.060, costFormatted: '$0.0600' },
//   { model: 'gpt-3.5-turbo', cost: 0.0013, costFormatted: '$0.0013' },
//   { model: 'gpt-3.5-turbo-16k', cost: 0.005, costFormatted: '$0.0050' }
// ]</code></pre>

          <div class="card bg-light mt-4">
            <div class="card-body">
              <h3>üìö Related Documentation</h3>
              <ul>
                <li><a href="#api-models">Models API</a> - Model API reference</li>
                <li><a href="#billing-quota">Billing & Quota</a> - Cost management</li>
                <li><a href="#best-practices">Best Practices</a> - Optimization strategies</li>
                <li><a href="#cookbook">Cookbook</a> - Model selection examples</li>
              </ul>
            </div>
          </div>
        </section>

        <section id="feature-byok" role="article">
          <h1>üîê BYOK Support</h1>
          <span class="badge">byok</span>
          <span class="badge">security</span>
          
          <p>Bring Your Own Key (BYOK) support allows enterprises to use their own Azure OpenAI deployments with the GitHub Copilot SDK, providing full control over data, compliance, and infrastructure while leveraging the SDK's capabilities.</p>

          <h2>Why BYOK?</h2>

          <div class="row">
            <div class="col-md-4 mb-3">
              <div class="card">
                <div class="card-body">
                  <h3>üîí Data Sovereignty</h3>
                  <p>Complete control over your data:</p>
                  <ul>
                    <li>Data stays in your Azure tenant</li>
                    <li>Choose deployment region</li>
                    <li>Control data retention</li>
                    <li>Meet regulatory requirements</li>
                    <li>GDPR, HIPAA, SOC 2 compliance</li>
                  </ul>
                </div>
              </div>
            </div>
            
            <div class="col-md-4 mb-3">
              <div class="card">
                <div class="card-body">
                  <h3>üéØ Custom Limits</h3>
                  <p>Define your own quotas:</p>
                  <ul>
                    <li>Dedicated capacity</li>
                    <li>No shared rate limits</li>
                    <li>Predictable performance</li>
                    <li>Scale as needed</li>
                    <li>Cost control</li>
                  </ul>
                </div>
              </div>
            </div>
            
            <div class="col-md-4 mb-3">
              <div class="card">
                <div class="card-body">
                  <h3>üõ°Ô∏è Private Network</h3>
                  <p>Enhanced security:</p>
                  <ul>
                    <li>Private endpoints</li>
                    <li>VNet integration</li>
                    <li>Firewall rules</li>
                    <li>No internet exposure</li>
                    <li>Zero trust architecture</li>
                  </ul>
                </div>
              </div>
            </div>
          </div>

          <h2>Setting Up BYOK</h2>

          <h3>1. Create Azure OpenAI Resource</h3>
          
          <pre><code class="language-bash"># Using Azure CLI
az cognitiveservices account create \
  --name my-copilot-openai \
  --resource-group my-resource-group \
  --location eastus \
  --kind OpenAI \
  --sku S0 \
  --custom-domain my-copilot-openai

# Deploy GPT-4 model
az cognitiveservices account deployment create \
  --name my-copilot-openai \
  --resource-group my-resource-group \
  --deployment-name gpt-4 \
  --model-name gpt-4 \
  --model-version "0613" \
  --model-format OpenAI \
  --sku-capacity 10 \
  --sku-name "Standard"</code></pre>

          <h3>2. Configure SDK for BYOK</h3>
          
          <div class="row">
            <div class="col-md-6">
              <h5>TypeScript</h5>
              <pre><code class="language-typescript">import { CopilotClient, BYOKAuth } from '@github/copilot-sdk';

const client = new CopilotClient({
  auth: new BYOKAuth({
    endpoint: 'https://my-copilot-openai.openai.azure.com',
    apiKey: process.env.AZURE_OPENAI_KEY,
    apiVersion: '2024-02-01',
    deployment: 'gpt-4'
  })
});

await client.connect();</code></pre>
            </div>
            
            <div class="col-md-6">
              <h5>Python</h5>
              <pre><code class="language-python">from github_copilot import CopilotClient, BYOKAuth

client = CopilotClient(
    auth=BYOKAuth(
        endpoint='https://my-copilot-openai.openai.azure.com',
        api_key=os.environ['AZURE_OPENAI_KEY'],
        api_version='2024-02-01',
        deployment='gpt-4'
    )
)

await client.connect()</code></pre>
            </div>
          </div>

          <h3>3. Using Managed Identity (Recommended)</h3>
          
          <pre><code class="language-typescript">import { DefaultAzureCredential } from '@azure/identity';
import { CopilotClient, BYOKAuth } from '@github/copilot-sdk';

// Use Managed Identity (no keys needed)
const credential = new DefaultAzureCredential();

const client = new CopilotClient({
  auth: new BYOKAuth({
    endpoint: 'https://my-copilot-openai.openai.azure.com',
    credential: credential,  // Use AAD authentication
    apiVersion: '2024-02-01',
    deployment: 'gpt-4'
  })
});</code></pre>

          <h2>Deployment Scenarios</h2>

          <h3>1. Multi-Region Deployment</h3>
          
          <pre><code class="language-typescript">class MultiRegionBYOK {
  private clients: Map<string, CopilotClient> = new Map();
  
  constructor() {
    // Deploy in multiple regions for redundancy
    const regions = [
      { name: 'us-east', endpoint: 'https://openai-us-east.openai.azure.com' },
      { name: 'eu-west', endpoint: 'https://openai-eu-west.openai.azure.com' },
      { name: 'asia', endpoint: 'https://openai-asia.openai.azure.com' }
    ];
    
    for (const region of regions) {
      this.clients.set(region.name, new CopilotClient({
        auth: new BYOKAuth({
          endpoint: region.endpoint,
          apiKey: process.env[`AZURE_KEY_${region.name.toUpperCase()}`],
          deployment: 'gpt-4'
        })
      }));
    }
  }
  
  async sendToNearestRegion(userLocation: string, request: AgentRequest) {
    const region = this.selectRegion(userLocation);
    const client = this.clients.get(region);
    
    try {
      return await client.send(request);
    } catch (error) {
      // Failover to another region
      console.log(`Region ${region} failed, failing over...`);
      return await this.failover(region, request);
    }
  }
  
  private selectRegion(userLocation: string): string {
    // Select closest region based on user location
    if (userLocation.includes('US')) return 'us-east';
    if (userLocation.includes('EU')) return 'eu-west';
    return 'asia';
  }
  
  private async failover(failedRegion: string, request: AgentRequest) {
    for (const [region, client] of this.clients) {
      if (region !== failedRegion) {
        try {
          return await client.send(request);
        } catch (error) {
          continue;
        }
      }
    }
    throw new Error('All regions unavailable');
  }
}</code></pre>

          <h3>2. Environment-Based Configuration</h3>
          
          <pre><code class="language-typescript">class EnvironmentBYOK {
  private configs = {
    development: {
      endpoint: 'https://openai-dev.openai.azure.com',
      deployment: 'gpt-3.5-turbo',
      capacity: 10
    },
    staging: {
      endpoint: 'https://openai-staging.openai.azure.com',
      deployment: 'gpt-4',
      capacity: 50
    },
    production: {
      endpoint: 'https://openai-prod.openai.azure.com',
      deployment: 'gpt-4',
      capacity: 200
    }
  };
  
  createClient(environment: string): CopilotClient {
    const config = this.configs[environment];
    
    return new CopilotClient({
      auth: new BYOKAuth({
        endpoint: config.endpoint,
        credential: new DefaultAzureCredential(),
        deployment: config.deployment
      })
    });
  }
}

// Usage
const env = process.env.NODE_ENV || 'development';
const byok = new EnvironmentBYOK();
const client = byok.createClient(env);</code></pre>

          <h2>Security Configuration</h2>

          <h3>Private Endpoint Setup</h3>
          
          <pre><code class="language-bash"># Create private endpoint
az network private-endpoint create \
  --name openai-private-endpoint \
  --resource-group my-resource-group \
  --vnet-name my-vnet \
  --subnet my-subnet \
  --private-connection-resource-id "/subscriptions/{subscription-id}/resourceGroups/my-resource-group/providers/Microsoft.CognitiveServices/accounts/my-copilot-openai" \
  --group-id account \
  --connection-name openai-connection

# Disable public network access
az cognitiveservices account update \
  --name my-copilot-openai \
  --resource-group my-resource-group \
  --public-network-access Disabled</code></pre>

          <pre><code class="language-typescript">// Use private endpoint
const client = new CopilotClient({
  auth: new BYOKAuth({
    endpoint: 'https://my-copilot-openai.privatelink.openai.azure.com',
    credential: new DefaultAzureCredential(),
    deployment: 'gpt-4'
  }),
  // Custom DNS resolution for private endpoint
  dnsResolver: customDNSResolver
});</code></pre>

          <h3>Firewall Rules</h3>
          
          <pre><code class="language-bash"># Add IP rules
az cognitiveservices account network-rule add \
  --name my-copilot-openai \
  --resource-group my-resource-group \
  --ip-address "203.0.113.0/24"

# Add virtual network rule
az cognitiveservices account network-rule add \
  --name my-copilot-openai \
  --resource-group my-resource-group \
  --vnet-name my-vnet \
  --subnet my-subnet</code></pre>

          <h3>Customer-Managed Keys (CMK)</h3>
          
          <pre><code class="language-bash"># Create Key Vault
az keyvault create \
  --name my-keyvault \
  --resource-group my-resource-group \
  --location eastus

# Create key
az keyvault key create \
  --name openai-encryption-key \
  --vault-name my-keyvault \
  --kty RSA \
  --size 2048

# Configure CMK for Azure OpenAI
az cognitiveservices account update \
  --name my-copilot-openai \
  --resource-group my-resource-group \
  --encryption "KeyVaultProperties={KeyName=openai-encryption-key,KeyVaultUri=https://my-keyvault.vault.azure.net}"</code></pre>

          <h2>Monitoring & Diagnostics</h2>

          <h3>Enable Diagnostic Logs</h3>
          
          <pre><code class="language-bash"># Create Log Analytics workspace
az monitor log-analytics workspace create \
  --resource-group my-resource-group \
  --workspace-name openai-logs

# Enable diagnostics
az monitor diagnostic-settings create \
  --name openai-diagnostics \
  --resource "/subscriptions/{subscription-id}/resourceGroups/my-resource-group/providers/Microsoft.CognitiveServices/accounts/my-copilot-openai" \
  --logs '[{"category":"Audit","enabled":true},{"category":"RequestResponse","enabled":true}]' \
  --metrics '[{"category":"AllMetrics","enabled":true}]' \
  --workspace "/subscriptions/{subscription-id}/resourceGroups/my-resource-group/providers/Microsoft.OperationalInsights/workspaces/openai-logs"</code></pre>

          <h3>Query Usage Metrics</h3>
          
          <pre><code class="language-typescript">import { MonitorClient } from '@azure/arm-monitor';

class BYOKMonitor {
  async getUsageMetrics(
    resourceId: string,
    timeRange: { start: Date; end: Date }
  ) {
    const client = new MonitorClient(credential, subscriptionId);
    
    const metrics = await client.metrics.list(resourceId, {
      timespan: `${timeRange.start.toISOString()}/${timeRange.end.toISOString()}`,
      interval: 'PT1H',
      metricnames: 'TokenTransaction,ProcessedPromptTokens,GeneratedTokens',
      aggregation: 'Total'
    });
    
    return metrics.value.map(metric => ({
      name: metric.name.value,
      data: metric.timeseries[0].data
    }));
  }
  
  async getCostEstimate(tokens: number, model: string): Promise<number> {
    // Azure OpenAI pricing
    const pricing = {
      'gpt-4': 0.03,
      'gpt-4-32k': 0.06,
      'gpt-3.5-turbo': 0.002
    };
    
    return (tokens / 1000) * (pricing[model] || 0.03);
  }
}</code></pre>

          <h2>Cost Management</h2>

          <h3>Set Budget Alerts</h3>
          
          <pre><code class="language-bash"># Create budget
az consumption budget create \
  --budget-name openai-monthly-budget \
  --amount 1000 \
  --time-grain Monthly \
  --start-date 2026-01-01 \
  --end-date 2027-01-01 \
  --resource-group my-resource-group

# Add alert
az consumption budget create \
  --budget-name openai-monthly-budget \
  --amount 1000 \
  --threshold 80 \
  --notification-email admin@example.com</code></pre>

          <h3>Usage Tracking</h3>
          
          <pre><code class="language-typescript">class BYOKUsageTracker {
  private usage: Map<string, number> = new Map();
  
  trackRequest(request: AgentRequest, response: AgentResponse) {
    const date = new Date().toISOString().split('T')[0];
    const current = this.usage.get(date) || 0;
    
    this.usage.set(date, current + response.usage.total_tokens);
  }
  
  async generateReport(month: string) {
    const entries = Array.from(this.usage.entries())
      .filter(([date]) => date.startsWith(month));
    
    const totalTokens = entries.reduce((sum, [, tokens]) => sum + tokens, 0);
    const avgDaily = totalTokens / entries.length;
    const estimatedCost = (totalTokens / 1000) * 0.03;  // $0.03 per 1K tokens
    
    return {
      month,
      totalTokens,
      avgDailyTokens: Math.round(avgDaily),
      estimatedCost: `$${estimatedCost.toFixed(2)}`,
      dailyBreakdown: entries
    };
  }
}</code></pre>

          <h2>Best Practices</h2>

          <div class="card mb-4">
            <div class="card-body">
              <h3>‚úÖ BYOK Best Practices</h3>
              <ul>
                <li>‚úÖ Use Managed Identity instead of API keys when possible</li>
                <li>‚úÖ Enable private endpoints for production workloads</li>
                <li>‚úÖ Deploy across multiple regions for high availability</li>
                <li>‚úÖ Configure firewall rules to restrict access</li>
                <li>‚úÖ Enable diagnostic logging for audit trails</li>
                <li>‚úÖ Set up budget alerts to control costs</li>
                <li>‚úÖ Use customer-managed keys for data encryption</li>
                <li>‚úÖ Monitor usage metrics and performance</li>
                <li>‚úÖ Implement automatic failover between regions</li>
                <li>‚úÖ Regular security assessments and compliance checks</li>
                <li>‚úÖ Keep SDK and Azure OpenAI versions updated</li>
                <li>‚úÖ Document your BYOK architecture and procedures</li>
              </ul>
            </div>
          </div>

          <h2>Compliance & Certifications</h2>

          <table class="table table-bordered">
            <thead>
              <tr>
                <th>Compliance</th>
                <th>Azure OpenAI</th>
                <th>Requirements</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>GDPR</strong></td>
                <td>‚úÖ Compliant</td>
                <td>EU region deployment, data residency controls</td>
              </tr>
              <tr>
                <td><strong>HIPAA</strong></td>
                <td>‚úÖ Compliant</td>
                <td>BAA agreement, encryption, audit logs</td>
              </tr>
              <tr>
                <td><strong>SOC 2</strong></td>
                <td>‚úÖ Type II</td>
                <td>Security controls, monitoring, access management</td>
              </tr>
              <tr>
                <td><strong>ISO 27001</strong></td>
                <td>‚úÖ Certified</td>
                <td>Information security management</td>
              </tr>
              <tr>
                <td><strong>FedRAMP</strong></td>
                <td>‚úÖ High</td>
                <td>US Government cloud requirements</td>
              </tr>
              <tr>
                <td><strong>PCI DSS</strong></td>
                <td>‚úÖ Level 1</td>
                <td>Payment card data security</td>
              </tr>
            </tbody>
          </table>

          <h2>Migration to BYOK</h2>

          <h3>Migration Checklist</h3>
          
          <ol>
            <li>‚òëÔ∏è Create Azure OpenAI resource in target region</li>
            <li>‚òëÔ∏è Deploy required models (GPT-4, GPT-3.5, etc.)</li>
            <li>‚òëÔ∏è Set up authentication (Managed Identity recommended)</li>
            <li>‚òëÔ∏è Configure private endpoint (if required)</li>
            <li>‚òëÔ∏è Update SDK configuration to use BYOK</li>
            <li>‚òëÔ∏è Test thoroughly in non-production environment</li>
            <li>‚òëÔ∏è Enable monitoring and diagnostics</li>
            <li>‚òëÔ∏è Set up budget alerts</li>
            <li>‚òëÔ∏è Configure firewall rules</li>
            <li>‚òëÔ∏è Implement failover strategy</li>
            <li>‚òëÔ∏è Document configuration and procedures</li>
            <li>‚òëÔ∏è Gradual rollout to production</li>
          </ol>

          <h3>Migration Code Pattern</h3>
          
          <pre><code class="language-typescript">class MigrationHelper {
  async migrateToByok(
    oldClient: CopilotClient,
    byokConfig: BYOKConfig
  ) {
    // Create new BYOK client
    const newClient = new CopilotClient({
      auth: new BYOKAuth(byokConfig)
    });
    
    await newClient.connect();
    
    // Test new client
    const testRequest = {
      messages: [{ role: 'user', content: 'Hello, testing BYOK' }]
    };
    
    const response = await newClient.send(testRequest);
    console.log('BYOK test successful:', response.choices[0].message.content);
    
    // Gradual migration: 10% traffic
    const migrationPercentage = 10;
    
    return async (request: AgentRequest) => {
      if (Math.random() * 100 < migrationPercentage) {
        return await newClient.send(request);
      } else {
        return await oldClient.send(request);
      }
    };
  }
}</code></pre>

          <div class="card bg-light mt-4">
            <div class="card-body">
              <h3>üìö Related Documentation</h3>
              <ul>
                <li><a href="#api-auth">Auth API</a> - BYOK authentication details</li>
                <li><a href="#getting-started">Getting Started</a> - Setup instructions</li>
                <li><a href="#best-practices">Best Practices</a> - Security and compliance</li>
                <li><a href="#troubleshooting">Troubleshooting</a> - Common BYOK issues</li>
              </ul>
            </div>
          </div>
        </section>

        <section id="usage-patterns" role="article">
          <h1>üìù Usage Patterns</h1>
          <span class="badge">patterns</span>
          <span class="badge">examples</span>
          
          <p>This section covers common patterns and best practices for using the GitHub Copilot SDK in real-world applications. Learn how to structure your code, handle different scenarios, and implement production-ready solutions.</p>

          <h2>Pattern Categories</h2>
          
          <div class="row">
            <div class="col-md-6">
              <div class="card">
                <div class="card-body">
                  <h3>üéØ Basic Usage</h3>
                  <p>Simple, straightforward implementations for getting started quickly.</p>
                  <ul>
                    <li>Single agent requests</li>
                    <li>Quick scripting</li>
                    <li>Development and testing</li>
                    <li>Proof of concepts</li>
                  </ul>
                </div>
              </div>
            </div>
            
            <div class="col-md-6">
              <div class="card">
                <div class="card-body">
                  <h3>ü§ñ Custom Agents</h3>
                  <p>Specialized agents tailored for specific tasks and domains.</p>
                  <ul>
                    <li>Domain-specific agents</li>
                    <li>Role-based agents</li>
                    <li>Multi-agent workflows</li>
                    <li>Agent composition</li>
                  </ul>
                </div>
              </div>
            </div>
          </div>

          <div class="row mt-3">
            <div class="col-md-6">
              <div class="card">
                <div class="card-body">
                  <h3>üîå External CLI</h3>
                  <p>Connecting to shared or remote CLI server instances.</p>
                  <ul>
                    <li>Shared server mode</li>
                    <li>Multi-tenant deployments</li>
                    <li>Resource optimization</li>
                    <li>Scalability patterns</li>
                  </ul>
                </div>
              </div>
            </div>
            
            <div class="col-md-6">
              <div class="card">
                <div class="card-body">
                  <h3>‚öôÔ∏è Tool Configuration</h3>
                  <p>Advanced tool management and permission patterns.</p>
                  <ul>
                    <li>Granular permissions</li>
                    <li>Approval workflows</li>
                    <li>Custom tool integration</li>
                    <li>Security best practices</li>
                  </ul>
                </div>
              </div>
            </div>
          </div>

          <h2>Pattern Selection Guide</h2>
          
          <div class="mermaid">
graph TD
    A[Start] --> B{What's your use case?}
    
    B -->|Simple tasks, learning| C[Basic Usage Pattern]
    B -->|Specialized behavior| D[Custom Agent Pattern]
    B -->|High concurrency| E[External CLI Pattern]
    B -->|Security requirements| F[Tool Configuration Pattern]
    
    C --> G[Single client, default settings]
    D --> H[Agent config, system prompts]
    E --> I[Shared CLI server]
    F --> J[Permission controls, approval]
    
    style A fill:#dbeafe
    style C fill:#dcfce7
    style D fill:#fef3c7
    style E fill:#fee2e2
    style F fill:#e9d5ff
          </div>

          <h2>Common Scenarios</h2>
          
          <table class="table">
            <thead>
              <tr>
                <th>Scenario</th>
                <th>Recommended Pattern</th>
                <th>Key Considerations</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>CLI Tool / Script</td>
                <td>Basic Usage</td>
                <td>Simple, short-lived process</td>
              </tr>
              <tr>
                <td>Web API Server</td>
                <td>External CLI + Long-lived client</td>
                <td>Handle concurrent requests efficiently</td>
              </tr>
              <tr>
                <td>Code Review Bot</td>
                <td>Custom Agent + Tool Config</td>
                <td>Specialized behavior with controlled permissions</td>
              </tr>
              <tr>
                <td>CI/CD Pipeline</td>
                <td>Custom Agent + Basic Usage</td>
                <td>Task-specific agents, ephemeral execution</td>
              </tr>
              <tr>
                <td>IDE Extension</td>
                <td>Basic Usage + Tool Config</td>
                <td>User-triggered, need approval workflows</td>
              </tr>
              <tr>
                <td>Enterprise Application</td>
                <td>All patterns combined</td>
                <td>Multi-agent, shared resources, strict security</td>
              </tr>
            </tbody>
          </table>

          <h2>Pattern Comparison</h2>
          
          <table class="table">
            <thead>
              <tr>
                <th>Pattern</th>
                <th>Complexity</th>
                <th>Flexibility</th>
                <th>Performance</th>
                <th>Best For</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Basic Usage</td>
                <td>‚≠ê Low</td>
                <td>‚≠ê‚≠ê Medium</td>
                <td>‚≠ê‚≠ê Medium</td>
                <td>Scripts, prototypes</td>
              </tr>
              <tr>
                <td>Custom Agent</td>
                <td>‚≠ê‚≠ê Medium</td>
                <td>‚≠ê‚≠ê‚≠ê‚≠ê High</td>
                <td>‚≠ê‚≠ê‚≠ê Good</td>
                <td>Specialized tasks</td>
              </tr>
              <tr>
                <td>External CLI</td>
                <td>‚≠ê‚≠ê‚≠ê High</td>
                <td>‚≠ê‚≠ê‚≠ê Good</td>
                <td>‚≠ê‚≠ê‚≠ê‚≠ê Excellent</td>
                <td>High concurrency</td>
              </tr>
              <tr>
                <td>Tool Configuration</td>
                <td>‚≠ê‚≠ê‚≠ê High</td>
                <td>‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê Excellent</td>
                <td>‚≠ê‚≠ê‚≠ê Good</td>
                <td>Security-critical apps</td>
              </tr>
            </tbody>
          </table>

          <h2>Anti-Patterns to Avoid</h2>
          
          <h3>‚ùå Creating Client Per Request</h3>
          <pre class="syntax-highlighted" data-language="javascript"><code>// DON'T: Spawns new CLI process for every request
app.post('/agent', async (req, res) => {
  const client = new CopilotClient();  // ‚ùå Inefficient
  const result = await client.runAgent(req.body.prompt);
  await client.close();
  res.json(result);
});</code></pre>

          <h3>‚úÖ Reuse Client</h3>
          <pre class="syntax-highlighted" data-language="javascript"><code>// DO: Reuse client across requests
const client = new CopilotClient();  // ‚úÖ Created once

app.post('/agent', async (req, res) => {
  const result = await client.runAgent(req.body.prompt);
  res.json(result);
});</code></pre>

          <h3>‚ùå Ignoring Error Handling</h3>
          <pre class="syntax-highlighted" data-language="javascript"><code>// DON'T: No error handling
const result = await client.runAgent(prompt);  // ‚ùå May throw</code></pre>

          <h3>‚úÖ Proper Error Handling</h3>
          <pre class="syntax-highlighted" data-language="javascript"><code>// DO: Handle errors appropriately
try {
  const result = await client.runAgent(prompt);
  return result;
} catch (error) {
  if (error instanceof TimeoutError) {
    // Handle timeout
  } else if (error instanceof AuthenticationError) {
    // Handle auth issues
  }
  throw error;
}</code></pre>

          <h3>‚ùå Granting All Tools by Default</h3>
          <pre class="syntax-highlighted" data-language="javascript"><code>// DON'T: Too permissive
const client = new CopilotClient({
  tools: ['all']  // ‚ùå Security risk
});</code></pre>

          <h3>‚úÖ Principle of Least Privilege</h3>
          <pre class="syntax-highlighted" data-language="javascript"><code>// DO: Grant only necessary tools
const client = new CopilotClient({
  tools: ['fs.read', 'git.status'],  // ‚úÖ Minimal permissions
  requireToolApproval: true
});</code></pre>

          <h2>Integration Patterns</h2>
          
          <div class="mermaid">
graph TB
    subgraph "Web Application"
        A[HTTP Request] --> B[Route Handler]
        B --> C[Reusable Client]
        C --> D[Agent Execution]
        D --> E[HTTP Response]
    end
    
    subgraph "CLI Application"
        F[User Input] --> G[Argument Parser]
        G --> H[New Client]
        H --> I[Agent Execution]
        I --> J[Console Output]
        J --> K[Client Cleanup]
    end
    
    subgraph "Background Service"
        L[Queue Message] --> M[Worker Process]
        M --> N[Pooled Client]
        N --> O[Agent Execution]
        O --> P[Result Storage]
    end
    
    style B fill:#dbeafe
    style C fill:#dcfce7
    style G fill:#fef3c7
    style H fill:#fee2e2
    style M fill:#e9d5ff
    style N fill:#fce7f3
          </div>

          <h2>Best Practices Summary</h2>
          
          <h3>‚úÖ Do's</h3>
          <ul>
            <li>Reuse client instances for multiple requests</li>
            <li>Implement comprehensive error handling</li>
            <li>Use custom agents for specialized tasks</li>
            <li>Follow principle of least privilege for tools</li>
            <li>Enable tool approval for production systems</li>
            <li>Monitor performance and resource usage</li>
            <li>Implement graceful shutdown</li>
            <li>Use connection pooling for high concurrency</li>
          </ul>

          <h3>‚ùå Don'ts</h3>
          <ul>
            <li>Don't create clients unnecessarily</li>
            <li>Don't ignore errors or use empty catch blocks</li>
            <li>Don't grant 'all' tools without careful consideration</li>
            <li>Don't skip cleanup (always close clients)</li>
            <li>Don't use blocking operations in async code</li>
            <li>Don't hardcode configuration (use environment variables)</li>
            <li>Don't skip input validation</li>
          </ul>

          <div class="callout">
            <strong>üí° Getting Started:</strong><br />
            Start with the <strong>Basic Usage</strong> pattern to understand fundamentals, then progress to more advanced patterns as your needs evolve. Each pattern builds on the concepts from previous sections.
          </div>
        </section>

        <section id="pattern-basic" role="article">
          <h1>üéØ Basic Usage</h1>
          <span class="badge">basic</span>
          <span class="badge">simple</span>
          
          <p>The Basic Usage pattern is the simplest and most straightforward way to use the GitHub Copilot SDK. It's perfect for scripts, prototypes, learning, and situations where you need quick results without complex configuration.</p>

          <h2>When to Use</h2>
          
          <ul>
            <li>‚úÖ <strong>CLI Tools:</strong> Command-line scripts and utilities</li>
            <li>‚úÖ <strong>Prototypes:</strong> Quick proof-of-concept implementations</li>
            <li>‚úÖ <strong>Learning:</strong> Understanding SDK basics</li>
            <li>‚úÖ <strong>One-off Tasks:</strong> Single-execution scripts</li>
            <li>‚úÖ <strong>CI/CD Pipelines:</strong> Build and deployment automation</li>
            <li>‚úÖ <strong>Notebooks:</strong> Jupyter/Colab experiments</li>
          </ul>

          <h2>Core Pattern</h2>
          
          <pre class="syntax-highlighted" data-language="typescript"><code>import { CopilotClient } from 'copilot-sdk';

// 1. Create client
const client = new CopilotClient();

try {
  // 2. Run agent
  const result = await client.runAgent('Your prompt here');
  
  // 3. Use result
  console.log(result.output);
} finally {
  // 4. Always cleanup
  await client.close();
}</code></pre>

          <h2>Language-Specific Examples</h2>
          
          <h3>TypeScript/JavaScript</h3>
          <pre class="syntax-highlighted" data-language="typescript"><code>#!/usr/bin/env node
import { CopilotClient } from 'copilot-sdk';

async function main() {
  const client = new CopilotClient();
  
  try {
    const prompt = process.argv[2] || 'Explain TypeScript generics';
    const result = await client.runAgent(prompt);
    
    console.log('=== Agent Response ===');
    console.log(result.output);
    console.log('\n=== Metadata ===');
    console.log(JSON.stringify(result.metadata, null, 2));
  } catch (error) {
    console.error('Error:', error.message);
    process.exit(1);
  } finally {
    await client.close();
  }
}

main();</code></pre>

          <h3>Python</h3>
          <pre class="syntax-highlighted" data-language="python"><code>#!/usr/bin/env python3
import sys
import asyncio
from copilot_sdk import CopilotClient

async def main():
    # Context manager handles cleanup automatically
    async with CopilotClient() as client:
        prompt = sys.argv[1] if len(sys.argv) > 1 else 'Explain Python decorators'
        
        result = await client.run_agent(prompt)
        
        print('=== Agent Response ===')
        print(result.output)
        print('\n=== Metadata ===')
        print(result.metadata)

if __name__ == '__main__':
    asyncio.run(main())</code></pre>

          <h3>.NET (C#)</h3>
          <pre class="syntax-highlighted" data-language="csharp"><code>using System;
using System.Threading.Tasks;
using GitHub.Copilot.SDK;

class Program
{
    static async Task Main(string[] args)
    {
        // Using statement ensures cleanup
        using var client = new CopilotClient();
        
        try
        {
            var prompt = args.Length > 0 
                ? args[0] 
                : "Explain C# async/await";
            
            var result = await client.RunAgentAsync(prompt);
            
            Console.WriteLine("=== Agent Response ===");
            Console.WriteLine(result.Output);
            Console.WriteLine("\n=== Metadata ===");
            Console.WriteLine(result.Metadata);
        }
        catch (Exception ex)
        {
            Console.Error.WriteLine($"Error: {ex.Message}");
            Environment.Exit(1);
        }
    }
}</code></pre>

          <h3>Go</h3>
          <pre class="syntax-highlighted" data-language="go"><code>package main

import (
	"context"
	"fmt"
	"os"

	copilot "github.com/github/copilot-sdk/go"
)

func main() {
	client, err := copilot.NewClient()
	if err != nil {
		fmt.Fprintf(os.Stderr, "Error creating client: %v\n", err)
		os.Exit(1)
	}
	defer client.Close()

	prompt := "Explain Go goroutines"
	if len(os.Args) > 1 {
		prompt = os.Args[1]
	}

	ctx := context.Background()
	result, err := client.RunAgent(ctx, &copilot.AgentRequest{
		Prompt: prompt,
	})

	if err != nil {
		fmt.Fprintf(os.Stderr, "Error: %v\n", err)
		os.Exit(1)
	}

	fmt.Println("=== Agent Response ===")
	fmt.Println(result.Output)
	fmt.Println("\n=== Metadata ===")
	fmt.Printf("%+v\n", result.Metadata)
}</code></pre>

          <h2>Common Use Cases</h2>
          
          <h3>1. Code Generation Script</h3>
          <pre class="syntax-highlighted" data-language="typescript"><code>#!/usr/bin/env node
import { CopilotClient } from 'copilot-sdk';
import fs from 'fs/promises';

async function generateComponent(componentName: string) {
  const client = new CopilotClient();
  
  try {
    const result = await client.runAgent(
      `Create a React component named ${componentName} with:
      - TypeScript
      - Props interface
      - Basic styling
      - JSDoc comments`
    );
    
    // Save to file
    await fs.writeFile(
      `${componentName}.tsx`,
      result.output
    );
    
    console.log(`‚úÖ Created ${componentName}.tsx`);
  } finally {
    await client.close();
  }
}

const componentName = process.argv[2];
if (!componentName) {
  console.error('Usage: generate-component.ts <ComponentName>');
  process.exit(1);
}

generateComponent(componentName);</code></pre>

          <h3>2. Documentation Generator</h3>
          <pre class="syntax-highlighted" data-language="python"><code>#!/usr/bin/env python3
import asyncio
import sys
from pathlib import Path
from copilot_sdk import CopilotClient

async def generate_docs(source_file: str):
    async with CopilotClient() as client:
        # Read source code
        code = Path(source_file).read_text()
        
        # Generate documentation
        result = await client.run_agent(
            f"""Analyze this code and generate comprehensive documentation:
            
            {code}
            
            Include:
            - Overview
            - Function descriptions
            - Parameter explanations
            - Return values
            - Usage examples
            """
        )
        
        # Save documentation
        doc_file = source_file.replace('.py', '_docs.md')
        Path(doc_file).write_text(result.output)
        
        print(f"‚úÖ Generated {doc_file}")

if __name__ == '__main__':
    if len(sys.argv) < 2:
        print('Usage: generate-docs.py <source_file.py>')
        sys.exit(1)
    
    asyncio.run(generate_docs(sys.argv[1]))</code></pre>

          <h3>3. CI/CD Test Generator</h3>
          <pre class="syntax-highlighted" data-language="typescript"><code>// generate-tests.ts - Run in CI pipeline
import { CopilotClient } from 'copilot-sdk';
import { execSync } from 'child_process';
import fs from 'fs/promises';

async function generateTests() {
  const client = new CopilotClient();
  
  try {
    // Get list of changed files
    const changedFiles = execSync('git diff --name-only HEAD~1')
      .toString()
      .split('\n')
      .filter(f => f.endsWith('.ts') && !f.endsWith('.test.ts'));
    
    for (const file of changedFiles) {
      console.log(`Generating tests for ${file}...`);
      
      const code = await fs.readFile(file, 'utf-8');
      
      const result = await client.runAgent(
        `Generate comprehensive unit tests for this TypeScript code:
        
        ${code}
        
        Use Jest framework. Include:
        - Happy path tests
        - Edge cases
        - Error scenarios
        - Mock external dependencies`
      );
      
      const testFile = file.replace('.ts', '.test.ts');
      await fs.writeFile(testFile, result.output);
      
      console.log(`‚úÖ Created ${testFile}`);
    }
  } finally {
    await client.close();
  }
}

generateTests().catch(error => {
  console.error('Failed to generate tests:', error);
  process.exit(1);
});</code></pre>

          <h3>4. Interactive CLI Tool</h3>
          <pre class="syntax-highlighted" data-language="typescript"><code>#!/usr/bin/env node
import { CopilotClient } from 'copilot-sdk';
import readline from 'readline';

const rl = readline.createInterface({
  input: process.stdin,
  output: process.stdout
});

async function interactiveCLI() {
  const client = new CopilotClient();
  
  console.log('ü§ñ Copilot Interactive CLI');
  console.log('Type your questions (or "exit" to quit)\n');
  
  const askQuestion = () => {
    rl.question('You: ', async (prompt) => {
      if (prompt.toLowerCase() === 'exit') {
        console.log('Goodbye!');
        await client.close();
        rl.close();
        return;
      }
      
      try {
        const result = await client.runAgent(prompt);
        console.log(`\nCopilot: ${result.output}\n`);
      } catch (error) {
        console.error(`Error: ${error.message}\n`);
      }
      
      askQuestion();
    });
  };
  
  askQuestion();
}

interactiveCLI();</code></pre>

          <h2>Streaming Responses</h2>
          
          <p>For long-running tasks, stream responses for better user experience:</p>
          
          <pre class="syntax-highlighted" data-language="typescript"><code>import { CopilotClient } from 'copilot-sdk';

async function streamExample() {
  const client = new CopilotClient();
  
  try {
    console.log('Generating response...');
    
    for await (const event of client.streamAgent(
      'Write a comprehensive guide to microservices architecture'
    )) {
      if (event.type === 'output') {
        process.stdout.write(event.content);
      } else if (event.type === 'progress') {
        console.log(`[${event.message}]`);
      } else if (event.type === 'complete') {
        console.log('\n\n‚úÖ Complete!');
      }
    }
  } finally {
    await client.close();
  }
}

streamExample();</code></pre>

          <h2>Error Handling Patterns</h2>
          
          <h3>Basic Error Handling</h3>
          <pre class="syntax-highlighted" data-language="typescript"><code>try {
  const result = await client.runAgent(prompt);
  console.log(result.output);
} catch (error) {
  console.error('Failed:', error.message);
  process.exit(1);
}</code></pre>

          <h3>Detailed Error Handling</h3>
          <pre class="syntax-highlighted" data-language="typescript"><code>import { 
  CopilotClient,
  AuthenticationError,
  TimeoutError,
  CLIError
} from 'copilot-sdk';

try {
  const result = await client.runAgent(prompt);
  console.log(result.output);
} catch (error) {
  if (error instanceof AuthenticationError) {
    console.error('‚ùå Not authenticated. Run: gh auth login');
  } else if (error instanceof TimeoutError) {
    console.error('‚ùå Request timed out. Try a simpler task.');
  } else if (error instanceof CLIError) {
    console.error('‚ùå CLI error:', error.message);
    console.error('CLI output:', error.cliOutput);
  } else {
    console.error('‚ùå Unexpected error:', error.message);
  }
  process.exit(1);
}</code></pre>

          <h2>Configuration Options</h2>
          
          <pre class="syntax-highlighted" data-language="typescript"><code>const client = new CopilotClient({
  // CLI path (optional, auto-detected by default)
  cliPath: '/usr/local/bin/copilot',
  
  // Request timeout
  timeout: 60000,  // 60 seconds
  
  // Enable debug logging
  debug: true,
  
  // Tool permissions
  tools: ['fs.read', 'grep.search'],
  
  // Model selection
  model: 'claude-sonnet-4.5'
});</code></pre>

          <h2>Testing</h2>
          
          <h3>Unit Test Example</h3>
          <pre class="syntax-highlighted" data-language="typescript"><code>import { CopilotClient } from 'copilot-sdk';
import { describe, test, expect, afterAll } from '@jest/globals';

describe('Copilot Integration', () => {
  let client: CopilotClient;
  
  beforeAll(() => {
    client = new CopilotClient();
  });
  
  afterAll(async () => {
    await client.close();
  });
  
  test('should generate code explanation', async () => {
    const result = await client.runAgent(
      'Explain what Promise.all does in JavaScript'
    );
    
    expect(result.output).toBeTruthy();
    expect(result.output).toContain('Promise');
  }, 30000);  // 30 second timeout
  
  test('should handle errors gracefully', async () => {
    await expect(
      client.runAgent('')  // Empty prompt
    ).rejects.toThrow();
  });
});</code></pre>

          <h2>Best Practices</h2>
          
          <h3>‚úÖ Do's</h3>
          <ul>
            <li>Always close the client in a <code>finally</code> block</li>
            <li>Use language-specific cleanup patterns (context managers, using statements, defer)</li>
            <li>Implement proper error handling</li>
            <li>Set appropriate timeouts for your use case</li>
            <li>Validate user input before passing to agent</li>
            <li>Log errors for debugging</li>
          </ul>

          <h3>‚ùå Don'ts</h3>
          <ul>
            <li>Don't forget to close the client (causes resource leaks)</li>
            <li>Don't use empty catch blocks</li>
            <li>Don't pass untrusted input directly to agent</li>
            <li>Don't ignore authentication errors</li>
            <li>Don't use basic pattern for high-concurrency scenarios</li>
          </ul>

          <h2>Performance Tips</h2>
          
          <ul>
            <li><strong>Connection Reuse:</strong> For scripts that make multiple requests, create one client and reuse it</li>
            <li><strong>Timeout Configuration:</strong> Set realistic timeouts based on task complexity</li>
            <li><strong>Streaming:</strong> Use streaming for long-running tasks to show progress</li>
            <li><strong>Prompt Optimization:</strong> Clear, specific prompts get faster, better results</li>
          </ul>

          <div class="callout">
            <strong>üí° When to Graduate:</strong><br />
            Move to more advanced patterns when:
            <ul>
              <li>You need specialized agent behavior ‚Üí <strong>Custom Agent Pattern</strong></li>
              <li>You have high-concurrency requirements ‚Üí <strong>External CLI Pattern</strong></li>
              <li>You need strict security controls ‚Üí <strong>Tool Configuration Pattern</strong></li>
            </ul>
          </div>
        </section>

        <section id="pattern-custom-agent" role="article">
          <h1>ü§ñ Custom Agent Pattern</h1>
          <span class="badge">custom</span>
          <span class="badge">agent</span>
          
          <p>The Custom Agent Pattern involves creating specialized agents with specific behaviors, expertise, and capabilities tailored to particular tasks or domains. This pattern provides maximum flexibility and enables you to build highly effective, purpose-built AI assistants.</p>

          <h2>When to Use</h2>
          
          <ul>
            <li>‚úÖ <strong>Specialized Tasks:</strong> Code review, testing, documentation</li>
            <li>‚úÖ <strong>Domain Expertise:</strong> Security auditing, architecture design, performance optimization</li>
            <li>‚úÖ <strong>Consistent Behavior:</strong> Need predictable, role-specific responses</li>
            <li>‚úÖ <strong>Multi-Agent Systems:</strong> Different agents for different stages of a workflow</li>
            <li>‚úÖ <strong>Constrained Operations:</strong> Specific output formats or methodologies</li>
          </ul>

          <h2>Core Pattern</h2>
          
          <pre class="syntax-highlighted" data-language="typescript"><code>import { CopilotClient, AgentConfig } from 'copilot-sdk';

// 1. Define custom agent
const customAgent: AgentConfig = {
  name: 'my-specialist',
  description: 'Purpose and capabilities',
  systemPrompt: `
    You are a specialized agent with expertise in...
    Follow these rules:
    1. ...
    2. ...
  `,
  tools: ['fs.read', 'grep.search'],
  model: 'claude-sonnet-4.5'
};

// 2. Use with client
const client = new CopilotClient();
const result = await client.runAgent({
  agent: customAgent,
  prompt: 'Your task here'
});</code></pre>

          <h2>Real-World Examples</h2>
          
          <h3>1. Code Review Agent</h3>
          <pre class="syntax-highlighted" data-language="typescript"><code>const codeReviewer = {
  name: 'code-reviewer',
  description: 'Expert code reviewer focusing on quality and security',
  systemPrompt: `
    You are a senior software engineer performing code reviews.
    
    EXPERTISE:
    - Software design patterns and SOLID principles
    - Security vulnerabilities (OWASP Top 10)
    - Performance optimization
    - Code maintainability and readability
    - Testing best practices
    
    REVIEW PROCESS:
    1. Read the code carefully
    2. Identify issues by category:
       - üêõ Bugs: Logic errors, edge cases
       - üîí Security: Vulnerabilities, unsafe operations
       - ‚ö° Performance: Inefficient algorithms, resource leaks
       - üìö Maintainability: Code smells, complexity
       - ‚úÖ Testing: Missing tests, poor coverage
    3. For each issue:
       - Explain WHAT the issue is
       - Explain WHY it's a problem
       - Suggest HOW to fix it with code examples
    4. Acknowledge what's done well
    
    OUTPUT FORMAT:
    ## Summary
    [Brief overview]
    
    ## Critical Issues
    [Must-fix items]
    
    ## Suggestions
    [Improvements]
    
    ## Positives
    [Well-done aspects]
  `,
  tools: ['fs.read', 'git.diff', 'grep.search'],
  model: 'claude-sonnet-4.5'
};

// Usage
async function reviewPullRequest(prNumber: number) {
  const client = new CopilotClient();
  
  try {
    const result = await client.runAgent({
      agent: codeReviewer,
      prompt: `Review the code changes in PR #${prNumber}`
    });
    
    console.log(result.output);
    
    // Post review as PR comment
    await postPRComment(prNumber, result.output);
  } finally {
    await client.close();
  }
}</code></pre>

          <h3>2. Security Auditor Agent</h3>
          <pre class="syntax-highlighted" data-language="typescript"><code>const securityAuditor = {
  name: 'security-auditor',
  description: 'Security vulnerability scanner and advisor',
  systemPrompt: `
    You are a cybersecurity expert specializing in application security.
    
    SECURITY DOMAINS:
    - OWASP Top 10 vulnerabilities
    - Authentication and authorization flaws
    - Injection attacks (SQL, XSS, Command)
    - Cryptographic weaknesses
    - API security issues
    - Dependency vulnerabilities
    
    AUDIT METHODOLOGY:
    1. Scan for common vulnerability patterns
    2. Check authentication/authorization logic
    3. Identify input validation issues
    4. Review sensitive data handling
    5. Assess third-party dependencies
    6. Check security configurations
    
    SEVERITY LEVELS:
    - üî¥ Critical: Immediate exploitation risk
    - üü† High: Serious vulnerability, patch ASAP
    - üü° Medium: Should be fixed soon
    - üîµ Low: Minor issue or best practice
    - üü¢ Info: Informational only
    
    For each finding, provide:
    - Severity and vulnerability type
    - Location in code
    - Exploitation scenario
    - Remediation steps with code examples
    - References (CWE, CVE)
  `,
  tools: ['fs.read', 'grep.search'],
  model: 'claude-sonnet-4.5'
};

async function auditCodebase() {
  const client = new CopilotClient();
  
  try {
    const result = await client.runAgent({
      agent: securityAuditor,
      prompt: 'Perform a comprehensive security audit of this codebase'
    });
    
    // Generate security report
    await generateSecurityReport(result.output);
    
    // Check for critical issues
    if (result.output.includes('üî¥ Critical')) {
      console.error('‚ö†Ô∏è  CRITICAL SECURITY ISSUES FOUND!');
      process.exit(1);
    }
  } finally {
    await client.close();
  }
}</code></pre>

          <h3>3. Test Generator Agent</h3>
          <pre class="syntax-highlighted" data-language="typescript"><code>const testGenerator = {
  name: 'test-generator',
  description: 'Generates comprehensive test suites',
  systemPrompt: `
    You are a testing expert specializing in writing high-quality automated tests.
    
    TESTING PHILOSOPHY:
    - Test behavior, not implementation
    - Follow AAA pattern (Arrange, Act, Assert)
    - Write clear, descriptive test names
    - Cover happy paths and edge cases
    - Test error scenarios
    - Mock external dependencies
    
    TEST TYPES:
    - Unit tests: Individual functions/methods
    - Integration tests: Component interactions
    - E2E tests: Complete user workflows
    
    COVERAGE REQUIREMENTS:
    - All public functions must have tests
    - Edge cases: null, undefined, empty, max values
    - Error scenarios: invalid input, exceptions
    - Async operations: success and failure paths
    
    OUTPUT:
    - Use the project's testing framework
    - Include necessary imports and setup
    - Add helpful comments
    - Group related tests with describe blocks
    - Use meaningful assertion messages
  `,
  tools: ['fs.read', 'grep.search'],
  model: 'claude-sonnet-4.5'
};

async function generateTests(sourceFile: string) {
  const client = new CopilotClient();
  
  try {
    const result = await client.runAgent({
      agent: testGenerator,
      prompt: `Generate comprehensive unit tests for ${sourceFile}`
    });
    
    const testFile = sourceFile.replace(/\.(ts|js)$/, '.test.$1');
    await fs.writeFile(testFile, result.output);
    
    console.log(`‚úÖ Generated ${testFile}`);
  } finally {
    await client.close();
  }
}</code></pre>

          <h3>4. Documentation Writer Agent</h3>
          <pre class="syntax-highlighted" data-language="typescript"><code>const docWriter = {
  name: 'doc-writer',
  description: 'Technical documentation specialist',
  systemPrompt: `
    You are a senior technical writer specializing in developer documentation.
    
    WRITING PRINCIPLES:
    - Write for developers with intermediate experience
    - Be clear, concise, and accurate
    - Use active voice
    - Include practical examples
    - Explain both "how" and "why"
    
    DOCUMENTATION STRUCTURE:
    1. Overview: What it is and does
    2. Prerequisites: What's needed
    3. Installation: Setup steps
    4. Usage: How to use with examples
    5. API Reference: Detailed interface docs
    6. Common Issues: Troubleshooting
    7. Best Practices: Recommendations
    
    CODE EXAMPLES:
    - Provide complete, runnable examples
    - Include multiple languages when relevant
    - Add inline comments for complex logic
    - Show both basic and advanced usage
    
    FORMAT:
    - Use Markdown formatting
    - Add syntax highlighting to code blocks
    - Use tables for structured data
    - Include diagrams where helpful
    - Link to related documentation
  `,
  tools: ['fs.read', 'grep.search'],
  model: 'claude-sonnet-4.5'
};

async function generateAPI Docs(modulePath: string) {
  const client = new CopilotClient();
  
  try {
    const result = await client.runAgent({
      agent: docWriter,
      prompt: `Generate comprehensive API documentation for ${modulePath}`
    });
    
    await fs.writeFile('API.md', result.output);
    console.log('‚úÖ Generated API.md');
  } finally {
    await client.close();
  }
}</code></pre>

          <h2>Multi-Agent Workflows</h2>
          
          <p>Combine multiple specialized agents for complex workflows:</p>
          
          <pre class="syntax-highlighted" data-language="typescript"><code>// Define specialized agents
const agents = {
  architect: {
    name: 'architect',
    systemPrompt: 'Design scalable system architectures...',
    tools: ['fs.read']
  },
  developer: {
    name: 'developer',
    systemPrompt: 'Implement code following specifications...',
    tools: ['fs.write', 'npm.install']
  },
  tester: {
    name: 'tester',
    systemPrompt: 'Create comprehensive test suites...',
    tools: ['fs.write', 'npm.run']
  },
  reviewer: {
    name: 'reviewer',
    systemPrompt: 'Review code for quality and issues...',
    tools: ['fs.read', 'git.diff']
  }
};

// Execute workflow
async function developFeature(featureSpec: string) {
  const client = new CopilotClient();
  
  try {
    // Step 1: Architecture design
    console.log('üìê Designing architecture...');
    const design = await client.runAgent({
      agent: agents.architect,
      prompt: `Design architecture for: ${featureSpec}`
    });
    
    // Step 2: Implementation
    console.log('üíª Implementing feature...');
    const code = await client.runAgent({
      agent: agents.developer,
      prompt: `Implement this design:\n${design.output}`
    });
    
    // Step 3: Test generation
    console.log('üß™ Generating tests...');
    const tests = await client.runAgent({
      agent: agents.tester,
      prompt: 'Generate tests for the implemented code'
    });
    
    // Step 4: Code review
    console.log('üëÄ Reviewing code...');
    const review = await client.runAgent({
      agent: agents.reviewer,
      prompt: 'Review the implementation and tests'
    });
    
    return {
      design: design.output,
      code: code.output,
      tests: tests.output,
      review: review.output
    };
  } finally {
    await client.close();
  }
}</code></pre>

          <h2>Agent Configuration Patterns</h2>
          
          <h3>Strict Output Format</h3>
          <pre class="syntax-highlighted" data-language="typescript"><code>const jsonAgent = {
  name: 'json-generator',
  systemPrompt: `
    Generate responses in valid JSON format only.
    
    Output structure:
    {
      "result": "...",
      "metadata": {
        "confidence": 0.95,
        "sources": ["..."]
      }
    }
    
    Do not include any text outside the JSON object.
  `,
  tools: []
};</code></pre>

          <h3>Constrained Behavior</h3>
          <pre class="syntax-highlighted" data-language="typescript"><code>const safeAgent = {
  name: 'safe-agent',
  systemPrompt: `
    CONSTRAINTS:
    - Only read files, never write or delete
    - Only provide information, never execute actions
    - If asked to do something outside constraints, politely decline
    - Always explain limitations clearly
    
    ALLOWED:
    - Reading and analyzing code
    - Providing explanations and suggestions
    - Answering questions
    
    NOT ALLOWED:
    - Modifying files
    - Running commands
    - Making external API calls
  `,
  tools: ['fs.read']  // Read-only
};</code></pre>

          <h3>Context-Aware Agent</h3>
          <pre class="syntax-highlighted" data-language="typescript"><code>function createContextualAgent(projectType: string, language: string) {
  return {
    name: `${projectType}-${language}-agent`,
    systemPrompt: `
      You are an expert in ${language} development for ${projectType} projects.
      
      Project context:
      - Language: ${language}
      - Project type: ${projectType}
      - Follow ${language} idioms and best practices
      - Use appropriate frameworks for ${projectType}
    `,
    tools: ['fs.read', 'fs.write'],
    model: 'claude-sonnet-4.5'
  };
}

// Usage
const webAgent = createContextualAgent('web-app', 'TypeScript');
const apiAgent = createContextualAgent('rest-api', 'Python');</code></pre>

          <h2>Agent Registry Pattern</h2>
          
          <pre class="syntax-highlighted" data-language="typescript"><code>class AgentRegistry {
  private agents = new Map<string, AgentConfig>();
  
  register(agent: AgentConfig) {
    this.agents.set(agent.name, agent);
  }
  
  get(name: string): AgentConfig | undefined {
    return this.agents.get(name);
  }
  
  list(): string[] {
    return Array.from(this.agents.keys());
  }
}

// Setup
const registry = new AgentRegistry();
registry.register(codeReviewer);
registry.register(securityAuditor);
registry.register(testGenerator);

// Usage
async function runAgent(agentName: string, prompt: string) {
  const agent = registry.get(agentName);
  if (!agent) {
    throw new Error(`Agent '${agentName}' not found`);
  }
  
  const client = new CopilotClient();
  try {
    return await client.runAgent({ agent, prompt });
  } finally {
    await client.close();
  }
}</code></pre>

          <h2>Best Practices</h2>
          
          <h3>‚úÖ Do's</h3>
          <ul>
            <li>Define clear, specific roles and expertise</li>
            <li>Provide detailed instructions in system prompts</li>
            <li>Include examples of desired output</li>
            <li>Set constraints and boundaries</li>
            <li>Grant only necessary tools</li>
            <li>Use descriptive agent names</li>
            <li>Version agent configurations</li>
            <li>Test agents with various inputs</li>
          </ul>

          <h3>‚ùå Don'ts</h3>
          <ul>
            <li>Don't make prompts too vague or general</li>
            <li>Don't grant excessive tool permissions</li>
            <li>Don't create agents that try to do everything</li>
            <li>Don't ignore model limitations</li>
            <li>Don't skip validation of agent outputs</li>
            <li>Don't use same agent for unrelated tasks</li>
          </ul>

          <h2>Testing Custom Agents</h2>
          
          <pre class="syntax-highlighted" data-language="typescript"><code>describe('CodeReviewer Agent', () => {
  let client: CopilotClient;
  
  beforeAll(() => {
    client = new CopilotClient();
  });
  
  afterAll(async () => {
    await client.close();
  });
  
  test('identifies bugs', async () => {
    const buggyCode = `
      function divide(a, b) {
        return a / b;  // No zero check!
      }
    `;
    
    const result = await client.runAgent({
      agent: codeReviewer,
      prompt: `Review this code:\n${buggyCode}`
    });
    
    expect(result.output).toContain('bug');
    expect(result.output).toContain('zero');
  });
  
  test('suggests improvements', async () => {
    const result = await client.runAgent({
      agent: codeReviewer,
      prompt: 'Review: function foo(x) { return x + 1; }'
    });
    
    expect(result.output).toBeTruthy();
  });
});</code></pre>

          <div class="callout">
            <strong>üí° Key Takeaways:</strong><br />
            ‚Ä¢ Custom agents enable specialized, consistent behavior<br />
            ‚Ä¢ System prompts are the key to agent customization<br />
            ‚Ä¢ Use multiple agents for complex workflows<br />
            ‚Ä¢ Always test agent outputs and behavior<br />
            ‚Ä¢ Follow principle of least privilege for tool access
          </div>
        </section>

        <section id="pattern-external-cli" role="article">
          <h1>üîå External CLI Pattern</h1>
          <span class="badge">external</span>
          <span class="badge">cli</span>
          
          <p>The External CLI Pattern involves connecting SDK clients to a shared, separately-managed CLI server instance instead of spawning individual processes. This pattern is essential for high-concurrency applications, multi-tenant systems, and scenarios requiring centralized CLI management.</p>

          <h2>When to Use</h2>
          
          <ul>
            <li>‚úÖ <strong>High Concurrency:</strong> Web servers handling many simultaneous requests</li>
            <li>‚úÖ <strong>Resource Optimization:</strong> Multiple apps sharing one CLI instance</li>
            <li>‚úÖ <strong>Containerized Deployments:</strong> Sidecar pattern in Kubernetes</li>
            <li>‚úÖ <strong>Multi-Tenant Systems:</strong> Centralized CLI with client isolation</li>
            <li>‚úÖ <strong>Development Teams:</strong> Shared CLI server for team use</li>
            <li>‚úÖ <strong>Cost Optimization:</strong> Reduce resource consumption</li>
          </ul>

          <h2>Architecture</h2>
          
          <div class="mermaid">
graph TB
    subgraph "Local Mode (Default)"
        A1[App 1] --> B1[SDK Client]
        B1 -->|Spawns| C1[CLI Process 1]
        
        A2[App 2] --> B2[SDK Client]
        B2 -->|Spawns| C2[CLI Process 2]
    end
    
    subgraph "External CLI Mode"
        A3[App 1] --> B3[SDK Client 1]
        A4[App 2] --> B4[SDK Client 2]
        A5[App 3] --> B5[SDK Client 3]
        
        B3 -->|Connect| C3[Shared CLI Server]
        B4 -->|Connect| C3
        B5 -->|Connect| C3
    end
    
    C1 -->|HTTPS| D[GitHub AI]
    C2 -->|HTTPS| D
    C3 -->|HTTPS| D
    
    style C1 fill:#fee2e2
    style C2 fill:#fee2e2
    style C3 fill:#dcfce7
          </div>

          <h2>Setup Steps</h2>
          
          <h3>Step 1: Start CLI Server</h3>
          
          <pre class="syntax-highlighted" data-language="bash"><code># Start CLI in server mode
copilot-cli server --host 0.0.0.0 --port 8080

# Or with authentication
copilot-cli server \
  --host 0.0.0.0 \
  --port 8080 \
  --auth-token $(cat ~/.copilot-token)

# With TLS
copilot-cli server \
  --host 0.0.0.0 \
  --port 8443 \
  --tls-cert /path/to/cert.pem \
  --tls-key /path/to/key.pem</code></pre>

          <h3>Step 2: Configure SDK Clients</h3>
          
          <pre class="syntax-highlighted" data-language="typescript"><code>import { CopilotClient } from 'copilot-sdk';

const client = new CopilotClient({
  // Connect to external CLI server
  external: {
    host: 'localhost',  // or 'copilot-server.internal'
    port: 8080,
    
    // Optional: Authentication
    authToken: process.env.COPILOT_AUTH_TOKEN,
    
    // Optional: TLS
    tls: {
      enabled: true,
      rejectUnauthorized: true,
      ca: fs.readFileSync('/path/to/ca.pem')
    }
  }
});</code></pre>

          <h2>Deployment Patterns</h2>
          
          <h3>Pattern 1: Standalone Server</h3>
          
          <pre class="syntax-highlighted" data-language="yaml"><code># docker-compose.yml
version: '3.8'

services:
  # Copilot CLI server
  copilot-server:
    image: ghcr.io/github/copilot-cli:latest
    command: server --host 0.0.0.0 --port 8080
    ports:
      - "8080:8080"
    environment:
      - GITHUB_TOKEN=${GITHUB_TOKEN}
    restart: unless-stopped
  
  # Your application
  app:
    build: .
    environment:
      - COPILOT_HOST=copilot-server
      - COPILOT_PORT=8080
    depends_on:
      - copilot-server</code></pre>

          <h3>Pattern 2: Kubernetes Sidecar</h3>
          
          <pre class="syntax-highlighted" data-language="yaml"><code># kubernetes-deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: app-with-copilot
spec:
  replicas: 3
  template:
    spec:
      containers:
        # Main application
        - name: app
          image: myapp:latest
          env:
            - name: COPILOT_HOST
              value: "localhost"
            - name: COPILOT_PORT
              value: "8080"
        
        # Copilot CLI sidecar
        - name: copilot-cli
          image: ghcr.io/github/copilot-cli:latest
          args:
            - server
            - --host
            - "0.0.0.0"
            - --port
            - "8080"
          ports:
            - containerPort: 8080
          env:
            - name: GITHUB_TOKEN
              valueFrom:
                secretKeyRef:
                  name: github-token
                  key: token</code></pre>

          <h3>Pattern 3: Shared Team Server</h3>
          
          <pre class="syntax-highlighted" data-language="bash"><code># On shared development server
# Start persistent CLI server
sudo systemctl enable copilot-server
sudo systemctl start copilot-server

# Team members connect
export COPILOT_HOST=dev-server.company.com
export COPILOT_PORT=8080</code></pre>

          <h2>Client Configuration</h2>
          
          <h3>TypeScript/JavaScript</h3>
          <pre class="syntax-highlighted" data-language="typescript"><code>import { CopilotClient } from 'copilot-sdk';

const client = new CopilotClient({
  external: {
    host: process.env.COPILOT_HOST || 'localhost',
    port: parseInt(process.env.COPILOT_PORT || '8080'),
    
    // Connection timeout
    connectionTimeout: 5000,
    
    // Request timeout
    requestTimeout: 60000,
    
    // Retry configuration
    retry: {
      maxAttempts: 3,
      backoff: 'exponential',
      initialDelay: 1000
    }
  }
});</code></pre>

          <h3>Python</h3>
          <pre class="syntax-highlighted" data-language="python"><code>from copilot_sdk import CopilotClient
import os

client = CopilotClient(
    external={
        'host': os.getenv('COPILOT_HOST', 'localhost'),
        'port': int(os.getenv('COPILOT_PORT', '8080')),
        'connection_timeout': 5.0,
        'request_timeout': 60.0
    }
)</code></pre>

          <h3>.NET</h3>
          <pre class="syntax-highlighted" data-language="csharp"><code>using GitHub.Copilot.SDK;

var client = new CopilotClient(new ClientOptions
{
    External = new ExternalCliOptions
    {
        Host = Environment.GetEnvironmentVariable("COPILOT_HOST") ?? "localhost",
        Port = int.Parse(Environment.GetEnvironmentVariable("COPILOT_PORT") ?? "8080"),
        ConnectionTimeout = TimeSpan.FromSeconds(5),
        RequestTimeout = TimeSpan.FromSeconds(60)
    }
});</code></pre>

          <h3>Go</h3>
          <pre class="syntax-highlighted" data-language="go"><code>package main

import (
	"os"
	"strconv"
	copilot "github.com/github/copilot-sdk/go"
)

func main() {
	port, _ := strconv.Atoi(getEnv("COPILOT_PORT", "8080"))
	
	client, err := copilot.NewClient(&copilot.ClientOptions{
		External: &copilot.ExternalOptions{
			Host: getEnv("COPILOT_HOST", "localhost"),
			Port: port,
		},
	})
	defer client.Close()
}

func getEnv(key, fallback string) string {
	if value := os.Getenv(key); value != "" {
		return value
	}
	return fallback
}</code></pre>

          <h2>Web Server Example</h2>
          
          <pre class="syntax-highlighted" data-language="typescript"><code>import express from 'express';
import { CopilotClient } from 'copilot-sdk';

const app = express();
app.use(express.json());

// Single client connected to external CLI
const copilot = new CopilotClient({
  external: {
    host: process.env.COPILOT_HOST || 'localhost',
    port: parseInt(process.env.COPILOT_PORT || '8080')
  }
});

// Handle concurrent requests efficiently
app.post('/api/agent', async (req, res) => {
  try {
    const { prompt, model } = req.body;
    
    // All requests share the same CLI connection
    const result = await copilot.runAgent({
      prompt,
      model
    });
    
    res.json({
      success: true,
      output: result.output,
      metadata: result.metadata
    });
  } catch (error) {
    res.status(500).json({
      success: false,
      error: error.message
    });
  }
});

// Health check endpoint
app.get('/health', async (req, res) => {
  try {
    const status = await copilot.getStatus();
    res.json({ healthy: true, cli: status });
  } catch (error) {
    res.status(503).json({ healthy: false, error: error.message });
  }
});

// Graceful shutdown
process.on('SIGTERM', async () => {
  console.log('Shutting down gracefully...');
  await copilot.close();
  process.exit(0);
});

const PORT = process.env.PORT || 3000;
app.listen(PORT, () => {
  console.log(`Server running on port ${PORT}`);
  console.log(`Connected to Copilot CLI at ${process.env.COPILOT_HOST}:${process.env.COPILOT_PORT}`);
});</code></pre>

          <h2>Load Balancing</h2>
          
          <p>For very high load, run multiple CLI servers behind a load balancer:</p>
          
          <pre class="syntax-highlighted" data-language="nginx"><code># nginx.conf
upstream copilot_servers {
    least_conn;  # Use least-connections algorithm
    
    server copilot-1:8080 max_fails=3 fail_timeout=30s;
    server copilot-2:8080 max_fails=3 fail_timeout=30s;
    server copilot-3:8080 max_fails=3 fail_timeout=30s;
}

server {
    listen 80;
    
    location / {
        proxy_pass http://copilot_servers;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection "upgrade";
        proxy_set_header Host $host;
        
        # Timeouts
        proxy_connect_timeout 5s;
        proxy_send_timeout 60s;
        proxy_read_timeout 60s;
    }
}</code></pre>

          <h2>Security Considerations</h2>
          
          <h3>Authentication</h3>
          <pre class="syntax-highlighted" data-language="typescript"><code>// Server side: Require authentication token
const client = new CopilotClient({
  external: {
    host: 'copilot-server.internal',
    port: 8443,
    authToken: process.env.COPILOT_AUTH_TOKEN,
    tls: {
      enabled: true,
      rejectUnauthorized: true
    }
  }
});</code></pre>

          <h3>Network Isolation</h3>
          <pre class="syntax-highlighted" data-language="yaml"><code># docker-compose.yml with isolated network
version: '3.8'

services:
  copilot-server:
    image: ghcr.io/github/copilot-cli:latest
    networks:
      - copilot-internal
    # Not exposed to host
  
  app:
    build: .
    networks:
      - copilot-internal
      - public
    ports:
      - "3000:3000"

networks:
  copilot-internal:
    internal: true  # No external access
  public:</code></pre>

          <h3>Resource Limits</h3>
          <pre class="syntax-highlighted" data-language="yaml"><code># Kubernetes resource limits
containers:
  - name: copilot-cli
    resources:
      requests:
        memory: "256Mi"
        cpu: "250m"
      limits:
        memory: "1Gi"
        cpu: "1000m"</code></pre>

          <h2>Monitoring & Observability</h2>
          
          <h3>Health Checks</h3>
          <pre class="syntax-highlighted" data-language="typescript"><code>import { CopilotClient } from 'copilot-sdk';

class HealthChecker {
  private client: CopilotClient;
  
  constructor(client: CopilotClient) {
    this.client = client;
  }
  
  async checkHealth(): Promise<HealthStatus> {
    try {
      const start = Date.now();
      const status = await this.client.getStatus();
      const latency = Date.now() - start;
      
      return {
        healthy: true,
        latency,
        cliVersion: status.version,
        connected: status.connected
      };
    } catch (error) {
      return {
        healthy: false,
        error: error.message
      };
    }
  }
}

// Periodic health checks
setInterval(async () => {
  const health = await healthChecker.checkHealth();
  if (!health.healthy) {
    console.error('CLI server unhealthy:', health.error);
    // Alert or restart
  }
}, 30000);  // Every 30 seconds</code></pre>

          <h3>Metrics Collection</h3>
          <pre class="syntax-highlighted" data-language="typescript"><code>import { Counter, Histogram } from 'prom-client';

// Prometheus metrics
const requestCounter = new Counter({
  name: 'copilot_requests_total',
  help: 'Total number of Copilot requests'
});

const requestDuration = new Histogram({
  name: 'copilot_request_duration_seconds',
  help: 'Duration of Copilot requests'
});

// Wrap client calls
async function runAgentWithMetrics(prompt: string) {
  requestCounter.inc();
  const timer = requestDuration.startTimer();
  
  try {
    return await client.runAgent(prompt);
  } finally {
    timer();
  }
}</code></pre>

          <h2>Troubleshooting</h2>
          
          <h3>Connection Refused</h3>
          <pre class="syntax-highlighted" data-language="bash"><code># Check if server is running
telnet localhost 8080

# Check server logs
docker logs copilot-server

# Verify network connectivity
ping copilot-server.internal</code></pre>

          <h3>High Latency</h3>
          <ul>
            <li>Check network latency between client and server</li>
            <li>Monitor server resource usage (CPU, memory)</li>
            <li>Consider adding more CLI server instances</li>
            <li>Use load balancing</li>
          </ul>

          <h3>Authentication Failures</h3>
          <pre class="syntax-highlighted" data-language="bash"><code># Verify token
echo $COPILOT_AUTH_TOKEN

# Check server authentication settings
copilot-cli server --help</code></pre>

          <h2>Performance Comparison</h2>
          
          <table class="table">
            <thead>
              <tr>
                <th>Metric</th>
                <th>Local CLI</th>
                <th>External CLI</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Startup Time</td>
                <td>2-5 seconds per request</td>
                <td>~0ms (already running)</td>
              </tr>
              <tr>
                <td>Memory Usage (100 requests)</td>
                <td>5-10 GB (100 processes)</td>
                <td>50-100 MB (1 process)</td>
              </tr>
              <tr>
                <td>Concurrent Capacity</td>
                <td>Limited by system resources</td>
                <td>High (shared process)</td>
              </tr>
              <tr>
                <td>Cold Start Penalty</td>
                <td>High</td>
                <td>None</td>
              </tr>
            </tbody>
          </table>

          <h2>Best Practices</h2>
          
          <h3>‚úÖ Do's</h3>
          <ul>
            <li>Use external CLI for production web applications</li>
            <li>Implement health checks and monitoring</li>
            <li>Enable TLS for production deployments</li>
            <li>Use authentication tokens</li>
            <li>Set appropriate timeouts</li>
            <li>Implement graceful degradation</li>
            <li>Use load balancing for high traffic</li>
            <li>Monitor resource usage</li>
          </ul>

          <h3>‚ùå Don'ts</h3>
          <ul>
            <li>Don't expose CLI server to public internet</li>
            <li>Don't skip authentication in production</li>
            <li>Don't use self-signed certificates without validation</li>
            <li>Don't ignore connection errors</li>
            <li>Don't forget to set resource limits</li>
            <li>Don't run CLI server as root</li>
          </ul>

          <div class="callout">
            <strong>üí° Key Takeaways:</strong><br />
            ‚Ä¢ External CLI pattern is essential for high-concurrency applications<br />
            ‚Ä¢ Dramatically reduces resource usage and improves performance<br />
            ‚Ä¢ Requires proper security, monitoring, and error handling<br />
            ‚Ä¢ Ideal for web servers, Kubernetes deployments, and shared environments<br />
            ‚Ä¢ Consider load balancing for very high traffic scenarios
          </div>
        </section>

        <section id="pattern-tool-config" role="article">
          <h1>‚öôÔ∏è Tool Configuration Pattern</h1>
          <span class="badge">tools</span>
          <span class="badge">config</span>
          
          <p>The Tool Configuration Pattern focuses on managing tool permissions, approval workflows, and custom tool integration. This pattern is critical for security-conscious applications, production deployments, and scenarios requiring fine-grained control over what agents can do.</p>

          <h2>When to Use</h2>
          
          <ul>
            <li>‚úÖ <strong>Production Systems:</strong> Need strict security controls</li>
            <li>‚úÖ <strong>User-Facing Applications:</strong> IDE extensions, web apps</li>
            <li>‚úÖ <strong>Sensitive Environments:</strong> Financial, healthcare, enterprise</li>
            <li>‚úÖ <strong>Compliance Requirements:</strong> Audit trails, approval workflows</li>
            <li>‚úÖ <strong>Custom Integrations:</strong> Internal APIs, proprietary systems</li>
            <li>‚úÖ <strong>Multi-User Systems:</strong> Different permissions per user/role</li>
          </ul>

          <h2>Core Concepts</h2>
          
          <div class="mermaid">
graph TB
    A[Agent Request] --> B{Tool Needed?}
    B -->|Yes| C{Tool Allowed?}
    B -->|No| D[Execute Without Tools]
    
    C -->|Yes| E{Approval Required?}
    C -->|No| F[Access Denied]
    
    E -->|Yes| G[Request Approval]
    E -->|No| H[Execute Tool]
    
    G --> I{User Approves?}
    I -->|Yes| H
    I -->|No| F
    
    H --> J[Return Result]
    F --> K[Error/Alternative]
    D --> J
    
    style C fill:#dbeafe
    style E fill:#dcfce7
    style G fill:#fef3c7
    style H fill:#fee2e2
          </div>

          <h2>Permission Models</h2>
          
          <h3>1. Allow List (Recommended)</h3>
          
          <pre class="syntax-highlighted" data-language="typescript"><code>// Only specified tools are allowed
const client = new CopilotClient({
  tools: [
    'fs.read',      // ‚úÖ Allowed
    'git.status',   // ‚úÖ Allowed
    'grep.search'   // ‚úÖ Allowed
  ]
});

// fs.write, git.commit, etc. are blocked</code></pre>

          <h3>2. Deny List</h3>
          
          <pre class="syntax-highlighted" data-language="typescript"><code>// All tools except denied ones
const client = new CopilotClient({
  tools: ['all'],
  deniedTools: [
    'fs.delete',    // ‚ùå Denied
    'git.push',     // ‚ùå Denied
    'npm.publish'   // ‚ùå Denied
  ]
});</code></pre>

          <h3>3. No Tools</h3>
          
          <pre class="syntax-highlighted" data-language="typescript"><code>// Read-only, information-only agent
const client = new CopilotClient({
  tools: []  // No tools allowed
});</code></pre>

          <h3>4. Role-Based Access</h3>
          
          <pre class="syntax-highlighted" data-language="typescript"><code>const toolPermissions = {
  viewer: ['fs.read', 'git.status'],
  developer: ['fs.read', 'fs.write', 'git.status', 'git.commit'],
  admin: ['all']
};

function createClientForRole(role: string) {
  return new CopilotClient({
    tools: toolPermissions[role] || []
  });
}

const viewerClient = createClientForRole('viewer');
const devClient = createClientForRole('developer');</code></pre>

          <h2>Approval Workflows</h2>
          
          <h3>Basic Approval</h3>
          
          <pre class="syntax-highlighted" data-language="typescript"><code>import { CopilotClient } from 'copilot-sdk';
import readline from 'readline';

const rl = readline.createInterface({
  input: process.stdin,
  output: process.stdout
});

const client = new CopilotClient({
  requireToolApproval: true,
  tools: ['fs.write', 'git.commit']
});

client.on('toolApprovalRequired', async (request) => {
  console.log('\n‚ö†Ô∏è  Tool Approval Required:');
  console.log(`Tool: ${request.tool}`);
  console.log(`Description: ${request.description}`);
  console.log(`Details: ${JSON.stringify(request.details, null, 2)}`);
  
  const answer = await new Promise<string>(resolve => {
    rl.question('\nApprove? (y/n): ', resolve);
  });
  
  if (answer.toLowerCase() === 'y') {
    await client.approveTool(request.taskId, request.tool);
    console.log('‚úÖ Approved');
  } else {
    await client.denyTool(request.taskId, request.tool);
    console.log('‚ùå Denied');
  }
});</code></pre>

          <h3>Automatic Approval with Rules</h3>
          
          <pre class="syntax-highlighted" data-language="typescript"><code>class ApprovalEngine {
  private rules: ApprovalRule[];
  
  constructor(rules: ApprovalRule[]) {
    this.rules = rules;
  }
  
  shouldAutoApprove(request: ToolRequest): boolean {
    return this.rules.some(rule => rule.matches(request));
  }
}

const approvalEngine = new ApprovalEngine([
  // Auto-approve read operations
  {
    name: 'allow-reads',
    matches: (req) => req.tool.endsWith('.read')
  },
  
  // Auto-approve git status
  {
    name: 'allow-git-status',
    matches: (req) => req.tool === 'git.status'
  },
  
  // Auto-approve writes to specific directories
  {
    name: 'allow-temp-writes',
    matches: (req) => 
      req.tool === 'fs.write' && 
      req.details.path?.startsWith('/tmp/')
  }
]);

client.on('toolApprovalRequired', async (request) => {
  if (approvalEngine.shouldAutoApprove(request)) {
    await client.approveTool(request.taskId, request.tool);
    console.log(`‚úÖ Auto-approved: ${request.tool}`);
  } else {
    // Manual approval required
    await promptUser(request);
  }
});</code></pre>

          <h3>Web UI Approval</h3>
          
          <pre class="syntax-highlighted" data-language="typescript"><code>// Express.js server with approval UI
import express from 'express';
import { CopilotClient } from 'copilot-sdk';

const app = express();
const pendingApprovals = new Map();

const client = new CopilotClient({
  requireToolApproval: true,
  tools: ['fs.write', 'git.commit']
});

// Store approval requests
client.on('toolApprovalRequired', (request) => {
  const approvalId = generateId();
  pendingApprovals.set(approvalId, request);
  
  // Notify frontend (WebSocket, SSE, etc.)
  notifyFrontend({
    type: 'approval-required',
    approvalId,
    request
  });
});

// API endpoint for approval
app.post('/api/approve/:approvalId', async (req, res) => {
  const { approvalId } = req.params;
  const { approved } = req.body;
  
  const request = pendingApprovals.get(approvalId);
  if (!request) {
    return res.status(404).json({ error: 'Approval not found' });
  }
  
  if (approved) {
    await client.approveTool(request.taskId, request.tool);
  } else {
    await client.denyTool(request.taskId, request.tool);
  }
  
  pendingApprovals.delete(approvalId);
  res.json({ success: true });
});</code></pre>

          <h2>Custom Tools</h2>
          
          <h3>Defining Custom Tools</h3>
          
          <pre class="syntax-highlighted" data-language="typescript"><code>import { CopilotClient, CustomTool } from 'copilot-sdk';

// Define a custom tool
const databaseQueryTool: CustomTool = {
  name: 'db.query',
  description: 'Execute SQL queries on the database',
  parameters: {
    query: {
      type: 'string',
      description: 'SQL query to execute',
      required: true
    },
    params: {
      type: 'array',
      description: 'Query parameters',
      required: false
    }
  },
  
  // Implementation
  async execute(params) {
    const { query, params: queryParams = [] } = params;
    
    // Validate query (prevent SQL injection)
    if (!isSafeQuery(query)) {
      throw new Error('Unsafe query detected');
    }
    
    // Execute query
    const result = await database.query(query, queryParams);
    return {
      rows: result.rows,
      rowCount: result.rowCount
    };
  }
};

// Register custom tool
const client = new CopilotClient({
  customTools: [databaseQueryTool]
});</code></pre>

          <h3>API Integration Tool</h3>
          
          <pre class="syntax-highlighted" data-language="typescript"><code>const apiCallTool: CustomTool = {
  name: 'api.call',
  description: 'Make HTTP requests to internal APIs',
  parameters: {
    endpoint: { type: 'string', required: true },
    method: { type: 'string', default: 'GET' },
    body: { type: 'object', required: false },
    headers: { type: 'object', required: false }
  },
  
  async execute(params) {
    const { endpoint, method, body, headers } = params;
    
    // Only allow internal APIs
    if (!endpoint.startsWith('https://api.internal.company.com')) {
      throw new Error('Only internal APIs allowed');
    }
    
    const response = await fetch(endpoint, {
      method,
      headers: {
        'Authorization': `Bearer ${process.env.INTERNAL_API_TOKEN}`,
        ...headers
      },
      body: body ? JSON.stringify(body) : undefined
    });
    
    return {
      status: response.status,
      data: await response.json()
    };
  }
};</code></pre>

          <h3>Notification Tool</h3>
          
          <pre class="syntax-highlighted" data-language="typescript"><code>const slackNotifyTool: CustomTool = {
  name: 'slack.notify',
  description: 'Send notifications to Slack',
  parameters: {
    channel: { type: 'string', required: true },
    message: { type: 'string', required: true },
    severity: { type: 'string', default: 'info' }
  },
  
  async execute(params) {
    const { channel, message, severity } = params;
    
    const colors = {
      info: '#36a64f',
      warning: '#ff9900',
      error: '#ff0000'
    };
    
    await slackClient.chat.postMessage({
      channel,
      text: message,
      attachments: [{
        color: colors[severity],
        text: message
      }]
    });
    
    return { sent: true };
  }
};</code></pre>

          <h2>Security Patterns</h2>
          
          <h3>Principle of Least Privilege</h3>
          
          <pre class="syntax-highlighted" data-language="typescript"><code>// ‚ùå BAD: Overly permissive
const badClient = new CopilotClient({
  tools: ['all']
});

// ‚úÖ GOOD: Only necessary permissions
const goodClient = new CopilotClient({
  tools: [
    'fs.read',     // Need to read files
    'git.status'   // Need to check status
  ]
});</code></pre>

          <h3>Path Restrictions</h3>
          
          <pre class="syntax-highlighted" data-language="typescript"><code>const safeFileReadTool: CustomTool = {
  name: 'fs.read.safe',
  description: 'Read files with path restrictions',
  parameters: {
    path: { type: 'string', required: true }
  },
  
  async execute(params) {
    const { path } = params;
    
    // Only allow reading from specific directories
    const allowedPaths = [
      '/workspace/src',
      '/workspace/docs'
    ];
    
    const normalizedPath = normalize(path);
    const isAllowed = allowedPaths.some(allowed => 
      normalizedPath.startsWith(allowed)
    );
    
    if (!isAllowed) {
      throw new Error(`Access denied: ${path}`);
    }
    
    return fs.readFileSync(normalizedPath, 'utf-8');
  }
};</code></pre>

          <h3>Audit Logging</h3>
          
          <pre class="syntax-highlighted" data-language="typescript"><code>class AuditLogger {
  log(event: AuditEvent) {
    console.log(JSON.stringify({
      timestamp: new Date().toISOString(),
      ...event
    }));
  }
}

const auditLogger = new AuditLogger();

client.on('toolApprovalRequired', (request) => {
  auditLogger.log({
    type: 'tool-approval-requested',
    tool: request.tool,
    description: request.description,
    details: request.details
  });
});

client.on('toolApproved', (request) => {
  auditLogger.log({
    type: 'tool-approved',
    tool: request.tool,
    user: getCurrentUser()
  });
});

client.on('toolDenied', (request) => {
  auditLogger.log({
    type: 'tool-denied',
    tool: request.tool,
    user: getCurrentUser()
  });
});</code></pre>

          <h2>Dynamic Tool Configuration</h2>
          
          <h3>User-Specific Permissions</h3>
          
          <pre class="syntax-highlighted" data-language="typescript"><code>class PermissionManager {
  private userPermissions = new Map<string, string[]>();
  
  setPermissions(userId: string, tools: string[]) {
    this.userPermissions.set(userId, tools);
  }
  
  getPermissions(userId: string): string[] {
    return this.userPermissions.get(userId) || [];
  }
  
  createClientForUser(userId: string): CopilotClient {
    return new CopilotClient({
      tools: this.getPermissions(userId),
      requireToolApproval: true
    });
  }
}

const permissionManager = new PermissionManager();

// Set user permissions
permissionManager.setPermissions('user-123', ['fs.read', 'git.status']);
permissionManager.setPermissions('admin-456', ['all']);

// Create user-specific clients
const userClient = permissionManager.createClientForUser('user-123');
const adminClient = permissionManager.createClientForUser('admin-456');</code></pre>

          <h3>Environment-Based Configuration</h3>
          
          <pre class="syntax-highlighted" data-language="typescript"><code>const toolConfig = {
  development: {
    tools: ['all'],
    requireApproval: false
  },
  staging: {
    tools: ['all'],
    requireApproval: true
  },
  production: {
    tools: ['fs.read', 'git.status'],
    requireApproval: true
  }
};

const env = process.env.NODE_ENV || 'development';
const config = toolConfig[env];

const client = new CopilotClient({
  tools: config.tools,
  requireToolApproval: config.requireApproval
});</code></pre>

          <h2>Testing Tool Configurations</h2>
          
          <pre class="syntax-highlighted" data-language="typescript"><code>describe('Tool Configuration', () => {
  test('blocks unauthorized tools', async () => {
    const client = new CopilotClient({
      tools: ['fs.read']  // Only read allowed
    });
    
    await expect(
      client.runAgent('Delete the config file')
    ).rejects.toThrow('Tool fs.delete not allowed');
  });
  
  test('approval workflow works', async () => {
    const client = new CopilotClient({
      tools: ['fs.write'],
      requireToolApproval: true
    });
    
    let approvalRequested = false;
    
    client.on('toolApprovalRequired', async (req) => {
      approvalRequested = true;
      await client.approveTool(req.taskId, req.tool);
    });
    
    await client.runAgent('Create a test file');
    
    expect(approvalRequested).toBe(true);
  });
});</code></pre>

          <h2>Best Practices</h2>
          
          <h3>‚úÖ Do's</h3>
          <ul>
            <li>Always use principle of least privilege</li>
            <li>Enable approval workflows for production</li>
            <li>Implement comprehensive audit logging</li>
            <li>Validate inputs to custom tools</li>
            <li>Use role-based access control (RBAC)</li>
            <li>Test tool permissions thoroughly</li>
            <li>Document tool capabilities and risks</li>
            <li>Review and update permissions regularly</li>
          </ul>

          <h3>‚ùå Don'ts</h3>
          <ul>
            <li>Don't grant 'all' tools without careful consideration</li>
            <li>Don't skip approval workflows in production</li>
            <li>Don't trust tool outputs without validation</li>
            <li>Don't hardcode credentials in custom tools</li>
            <li>Don't allow unrestricted file system access</li>
            <li>Don't forget to log security-relevant events</li>
            <li>Don't expose custom tools to untrusted users</li>
          </ul>

          <h2>Common Configurations</h2>
          
          <h3>Read-Only Mode</h3>
          <pre class="syntax-highlighted" data-language="typescript"><code>const readOnlyClient = new CopilotClient({
  tools: [
    'fs.read',
    'git.status',
    'git.log',
    'grep.search'
  ]
});</code></pre>

          <h3>Development Mode</h3>
          <pre class="syntax-highlighted" data-language="typescript"><code>const devClient = new CopilotClient({
  tools: ['all'],
  requireToolApproval: false  // Fast iteration
});</code></pre>

          <h3>Production Mode</h3>
          <pre class="syntax-highlighted" data-language="typescript"><code>const prodClient = new CopilotClient({
  tools: [
    'fs.read',
    'git.status'
  ],
  requireToolApproval: true,
  auditLog: true
});</code></pre>

          <div class="callout">
            <strong>üí° Key Takeaways:</strong><br />
            ‚Ä¢ Tool configuration is critical for security and compliance<br />
            ‚Ä¢ Always follow principle of least privilege<br />
            ‚Ä¢ Implement approval workflows for production systems<br />
            ‚Ä¢ Use custom tools to extend SDK capabilities safely<br />
            ‚Ä¢ Audit and log all tool usage<br />
            ‚Ä¢ Test permissions thoroughly before deployment
          </div>
        </section>

        <section id="api-reference" role="article">
          <h1>üìö API Reference</h1>
          <span class="badge">api</span>
          <span class="badge">reference</span>
          
          <p>Complete API reference documentation for the GitHub Copilot SDK. This section covers all public APIs, interfaces, classes, and methods available across all supported languages.</p>

          <h2>API Organization</h2>
          
          <p>The SDK APIs are organized into logical modules based on functionality:</p>
          
          <div class="row">
            <div class="col-md-6 mb-4">
              <div class="card h-100">
                <div class="card-body">
                  <h3>üîå Client API</h3>
                  <p>Core client initialization, configuration, and lifecycle management.</p>
                  <ul>
                    <li><code>CopilotClient</code> - Main client class</li>
                    <li><code>ClientOptions</code> - Configuration options</li>
                    <li><code>Connection</code> - Connection management</li>
                    <li><code>Lifecycle</code> - Start, stop, dispose methods</li>
                  </ul>
                  <a href="#api-client" class="btn btn-sm btn-primary">View Client API ‚Üí</a>
                </div>
              </div>
            </div>
            
            <div class="col-md-6 mb-4">
              <div class="card h-100">
                <div class="card-body">
                  <h3>ü§ñ Agent API</h3>
                  <p>Agent creation, configuration, and execution interfaces.</p>
                  <ul>
                    <li><code>Agent</code> - Base agent interface</li>
                    <li><code>AgentConfig</code> - Agent configuration</li>
                    <li><code>Request/Response</code> - Message handling</li>
                    <li><code>Stream</code> - Streaming responses</li>
                  </ul>
                  <a href="#api-agent" class="btn btn-sm btn-primary">View Agent API ‚Üí</a>
                </div>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-md-6 mb-4">
              <div class="card h-100">
                <div class="card-body">
                  <h3>üß† Models API</h3>
                  <p>Model selection, configuration, and capabilities.</p>
                  <ul>
                    <li><code>Model</code> - Model metadata and info</li>
                    <li><code>ModelSelector</code> - Dynamic model selection</li>
                    <li><code>Capabilities</code> - Model capabilities</li>
                    <li><code>Parameters</code> - Temperature, tokens, etc.</li>
                  </ul>
                  <a href="#api-models" class="btn btn-sm btn-primary">View Models API ‚Üí</a>
                </div>
              </div>
            </div>
            
            <div class="col-md-6 mb-4">
              <div class="card h-100">
                <div class="card-body">
                  <h3>üîê Auth API</h3>
                  <p>Authentication and authorization interfaces.</p>
                  <ul>
                    <li><code>Authenticator</code> - Auth providers</li>
                    <li><code>Token</code> - Token management</li>
                    <li><code>Credentials</code> - Credential storage</li>
                    <li><code>BYOK</code> - Bring your own key</li>
                  </ul>
                  <a href="#api-auth" class="btn btn-sm btn-primary">View Auth API ‚Üí</a>
                </div>
              </div>
            </div>
          </div>

          <h2>Language-Specific API Documentation</h2>
          
          <div class="alert alert-info">
            <h4>üìñ SDK Documentation Links</h4>
            <p>For detailed API documentation specific to each language:</p>
            <ul>
              <li><strong>TypeScript/Node.js:</strong> <a href="https://github.com/github/copilot-sdk/tree/main/docs/typescript" target="_blank">TypeScript API Docs</a></li>
              <li><strong>Python:</strong> <a href="https://github.com/github/copilot-sdk/tree/main/docs/python" target="_blank">Python API Docs</a></li>
              <li><strong>.NET:</strong> <a href="https://github.com/github/copilot-sdk/tree/main/docs/dotnet" target="_blank">.NET API Docs</a></li>
              <li><strong>Go:</strong> <a href="https://github.com/github/copilot-sdk/tree/main/docs/go" target="_blank">Go API Docs</a></li>
            </ul>
          </div>

          <h2>Common API Patterns</h2>
          
          <div class="card mb-4">
            <div class="card-body">
              <h3>Client Initialization Pattern</h3>
              <p>All SDKs follow a similar initialization pattern:</p>
              
              <div class="row">
                <div class="col-md-6">
                  <h5>TypeScript</h5>
                  <pre><code class="language-typescript">import { CopilotClient } from '@github/copilot-sdk';

const client = new CopilotClient({
  auth: process.env.GITHUB_TOKEN,
  model: 'gpt-4',
  timeout: 30000
});

await client.connect();</code></pre>
                </div>
                
                <div class="col-md-6">
                  <h5>Python</h5>
                  <pre><code class="language-python">from github_copilot import CopilotClient

client = CopilotClient(
    auth=os.environ['GITHUB_TOKEN'],
    model='gpt-4',
    timeout=30.0
)

await client.connect()</code></pre>
                </div>
              </div>
            </div>
          </div>

          <div class="card mb-4">
            <div class="card-body">
              <h3>Request/Response Pattern</h3>
              <p>Making requests to agents follows consistent patterns:</p>
              
              <div class="row">
                <div class="col-md-6">
                  <h5>.NET (C#)</h5>
                  <pre><code class="language-csharp">var response = await client.SendAsync(
    new AgentRequest
    {
        Messages = new[]
        {
            new Message
            {
                Role = "user",
                Content = "Hello"
            }
        }
    }
);</code></pre>
                </div>
                
                <div class="col-md-6">
                  <h5>Go</h5>
                  <pre><code class="language-go">response, err := client.Send(ctx, 
    &AgentRequest{
        Messages: []Message{
            {
                Role:    "user",
                Content: "Hello",
            },
        },
    },
)</code></pre>
                </div>
              </div>
            </div>
          </div>

          <h2>API Conventions</h2>
          
          <table class="table table-striped table-bordered">
            <thead>
              <tr>
                <th>Convention</th>
                <th>Description</th>
                <th>Example</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>Async/Await</strong></td>
                <td>All I/O operations are asynchronous</td>
                <td><code>await client.send(request)</code></td>
              </tr>
              <tr>
                <td><strong>Options Objects</strong></td>
                <td>Configuration passed via options object</td>
                <td><code>{ timeout: 5000, retries: 3 }</code></td>
              </tr>
              <tr>
                <td><strong>Error Handling</strong></td>
                <td>Exceptions/errors for failures</td>
                <td><code>try/catch</code> or <code>error</code> returns</td>
              </tr>
              <tr>
                <td><strong>Streaming</strong></td>
                <td>Async iterators for streaming</td>
                <td><code>for await (const chunk of stream)</code></td>
              </tr>
              <tr>
                <td><strong>Context</strong></td>
                <td>Cancellation and timeout support</td>
                <td><code>context.Context</code> (Go), <code>AbortSignal</code> (JS)</td>
              </tr>
              <tr>
                <td><strong>Builders</strong></td>
                <td>Fluent builder APIs for complex objects</td>
                <td><code>AgentBuilder.create().withTools().build()</code></td>
              </tr>
            </tbody>
          </table>

          <h2>Type Definitions</h2>
          
          <div class="card mb-4">
            <div class="card-body">
              <h3>Core Types</h3>
              
              <pre><code class="language-typescript">// Message Types
interface Message {
  role: 'system' | 'user' | 'assistant';
  content: string;
  name?: string;
  tool_calls?: ToolCall[];
}

// Request Types
interface AgentRequest {
  messages: Message[];
  model?: string;
  temperature?: number;
  max_tokens?: number;
  tools?: Tool[];
  stream?: boolean;
}

// Response Types
interface AgentResponse {
  id: string;
  model: string;
  choices: Choice[];
  usage: TokenUsage;
}

interface Choice {
  index: number;
  message: Message;
  finish_reason: 'stop' | 'length' | 'tool_calls';
}</code></pre>
            </div>
          </div>

          <h2>Error Types</h2>
          
          <table class="table table-bordered">
            <thead>
              <tr>
                <th>Error Type</th>
                <th>Description</th>
                <th>HTTP Status</th>
                <th>Retry?</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>AuthenticationError</code></td>
                <td>Invalid or missing authentication</td>
                <td>401</td>
                <td>‚ùå No</td>
              </tr>
              <tr>
                <td><code>AuthorizationError</code></td>
                <td>Insufficient permissions</td>
                <td>403</td>
                <td>‚ùå No</td>
              </tr>
              <tr>
                <td><code>RateLimitError</code></td>
                <td>Rate limit exceeded</td>
                <td>429</td>
                <td>‚úÖ Yes</td>
              </tr>
              <tr>
                <td><code>TimeoutError</code></td>
                <td>Request timeout</td>
                <td>504</td>
                <td>‚úÖ Yes</td>
              </tr>
              <tr>
                <td><code>ServerError</code></td>
                <td>Internal server error</td>
                <td>500</td>
                <td>‚úÖ Yes</td>
              </tr>
              <tr>
                <td><code>ValidationError</code></td>
                <td>Invalid request parameters</td>
                <td>400</td>
                <td>‚ùå No</td>
              </tr>
              <tr>
                <td><code>ModelError</code></td>
                <td>Model not available or unsupported</td>
                <td>400</td>
                <td>‚ùå No</td>
              </tr>
            </tbody>
          </table>

          <h2>API Versioning</h2>
          
          <div class="alert alert-warning">
            <h4>üìå Version Policy</h4>
            <p>The GitHub Copilot SDK follows semantic versioning (SemVer):</p>
            <ul>
              <li><strong>Major (1.x.x):</strong> Breaking API changes</li>
              <li><strong>Minor (x.1.x):</strong> New features, backward compatible</li>
              <li><strong>Patch (x.x.1):</strong> Bug fixes, backward compatible</li>
            </ul>
            <p>Current version: <strong>1.0.0</strong></p>
            <p>API compatibility is guaranteed within the same major version.</p>
          </div>

          <h2>Deprecation Policy</h2>
          
          <div class="card mb-4">
            <div class="card-body">
              <h3>Deprecation Timeline</h3>
              <ol>
                <li><strong>Deprecation Announced:</strong> Marked in docs and runtime warnings</li>
                <li><strong>Grace Period:</strong> Minimum 6 months before removal</li>
                <li><strong>Migration Guide:</strong> Published with alternatives</li>
                <li><strong>Removal:</strong> Only in next major version</li>
              </ol>
              
              <p>Deprecated APIs will include:</p>
              <pre><code class="language-typescript">/**
 * @deprecated Use newMethod() instead. Will be removed in v2.0.0
 */
function oldMethod() {
  console.warn('oldMethod is deprecated, use newMethod');
  // Implementation
}</code></pre>
            </div>
          </div>

          <h2>API Design Principles</h2>
          
          <div class="row">
            <div class="col-md-4 mb-3">
              <div class="card">
                <div class="card-body">
                  <h4>üéØ Consistency</h4>
                  <p>Same patterns across all languages</p>
                  <ul>
                    <li>Naming conventions</li>
                    <li>Method signatures</li>
                    <li>Error handling</li>
                  </ul>
                </div>
              </div>
            </div>
            
            <div class="col-md-4 mb-3">
              <div class="card">
                <div class="card-body">
                  <h4>üîí Type Safety</h4>
                  <p>Strong typing where available</p>
                  <ul>
                    <li>TypeScript definitions</li>
                    <li>Python type hints</li>
                    <li>.NET generics</li>
                  </ul>
                </div>
              </div>
            </div>
            
            <div class="col-md-4 mb-3">
              <div class="card">
                <div class="card-body">
                  <h4>üìñ Documentation</h4>
                  <p>Comprehensive inline docs</p>
                  <ul>
                    <li>JSDoc/docstrings</li>
                    <li>Code examples</li>
                    <li>Usage notes</li>
                  </ul>
                </div>
              </div>
            </div>
          </div>

          <h2>API Explorer</h2>
          
          <div class="alert alert-success">
            <h4>üîç Interactive API Explorer</h4>
            <p>Try the APIs interactively in your browser:</p>
            <ul>
              <li><strong>Playground:</strong> <a href="https://github.com/github/copilot-sdk/playground" target="_blank">SDK Playground</a></li>
              <li><strong>Examples:</strong> <a href="https://github.com/github/copilot-sdk/tree/main/examples" target="_blank">Code Examples Repository</a></li>
              <li><strong>Postman Collection:</strong> <a href="https://github.com/github/copilot-sdk/tree/main/postman" target="_blank">Import API Collection</a></li>
            </ul>
          </div>

          <div class="card bg-light">
            <div class="card-body">
              <h3>üìö Next Steps</h3>
              <p>Explore detailed API documentation for each module:</p>
              <ul>
                <li><a href="#api-client">Client API</a> - Initialize and configure the SDK client</li>
                <li><a href="#api-agent">Agent API</a> - Create and interact with agents</li>
                <li><a href="#api-models">Models API</a> - Select and configure AI models</li>
                <li><a href="#api-auth">Auth API</a> - Implement authentication and authorization</li>
              </ul>
            </div>
          </div>
        </section>

        <section id="api-client" role="article">
          <h1>üîå Client API</h1>
          <span class="badge">client</span>
          <span class="badge">api</span>
          
          <p>The Client API provides the core interface for initializing, configuring, and managing the GitHub Copilot SDK connection. This is the primary entry point for all SDK interactions.</p>

          <h2>CopilotClient Class</h2>
          
          <p>The main client class that manages the connection to the Copilot service and provides access to all SDK functionality.</p>

          <h3>Constructor</h3>
          
          <div class="row">
            <div class="col-md-6">
              <h5>TypeScript/Node.js</h5>
              <pre><code class="language-typescript">import { CopilotClient, ClientOptions } from '@github/copilot-sdk';

const client = new CopilotClient(options?: ClientOptions);</code></pre>
            </div>
            
            <div class="col-md-6">
              <h5>Python</h5>
              <pre><code class="language-python">from github_copilot import CopilotClient, ClientOptions

client = CopilotClient(options: Optional[ClientOptions] = None)</code></pre>
            </div>
          </div>

          <div class="row mt-3">
            <div class="col-md-6">
              <h5>.NET (C#)</h5>
              <pre><code class="language-csharp">using GitHub.Copilot;

var client = new CopilotClient(options: ClientOptions?);</code></pre>
            </div>
            
            <div class="col-md-6">
              <h5>Go</h5>
              <pre><code class="language-go">import "github.com/github/copilot-sdk-go"

client := copilot.NewClient(options *ClientOptions)</code></pre>
            </div>
          </div>

          <h3>ClientOptions</h3>
          
          <p>Configuration options for initializing the client:</p>
          
          <table class="table table-striped table-bordered">
            <thead>
              <tr>
                <th>Property</th>
                <th>Type</th>
                <th>Default</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>auth</code></td>
                <td>string | AuthProvider</td>
                <td><em>required</em></td>
                <td>GitHub token or custom auth provider</td>
              </tr>
              <tr>
                <td><code>model</code></td>
                <td>string</td>
                <td><code>'gpt-4'</code></td>
                <td>Default model to use for requests</td>
              </tr>
              <tr>
                <td><code>endpoint</code></td>
                <td>string</td>
                <td><code>'api.github.com'</code></td>
                <td>API endpoint URL</td>
              </tr>
              <tr>
                <td><code>timeout</code></td>
                <td>number</td>
                <td><code>30000</code></td>
                <td>Request timeout in milliseconds</td>
              </tr>
              <tr>
                <td><code>retries</code></td>
                <td>number</td>
                <td><code>3</code></td>
                <td>Number of retry attempts</td>
              </tr>
              <tr>
                <td><code>retryDelay</code></td>
                <td>number</td>
                <td><code>1000</code></td>
                <td>Base retry delay in milliseconds</td>
              </tr>
              <tr>
                <td><code>maxConcurrent</code></td>
                <td>number</td>
                <td><code>10</code></td>
                <td>Max concurrent requests</td>
              </tr>
              <tr>
                <td><code>logLevel</code></td>
                <td>string</td>
                <td><code>'info'</code></td>
                <td>Logging level: debug, info, warn, error</td>
              </tr>
              <tr>
                <td><code>userAgent</code></td>
                <td>string</td>
                <td><code>'copilot-sdk/1.0'</code></td>
                <td>Custom user agent string</td>
              </tr>
            </tbody>
          </table>

          <h3>Example: Basic Initialization</h3>
          
          <pre><code class="language-typescript">// TypeScript
const client = new CopilotClient({
  auth: process.env.GITHUB_TOKEN,
  model: 'gpt-4',
  timeout: 60000,
  retries: 5,
  logLevel: 'debug'
});

await client.connect();</code></pre>

          <h2>Core Methods</h2>
          
          <h3>connect()</h3>
          
          <p>Establishes connection to the Copilot service and initializes the client.</p>
          
          <div class="row">
            <div class="col-md-6">
              <h5>Signature</h5>
              <pre><code class="language-typescript">async connect(): Promise&lt;void&gt;</code></pre>
            </div>
            
            <div class="col-md-6">
              <h5>Example</h5>
              <pre><code class="language-typescript">await client.connect();
console.log('Connected to Copilot');</code></pre>
            </div>
          </div>

          <div class="alert alert-warning">
            <strong>‚ö†Ô∏è Important:</strong> Always call <code>connect()</code> before making any requests.
          </div>

          <h3>disconnect()</h3>
          
          <p>Gracefully closes the connection and cleans up resources.</p>
          
          <div class="row">
            <div class="col-md-6">
              <h5>Signature</h5>
              <pre><code class="language-typescript">async disconnect(): Promise&lt;void&gt;</code></pre>
            </div>
            
            <div class="col-md-6">
              <h5>Example</h5>
              <pre><code class="language-typescript">await client.disconnect();
console.log('Disconnected from Copilot');</code></pre>
            </div>
          </div>

          <h3>send()</h3>
          
          <p>Sends a request to an agent and waits for the complete response.</p>
          
          <div class="row">
            <div class="col-md-6">
              <h5>Signature</h5>
              <pre><code class="language-typescript">async send(
  request: AgentRequest
): Promise&lt;AgentResponse&gt;</code></pre>
            </div>
            
            <div class="col-md-6">
              <h5>Example</h5>
              <pre><code class="language-typescript">const response = await client.send({
  messages: [
    { role: 'user', content: 'Hello' }
  ]
});

console.log(response.choices[0].message);</code></pre>
            </div>
          </div>

          <h3>stream()</h3>
          
          <p>Sends a request and returns an async iterator for streaming responses.</p>
          
          <div class="row">
            <div class="col-md-6">
              <h5>Signature</h5>
              <pre><code class="language-typescript">async stream(
  request: AgentRequest
): AsyncIterableIterator&lt;StreamChunk&gt;</code></pre>
            </div>
            
            <div class="col-md-6">
              <h5>Example</h5>
              <pre><code class="language-typescript">const stream = await client.stream({
  messages: [
    { role: 'user', content: 'Explain TypeScript' }
  ]
});

for await (const chunk of stream) {
  process.stdout.write(chunk.content);
}</code></pre>
            </div>
          </div>

          <h3>createAgent()</h3>
          
          <p>Creates a custom agent with specific configuration and tools.</p>
          
          <div class="row">
            <div class="col-md-6">
              <h5>Signature</h5>
              <pre><code class="language-typescript">createAgent(
  config: AgentConfig
): Agent</code></pre>
            </div>
            
            <div class="col-md-6">
              <h5>Example</h5>
              <pre><code class="language-typescript">const agent = client.createAgent({
  name: 'sql-expert',
  description: 'SQL optimization specialist',
  model: 'gpt-4',
  tools: [queryTool, explainTool]
});

const result = await agent.send({
  messages: [{ role: 'user', content: 'Optimize this query' }]
});</code></pre>
            </div>
          </div>

          <h2>Connection Management</h2>
          
          <h3>isConnected()</h3>
          
          <p>Checks if the client is currently connected.</p>
          
          <pre><code class="language-typescript">if (client.isConnected()) {
  console.log('Client is connected');
} else {
  await client.connect();
}</code></pre>

          <h3>getConnectionStatus()</h3>
          
          <p>Returns detailed connection status information.</p>
          
          <pre><code class="language-typescript">const status = client.getConnectionStatus();
console.log({
  connected: status.connected,
  uptime: status.uptime,
  requestCount: status.requestCount,
  errorCount: status.errorCount
});</code></pre>

          <h3>reconnect()</h3>
          
          <p>Reconnects to the service (useful after connection loss).</p>
          
          <pre><code class="language-typescript">try {
  await client.send(request);
} catch (error) {
  if (error instanceof ConnectionError) {
    console.log('Connection lost, reconnecting...');
    await client.reconnect();
    // Retry request
    await client.send(request);
  }
}</code></pre>

          <h2>Configuration Methods</h2>
          
          <h3>updateOptions()</h3>
          
          <p>Updates client configuration without reconnecting.</p>
          
          <pre><code class="language-typescript">client.updateOptions({
  timeout: 45000,
  retries: 5,
  logLevel: 'warn'
});

// New options take effect immediately
await client.send(request);</code></pre>

          <h3>getOptions()</h3>
          
          <p>Retrieves current client options.</p>
          
          <pre><code class="language-typescript">const options = client.getOptions();
console.log(`Current model: ${options.model}`);
console.log(`Timeout: ${options.timeout}ms`);</code></pre>

          <h3>setModel()</h3>
          
          <p>Changes the default model for all requests.</p>
          
          <pre><code class="language-typescript">// Use GPT-4 for complex tasks
client.setModel('gpt-4');
const complexResponse = await client.send(complexRequest);

// Switch to GPT-3.5 for simple tasks
client.setModel('gpt-3.5-turbo');
const simpleResponse = await client.send(simpleRequest);</code></pre>

          <h2>Error Handling</h2>
          
          <h3>Common Error Patterns</h3>
          
          <pre><code class="language-typescript">import { 
  AuthenticationError,
  RateLimitError,
  TimeoutError,
  ServerError 
} from '@github/copilot-sdk';

try {
  await client.connect();
  const response = await client.send(request);
} catch (error) {
  if (error instanceof AuthenticationError) {
    console.error('Invalid token');
  } else if (error instanceof RateLimitError) {
    console.log(`Rate limited. Retry after ${error.retryAfter}s`);
    await sleep(error.retryAfter * 1000);
    // Retry
  } else if (error instanceof TimeoutError) {
    console.error('Request timed out');
    // Increase timeout and retry
    client.updateOptions({ timeout: 60000 });
  } else if (error instanceof ServerError) {
    console.error('Server error, retrying...');
    await client.reconnect();
  } else {
    console.error('Unexpected error:', error);
  }
}</code></pre>

          <h2>Lifecycle Management</h2>
          
          <h3>Complete Lifecycle Example</h3>
          
          <pre><code class="language-typescript">import { CopilotClient } from '@github/copilot-sdk';

// Initialize
const client = new CopilotClient({
  auth: process.env.GITHUB_TOKEN,
  model: 'gpt-4'
});

try {
  // Connect
  await client.connect();
  console.log('‚úÖ Connected');
  
  // Use client
  const response = await client.send({
    messages: [{ role: 'user', content: 'Hello' }]
  });
  
  console.log(response.choices[0].message.content);
  
} catch (error) {
  console.error('Error:', error);
} finally {
  // Always disconnect
  await client.disconnect();
  console.log('üîå Disconnected');
}</code></pre>

          <h3>Using Context Managers (Python)</h3>
          
          <pre><code class="language-python">from github_copilot import CopilotClient

# Automatic connection and cleanup
async with CopilotClient(auth=os.environ['GITHUB_TOKEN']) as client:
    response = await client.send({
        'messages': [{'role': 'user', 'content': 'Hello'}]
    })
    print(response['choices'][0]['message']['content'])
    
# Client automatically disconnected here</code></pre>

          <h3>Using IDisposable (.NET)</h3>
          
          <pre><code class="language-csharp">using GitHub.Copilot;

// Automatic disposal
using (var client = new CopilotClient(new ClientOptions 
{
    Auth = Environment.GetEnvironmentVariable("GITHUB_TOKEN"),
    Model = "gpt-4"
}))
{
    await client.ConnectAsync();
    
    var response = await client.SendAsync(new AgentRequest
    {
        Messages = new[] { new Message { Role = "user", Content = "Hello" } }
    });
    
    Console.WriteLine(response.Choices[0].Message.Content);
}
// Client automatically disposed here</code></pre>

          <h2>Advanced Features</h2>
          
          <h3>Connection Pooling</h3>
          
          <pre><code class="language-typescript">const client = new CopilotClient({
  auth: process.env.GITHUB_TOKEN,
  maxConcurrent: 20,  // Allow 20 concurrent requests
  poolSize: 5         // Maintain 5 persistent connections
});

// Send multiple requests concurrently
const requests = Array(100).fill(null).map((_, i) => ({
  messages: [{ role: 'user', content: `Request ${i}` }]
}));

const responses = await Promise.all(
  requests.map(req => client.send(req))
);</code></pre>

          <h3>Request Interceptors</h3>
          
          <pre><code class="language-typescript">// Add custom headers or modify requests
client.addInterceptor('request', async (request) => {
  console.log(`Sending request: ${request.messages[0].content}`);
  request.metadata = {
    timestamp: Date.now(),
    userId: getCurrentUserId()
  };
  return request;
});

// Process responses
client.addInterceptor('response', async (response) => {
  console.log(`Received response: ${response.id}`);
  logToAnalytics(response.usage);
  return response;
});</code></pre>

          <h3>Custom Authentication</h3>
          
          <pre><code class="language-typescript">class CustomAuthProvider implements AuthProvider {
  async getToken(): Promise&lt;string&gt; {
    // Fetch token from secure storage
    return await fetchTokenFromVault();
  }
  
  async refreshToken(): Promise&lt;string&gt; {
    // Refresh expired token
    return await refreshTokenFromVault();
  }
}

const client = new CopilotClient({
  auth: new CustomAuthProvider()
});</code></pre>

          <h2>Best Practices</h2>
          
          <div class="card mb-4">
            <div class="card-body">
              <h3>‚úÖ Do's</h3>
              <ul>
                <li>‚úÖ Reuse a single client instance for the lifetime of your application</li>
                <li>‚úÖ Always call <code>connect()</code> before making requests</li>
                <li>‚úÖ Use <code>disconnect()</code> or context managers for cleanup</li>
                <li>‚úÖ Implement proper error handling for all API calls</li>
                <li>‚úÖ Use connection pooling for high-throughput scenarios</li>
                <li>‚úÖ Configure appropriate timeouts based on your use case</li>
                <li>‚úÖ Monitor connection status in long-running applications</li>
              </ul>
            </div>
          </div>

          <div class="card mb-4">
            <div class="card-body">
              <h3>‚ùå Don'ts</h3>
              <ul>
                <li>‚ùå Don't create a new client for every request</li>
                <li>‚ùå Don't forget to disconnect when done</li>
                <li>‚ùå Don't ignore connection errors</li>
                <li>‚ùå Don't use the same client across multiple processes</li>
                <li>‚ùå Don't store tokens in code or version control</li>
                <li>‚ùå Don't set very low timeouts for complex operations</li>
              </ul>
            </div>
          </div>

          <h2>Language-Specific Examples</h2>
          
          <div class="row">
            <div class="col-md-6">
              <h5>Go with Context</h5>
              <pre><code class="language-go">ctx := context.Background()
ctx, cancel := context.WithTimeout(ctx, 30*time.Second)
defer cancel()

client := copilot.NewClient(&copilot.ClientOptions{
    Auth: os.Getenv("GITHUB_TOKEN"),
})

if err := client.Connect(ctx); err != nil {
    log.Fatal(err)
}
defer client.Disconnect(ctx)

response, err := client.Send(ctx, &copilot.AgentRequest{
    Messages: []copilot.Message{
        {Role: "user", Content: "Hello"},
    },
})</code></pre>
            </div>
            
            <div class="col-md-6">
              <h5>Python with Retry</h5>
              <pre><code class="language-python">from github_copilot import CopilotClient
from tenacity import retry, stop_after_attempt

@retry(stop=stop_after_attempt(3))
async def send_with_retry(client, request):
    return await client.send(request)

async def main():
    client = CopilotClient(
        auth=os.environ['GITHUB_TOKEN']
    )
    
    await client.connect()
    try:
        response = await send_with_retry(
            client,
            {'messages': [{'role': 'user', 'content': 'Hello'}]}
        )
        print(response)
    finally:
        await client.disconnect()</code></pre>
            </div>
          </div>

          <div class="card bg-light mt-4">
            <div class="card-body">
              <h3>üìö Related Documentation</h3>
              <ul>
                <li><a href="#api-agent">Agent API</a> - Working with agents</li>
                <li><a href="#api-auth">Auth API</a> - Authentication and authorization</li>
                <li><a href="#best-practices">Best Practices</a> - Production deployment guidelines</li>
                <li><a href="#troubleshooting">Troubleshooting</a> - Common issues and solutions</li>
              </ul>
            </div>
          </div>
        </section>

        <section id="api-agent" role="article">
          <h1>ü§ñ Agent API</h1>
          <span class="badge">agent</span>
          <span class="badge">api</span>
          
          <p>The Agent API provides interfaces for creating, configuring, and interacting with AI agents. Agents are the primary abstraction for working with large language models in the GitHub Copilot SDK.</p>

          <h2>Agent Interface</h2>
          
          <p>The core interface for all agent interactions:</p>

          <h3>Creating Agents</h3>
          
          <div class="row">
            <div class="col-md-6">
              <h5>TypeScript</h5>
              <pre><code class="language-typescript">import { Agent, AgentConfig } from '@github/copilot-sdk';

const agent = client.createAgent({
  name: 'my-agent',
  description: 'A helpful assistant',
  model: 'gpt-4',
  systemPrompt: 'You are a helpful assistant',
  tools: [],
  temperature: 0.7
});</code></pre>
            </div>
            
            <div class="col-md-6">
              <h5>Python</h5>
              <pre><code class="language-python">from github_copilot import Agent, AgentConfig

agent = client.create_agent(
    AgentConfig(
        name='my-agent',
        description='A helpful assistant',
        model='gpt-4',
        system_prompt='You are a helpful assistant',
        tools=[],
        temperature=0.7
    )
)</code></pre>
            </div>
          </div>

          <h3>AgentConfig</h3>
          
          <table class="table table-striped table-bordered">
            <thead>
              <tr>
                <th>Property</th>
                <th>Type</th>
                <th>Required</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>name</code></td>
                <td>string</td>
                <td>‚úÖ Yes</td>
                <td>Unique identifier for the agent</td>
              </tr>
              <tr>
                <td><code>description</code></td>
                <td>string</td>
                <td>‚ùå No</td>
                <td>Human-readable description</td>
              </tr>
              <tr>
                <td><code>model</code></td>
                <td>string</td>
                <td>‚ùå No</td>
                <td>Model to use (defaults to client model)</td>
              </tr>
              <tr>
                <td><code>systemPrompt</code></td>
                <td>string</td>
                <td>‚ùå No</td>
                <td>System message defining agent behavior</td>
              </tr>
              <tr>
                <td><code>tools</code></td>
                <td>Tool[]</td>
                <td>‚ùå No</td>
                <td>Array of tools available to the agent</td>
              </tr>
              <tr>
                <td><code>temperature</code></td>
                <td>number</td>
                <td>‚ùå No</td>
                <td>Sampling temperature (0.0 to 2.0)</td>
              </tr>
              <tr>
                <td><code>maxTokens</code></td>
                <td>number</td>
                <td>‚ùå No</td>
                <td>Maximum tokens in response</td>
              </tr>
              <tr>
                <td><code>topP</code></td>
                <td>number</td>
                <td>‚ùå No</td>
                <td>Nucleus sampling parameter</td>
              </tr>
            </tbody>
          </table>

          <h2>Agent Methods</h2>

          <h3>send()</h3>
          
          <p>Send a request to the agent and wait for a complete response.</p>
          
          <div class="row">
            <div class="col-md-6">
              <h5>Signature</h5>
              <pre><code class="language-typescript">async send(
  request: AgentRequest
): Promise&lt;AgentResponse&gt;</code></pre>
            </div>
            
            <div class="col-md-6">
              <h5>Example</h5>
              <pre><code class="language-typescript">const response = await agent.send({
  messages: [
    { 
      role: 'user', 
      content: 'Explain async/await' 
    }
  ]
});

console.log(response.choices[0].message.content);</code></pre>
            </div>
          </div>

          <h3>stream()</h3>
          
          <p>Stream responses from the agent token by token.</p>
          
          <div class="row">
            <div class="col-md-6">
              <h5>Signature</h5>
              <pre><code class="language-typescript">async stream(
  request: AgentRequest
): AsyncIterableIterator&lt;StreamChunk&gt;</code></pre>
            </div>
            
            <div class="col-md-6">
              <h5>Example</h5>
              <pre><code class="language-typescript">const stream = await agent.stream({
  messages: [
    { role: 'user', content: 'Write a story' }
  ]
});

for await (const chunk of stream) {
  if (chunk.content) {
    process.stdout.write(chunk.content);
  }
}</code></pre>
            </div>
          </div>

          <h3>chat()</h3>
          
          <p>Maintain a conversation with automatic context management.</p>
          
          <pre><code class="language-typescript">// Start a conversation
const chat = agent.createChat();

// Send messages
await chat.send('Hello!');
await chat.send('Tell me about TypeScript');
await chat.send('Can you show an example?');

// Context is automatically maintained
console.log(chat.getHistory());</code></pre>

          <h2>Request Types</h2>

          <h3>AgentRequest</h3>
          
          <pre><code class="language-typescript">interface AgentRequest {
  // Required: Array of conversation messages
  messages: Message[];
  
  // Optional: Override agent's default model
  model?: string;
  
  // Optional: Override temperature
  temperature?: number;
  
  // Optional: Maximum tokens to generate
  max_tokens?: number;
  
  // Optional: Tools for this specific request
  tools?: Tool[];
  
  // Optional: Tool choice strategy
  tool_choice?: 'auto' | 'none' | { type: 'function', function: { name: string } };
  
  // Optional: Response format
  response_format?: { type: 'text' | 'json_object' };
  
  // Optional: Stop sequences
  stop?: string | string[];
  
  // Optional: Request metadata
  metadata?: Record<string, any>;
}</code></pre>

          <h3>Message Type</h3>
          
          <pre><code class="language-typescript">interface Message {
  role: 'system' | 'user' | 'assistant' | 'tool';
  content: string;
  name?: string;  // For tool and function messages
  tool_calls?: ToolCall[];  // For assistant messages with tool calls
  tool_call_id?: string;  // For tool result messages
}</code></pre>

          <h2>Response Types</h2>

          <h3>AgentResponse</h3>
          
          <pre><code class="language-typescript">interface AgentResponse {
  id: string;  // Unique response ID
  model: string;  // Model used
  created: number;  // Unix timestamp
  choices: Choice[];  // Response choices
  usage: TokenUsage;  // Token consumption
  system_fingerprint?: string;  // Model version info
}</code></pre>

          <h3>Choice</h3>
          
          <pre><code class="language-typescript">interface Choice {
  index: number;
  message: Message;
  finish_reason: 'stop' | 'length' | 'tool_calls' | 'content_filter';
  logprobs?: LogProbs;  // Token probabilities if requested
}</code></pre>

          <h3>TokenUsage</h3>
          
          <pre><code class="language-typescript">interface TokenUsage {
  prompt_tokens: number;  // Input tokens
  completion_tokens: number;  // Output tokens
  total_tokens: number;  // Total tokens
}</code></pre>

          <h2>Advanced Usage Patterns</h2>

          <h3>Multi-turn Conversations</h3>
          
          <pre><code class="language-typescript">const messages: Message[] = [];

// User's first message
messages.push({ role: 'user', content: 'What is TypeScript?' });
const response1 = await agent.send({ messages });

// Add assistant's response
messages.push(response1.choices[0].message);

// User's follow-up
messages.push({ role: 'user', content: 'How is it different from JavaScript?' });
const response2 = await agent.send({ messages });

// Continue conversation...</code></pre>

          <h3>Tool Calling</h3>
          
          <pre><code class="language-typescript">// Define tools
const tools = [
  {
    type: 'function',
    function: {
      name: 'get_weather',
      description: 'Get current weather for a location',
      parameters: {
        type: 'object',
        properties: {
          location: { type: 'string', description: 'City name' },
          unit: { type: 'string', enum: ['celsius', 'fahrenheit'] }
        },
        required: ['location']
      }
    }
  }
];

// Send request with tools
const response = await agent.send({
  messages: [{ role: 'user', content: 'What\'s the weather in Seattle?' }],
  tools
});

// Check if agent wants to call a tool
if (response.choices[0].finish_reason === 'tool_calls') {
  const toolCalls = response.choices[0].message.tool_calls;
  
  // Execute tool
  const toolResults = await Promise.all(
    toolCalls.map(async (call) => {
      const result = await executeWeatherTool(call.function.arguments);
      return {
        role: 'tool',
        tool_call_id: call.id,
        content: JSON.stringify(result)
      };
    })
  );
  
  // Send tool results back
  const finalResponse = await agent.send({
    messages: [
      ...messages,
      response.choices[0].message,
      ...toolResults
    ]
  });
}</code></pre>

          <h3>JSON Mode</h3>
          
          <pre><code class="language-typescript">const response = await agent.send({
  messages: [
    { 
      role: 'system', 
      content: 'You are a helpful assistant that outputs JSON' 
    },
    { 
      role: 'user', 
      content: 'Extract person info: John Doe, 30 years old, engineer' 
    }
  ],
  response_format: { type: 'json_object' }
});

const data = JSON.parse(response.choices[0].message.content);
console.log(data);
// { name: 'John Doe', age: 30, profession: 'engineer' }</code></pre>

          <h2>Language-Specific Examples</h2>

          <div class="row">
            <div class="col-md-6">
              <h5>.NET (C#)</h5>
              <pre><code class="language-csharp">var agent = client.CreateAgent(new AgentConfig
{
    Name = "code-reviewer",
    Model = "gpt-4",
    SystemPrompt = "Review code for best practices",
    Temperature = 0.3
});

var response = await agent.SendAsync(new AgentRequest
{
    Messages = new[]
    {
        new Message 
        { 
            Role = "user", 
            Content = codeToReview 
        }
    },
    MaxTokens = 1000
});

var review = response.Choices[0].Message.Content;
Console.WriteLine(review);</code></pre>
            </div>
            
            <div class="col-md-6">
              <h5>Go</h5>
              <pre><code class="language-go">agent := client.CreateAgent(&copilot.AgentConfig{
    Name:         "code-reviewer",
    Model:        "gpt-4",
    SystemPrompt: "Review code for best practices",
    Temperature:  0.3,
})

response, err := agent.Send(ctx, &copilot.AgentRequest{
    Messages: []copilot.Message{
        {
            Role:    "user",
            Content: codeToReview,
        },
    },
    MaxTokens: 1000,
})

if err != nil {
    log.Fatal(err)
}

review := response.Choices[0].Message.Content
fmt.Println(review)</code></pre>
            </div>
          </div>

          <h2>Streaming Patterns</h2>

          <h3>TypeScript Streaming</h3>
          
          <pre><code class="language-typescript">const stream = await agent.stream({
  messages: [{ role: 'user', content: 'Write a poem' }]
});

let fullResponse = '';

for await (const chunk of stream) {
  if (chunk.choices[0]?.delta?.content) {
    const content = chunk.choices[0].delta.content;
    fullResponse += content;
    process.stdout.write(content);
  }
  
  // Check for finish
  if (chunk.choices[0]?.finish_reason) {
    console.log('\n\nFinished:', chunk.choices[0].finish_reason);
    console.log('Total tokens:', chunk.usage?.total_tokens);
  }
}</code></pre>

          <h3>Python Streaming</h3>
          
          <pre><code class="language-python">stream = await agent.stream({
    'messages': [{'role': 'user', 'content': 'Write a poem'}]
})

full_response = ''

async for chunk in stream:
    if chunk.choices[0].delta.content:
        content = chunk.choices[0].delta.content
        full_response += content
        print(content, end='', flush=True)
    
    if chunk.choices[0].finish_reason:
        print(f"\n\nFinished: {chunk.choices[0].finish_reason}")
        print(f"Total tokens: {chunk.usage.total_tokens}")</code></pre>

          <h2>Error Handling</h2>

          <pre><code class="language-typescript">import { 
  ValidationError,
  ModelError,
  ContentFilterError 
} from '@github/copilot-sdk';

try {
  const response = await agent.send({ messages });
  
  // Check finish reason
  if (response.choices[0].finish_reason === 'content_filter') {
    console.warn('Response filtered due to content policy');
  }
  
} catch (error) {
  if (error instanceof ValidationError) {
    console.error('Invalid request:', error.message);
  } else if (error instanceof ModelError) {
    console.error('Model error:', error.message);
    // Try with different model
    agent.updateConfig({ model: 'gpt-3.5-turbo' });
  } else if (error instanceof ContentFilterError) {
    console.error('Content filtered:', error.message);
  }
}</code></pre>

          <h2>Best Practices</h2>

          <div class="card mb-4">
            <div class="card-body">
              <h3>‚úÖ Agent Best Practices</h3>
              <ul>
                <li>‚úÖ Use descriptive agent names and clear system prompts</li>
                <li>‚úÖ Set appropriate temperature (0.0-0.3 for factual, 0.7-1.0 for creative)</li>
                <li>‚úÖ Include conversation context in multi-turn chats</li>
                <li>‚úÖ Implement proper error handling for all requests</li>
                <li>‚úÖ Use streaming for long responses to improve UX</li>
                <li>‚úÖ Monitor token usage to control costs</li>
                <li>‚úÖ Validate tool call arguments before execution</li>
                <li>‚úÖ Cache agent instances for reuse</li>
              </ul>
            </div>
          </div>

          <div class="card bg-light">
            <div class="card-body">
              <h3>üìö Related Documentation</h3>
              <ul>
                <li><a href="#core-concepts-agents">Core Concepts: Agents</a> - Agent architecture and design</li>
                <li><a href="#core-concepts-tools">Core Concepts: Tools</a> - Working with agent tools</li>
                <li><a href="#api-models">Models API</a> - Model selection and configuration</li>
                <li><a href="#cookbook">Cookbook</a> - Practical agent examples</li>
              </ul>
            </div>
          </div>
        </section>

        <section id="api-models" role="article">
          <h1>üß† Models API</h1>
          <span class="badge">models</span>
          <span class="badge">api</span>
          
          <p>The Models API provides interfaces for selecting, configuring, and working with different AI models. Choose the right model for your use case to optimize performance, cost, and capabilities.</p>

          <h2>Available Models</h2>

          <table class="table table-striped table-bordered">
            <thead>
              <tr>
                <th>Model</th>
                <th>Context Window</th>
                <th>Best For</th>
                <th>Cost</th>
                <th>Speed</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>gpt-4-turbo</strong></td>
                <td>128K tokens</td>
                <td>Complex reasoning, large contexts</td>
                <td>$$$$</td>
                <td>‚ö°‚ö°</td>
              </tr>
              <tr>
                <td><strong>gpt-4</strong></td>
                <td>8K tokens</td>
                <td>High-quality responses, accuracy</td>
                <td>$$$$</td>
                <td>‚ö°‚ö°</td>
              </tr>
              <tr>
                <td><strong>gpt-3.5-turbo</strong></td>
                <td>16K tokens</td>
                <td>Fast responses, general tasks</td>
                <td>$</td>
                <td>‚ö°‚ö°‚ö°‚ö°</td>
              </tr>
              <tr>
                <td><strong>gpt-3.5-turbo-16k</strong></td>
                <td>16K tokens</td>
                <td>Longer contexts, good balance</td>
                <td>$$</td>
                <td>‚ö°‚ö°‚ö°</td>
              </tr>
            </tbody>
          </table>

          <h2>Model Selection</h2>

          <h3>Static Model Selection</h3>
          
          <p>Set the model when creating a client or agent:</p>
          
          <div class="row">
            <div class="col-md-6">
              <h5>Client Level</h5>
              <pre><code class="language-typescript">// All agents use this model by default
const client = new CopilotClient({
  auth: process.env.GITHUB_TOKEN,
  model: 'gpt-4-turbo'
});</code></pre>
            </div>
            
            <div class="col-md-6">
              <h5>Agent Level</h5>
              <pre><code class="language-typescript">// This agent uses a specific model
const agent = client.createAgent({
  name: 'fast-responder',
  model: 'gpt-3.5-turbo'
});</code></pre>
            </div>
          </div>

          <h3>Dynamic Model Selection</h3>
          
          <p>Choose models dynamically based on request complexity:</p>
          
          <pre><code class="language-typescript">class SmartModelSelector {
  selectModel(request: AgentRequest): string {
    const tokenCount = this.estimateTokens(request.messages);
    const complexity = this.analyzeComplexity(request.messages);
    
    // Use GPT-4 for complex or long requests
    if (complexity > 0.7 || tokenCount > 2000) {
      return 'gpt-4-turbo';
    }
    
    // Use GPT-3.5 for simple requests
    return 'gpt-3.5-turbo';
  }
  
  estimateTokens(messages: Message[]): number {
    return messages.reduce((sum, msg) => 
      sum + Math.ceil(msg.content.length / 4), 0
    );
  }
  
  analyzeComplexity(messages: Message[]): number {
    // Implement complexity analysis
    // Check for code, math, reasoning keywords
    return 0.5; // Simplified
  }
}

const selector = new SmartModelSelector();
const model = selector.selectModel(request);

const response = await agent.send({
  ...request,
  model
});</code></pre>

          <h2>Model Configuration</h2>

          <h3>Temperature</h3>
          
          <p>Controls randomness in responses (0.0 = deterministic, 2.0 = very random):</p>
          
          <table class="table table-bordered">
            <thead>
              <tr>
                <th>Temperature</th>
                <th>Use Case</th>
                <th>Example</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>0.0 - 0.3</code></td>
                <td>Factual, deterministic tasks</td>
                <td>Code review, data extraction, classification</td>
              </tr>
              <tr>
                <td><code>0.4 - 0.7</code></td>
                <td>Balanced responses</td>
                <td>Q&A, documentation, general assistance</td>
              </tr>
              <tr>
                <td><code>0.8 - 1.2</code></td>
                <td>Creative tasks</td>
                <td>Story writing, brainstorming, marketing copy</td>
              </tr>
              <tr>
                <td><code>1.3 - 2.0</code></td>
                <td>Highly creative, diverse</td>
                <td>Poetry, experimental content</td>
              </tr>
            </tbody>
          </table>

          <pre><code class="language-typescript">// Factual response
const factual = await agent.send({
  messages,
  temperature: 0.1
});

// Creative response
const creative = await agent.send({
  messages,
  temperature: 1.0
});</code></pre>

          <h3>Max Tokens</h3>
          
          <p>Limits the length of generated responses:</p>
          
          <pre><code class="language-typescript">// Short summary (100 tokens ~ 75 words)
const summary = await agent.send({
  messages: [{ role: 'user', content: 'Summarize this article' }],
  max_tokens: 100
});

// Detailed explanation (1000 tokens ~ 750 words)
const detailed = await agent.send({
  messages: [{ role: 'user', content: 'Explain quantum computing' }],
  max_tokens: 1000
});</code></pre>

          <h3>Top P (Nucleus Sampling)</h3>
          
          <p>Alternative to temperature for controlling randomness:</p>
          
          <pre><code class="language-typescript">// Use top 10% of probability mass
const response = await agent.send({
  messages,
  top_p: 0.1  // More focused
});

// Use top 90% of probability mass
const response = await agent.send({
  messages,
  top_p: 0.9  // More diverse
});</code></pre>

          <div class="alert alert-info">
            <strong>üí° Tip:</strong> Use either <code>temperature</code> or <code>top_p</code>, not both. Temperature is generally more intuitive.
          </div>

          <h2>Model Capabilities</h2>

          <h3>Querying Model Information</h3>
          
          <pre><code class="language-typescript">// Get model info
const modelInfo = await client.getModelInfo('gpt-4-turbo');

console.log({
  name: modelInfo.name,
  contextWindow: modelInfo.contextWindow,
  maxOutputTokens: modelInfo.maxOutputTokens,
  capabilities: modelInfo.capabilities,
  pricing: modelInfo.pricing
});

// Output:
// {
//   name: 'gpt-4-turbo',
//   contextWindow: 128000,
//   maxOutputTokens: 4096,
//   capabilities: ['text', 'code', 'reasoning', 'vision'],
//   pricing: { input: 0.01, output: 0.03 }
// }</code></pre>

          <h3>Listing Available Models</h3>
          
          <pre><code class="language-typescript">// List all available models
const models = await client.listModels();

models.forEach(model => {
  console.log(`${model.name}: ${model.description}`);
});

// Filter by capability
const codeModels = models.filter(m => 
  m.capabilities.includes('code')
);

// Sort by cost
const cheapest = models.sort((a, b) => 
  a.pricing.input - b.pricing.input
);</code></pre>

          <h2>Cost Optimization</h2>

          <h3>Token Counting</h3>
          
          <pre><code class="language-typescript">import { countTokens } from '@github/copilot-sdk';

const messages = [
  { role: 'system', content: systemPrompt },
  { role: 'user', content: userMessage }
];

// Estimate cost before sending
const tokenCount = countTokens(messages, 'gpt-4');
const estimatedCost = tokenCount * 0.00003; // $0.03 per 1K tokens

console.log(`Estimated cost: $${estimatedCost.toFixed(4)}`);

if (estimatedCost > 0.10) {
  console.warn('High cost request!');
}</code></pre>

          <h3>Model Fallback Strategy</h3>
          
          <pre><code class="language-typescript">async function sendWithFallback(
  agent: Agent,
  request: AgentRequest
): Promise<AgentResponse> {
  const models = ['gpt-4-turbo', 'gpt-4', 'gpt-3.5-turbo'];
  
  for (const model of models) {
    try {
      return await agent.send({ ...request, model });
    } catch (error) {
      if (error instanceof ModelError) {
        console.log(`${model} failed, trying next...`);
        continue;
      }
      throw error;
    }
  }
  
  throw new Error('All models failed');
}</code></pre>

          <h2>Language-Specific Examples</h2>

          <div class="row">
            <div class="col-md-6">
              <h5>Python</h5>
              <pre><code class="language-python">from github_copilot import CopilotClient

client = CopilotClient(auth=os.environ['GITHUB_TOKEN'])

# List models
models = await client.list_models()
for model in models:
    print(f"{model.name}: {model.description}")

# Get model info
info = await client.get_model_info('gpt-4-turbo')
print(f"Context window: {info.context_window}")
print(f"Cost: ${info.pricing.input}/1K input tokens")

# Use specific model
agent = client.create_agent(AgentConfig(
    name='optimizer',
    model='gpt-3.5-turbo',  # Use cheaper model
    temperature=0.3
))

response = await agent.send({
    'messages': [{'role': 'user', 'content': 'Hello'}]
})</code></pre>
            </div>
            
            <div class="col-md-6">
              <h5>.NET (C#)</h5>
              <pre><code class="language-csharp">using GitHub.Copilot;

var client = new CopilotClient(new ClientOptions 
{ 
    Auth = Environment.GetEnvironmentVariable("GITHUB_TOKEN") 
});

// List models
var models = await client.ListModelsAsync();
foreach (var model in models)
{
    Console.WriteLine($"{model.Name}: {model.Description}");
}

// Get model info
var info = await client.GetModelInfoAsync("gpt-4-turbo");
Console.WriteLine($"Context: {info.ContextWindow}");
Console.WriteLine($"Cost: ${info.Pricing.Input}/1K");

// Use specific model
var agent = client.CreateAgent(new AgentConfig
{
    Name = "optimizer",
    Model = "gpt-3.5-turbo",
    Temperature = 0.3
});

var response = await agent.SendAsync(new AgentRequest
{
    Messages = new[] 
    { 
        new Message { Role = "user", Content = "Hello" } 
    }
});</code></pre>
            </div>
          </div>

          <h2>Best Practices</h2>

          <div class="card mb-4">
            <div class="card-body">
              <h3>‚úÖ Model Selection Best Practices</h3>
              <ul>
                <li>‚úÖ Use GPT-3.5-turbo for simple, high-volume tasks</li>
                <li>‚úÖ Use GPT-4 for complex reasoning and accuracy-critical tasks</li>
                <li>‚úÖ Use GPT-4-turbo for large contexts (>8K tokens)</li>
                <li>‚úÖ Start with lower temperature (0.3) and adjust as needed</li>
                <li>‚úÖ Estimate and monitor token costs</li>
                <li>‚úÖ Implement fallback strategies for availability</li>
                <li>‚úÖ Cache model information to reduce API calls</li>
                <li>‚úÖ Test with multiple models to find the best fit</li>
              </ul>
            </div>
          </div>

          <h2>Model Comparison Matrix</h2>

          <table class="table table-bordered">
            <thead>
              <tr>
                <th>Task Type</th>
                <th>Recommended Model</th>
                <th>Temperature</th>
                <th>Reasoning</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Code Review</td>
                <td>gpt-4</td>
                <td>0.2</td>
                <td>High accuracy needed, deterministic</td>
              </tr>
              <tr>
                <td>Code Generation</td>
                <td>gpt-4</td>
                <td>0.3</td>
                <td>Precision important, some creativity OK</td>
              </tr>
              <tr>
                <td>Documentation</td>
                <td>gpt-3.5-turbo</td>
                <td>0.5</td>
                <td>Good balance, cost-effective</td>
              </tr>
              <tr>
                <td>Chat/Q&A</td>
                <td>gpt-3.5-turbo</td>
                <td>0.7</td>
                <td>Fast responses, conversational</td>
              </tr>
              <tr>
                <td>Creative Writing</td>
                <td>gpt-4</td>
                <td>1.0</td>
                <td>Quality matters, higher creativity</td>
              </tr>
              <tr>
                <td>Data Extraction</td>
                <td>gpt-3.5-turbo</td>
                <td>0.1</td>
                <td>Deterministic, fast, cheap</td>
              </tr>
              <tr>
                <td>Complex Analysis</td>
                <td>gpt-4-turbo</td>
                <td>0.3</td>
                <td>Large context, deep reasoning</td>
              </tr>
            </tbody>
          </table>

          <div class="card bg-light mt-4">
            <div class="card-body">
              <h3>üìö Related Documentation</h3>
              <ul>
                <li><a href="#api-agent">Agent API</a> - Using models with agents</li>
                <li><a href="#billing-quota">Billing & Quota</a> - Cost management and limits</li>
                <li><a href="#best-practices">Best Practices</a> - Optimization strategies</li>
                <li><a href="#feature-models">Model Selection</a> - Feature overview</li>
              </ul>
            </div>
          </div>
        </section>

        <section id="api-auth" role="article">
          <h1>üîê Auth API</h1>
          <span class="badge">auth</span>
          <span class="badge">authentication</span>
          
          <p>The Auth API provides secure authentication and authorization mechanisms for accessing the GitHub Copilot SDK. Choose from multiple authentication methods based on your deployment scenario and security requirements.</p>

          <h2>Authentication Methods</h2>

          <div class="row">
            <div class="col-md-6 mb-4">
              <div class="card h-100">
                <div class="card-body">
                  <h3>üîë Personal Access Token</h3>
                  <p><strong>Best for:</strong> Development, personal projects</p>
                  <ul>
                    <li>Simple to set up</li>
                    <li>User-specific access</li>
                    <li>Quick testing and prototyping</li>
                  </ul>
                  <pre><code class="language-typescript">const client = new CopilotClient({
  auth: process.env.GITHUB_TOKEN
});</code></pre>
                </div>
              </div>
            </div>
            
            <div class="col-md-6 mb-4">
              <div class="card h-100">
                <div class="card-body">
                  <h3>ü§ñ GitHub App</h3>
                  <p><strong>Best for:</strong> Production applications</p>
                  <ul>
                    <li>Organization-wide access</li>
                    <li>Fine-grained permissions</li>
                    <li>Audit trail and compliance</li>
                  </ul>
                  <pre><code class="language-typescript">const client = new CopilotClient({
  auth: new GitHubAppAuth({
    appId: '12345',
    privateKey: privateKey
  })
});</code></pre>
                </div>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-md-6 mb-4">
              <div class="card h-100">
                <div class="card-body">
                  <h3>üîê Azure AD / OAuth</h3>
                  <p><strong>Best for:</strong> Enterprise SSO</p>
                  <ul>
                    <li>Centralized identity management</li>
                    <li>Conditional access policies</li>
                    <li>MFA support</li>
                  </ul>
                  <pre><code class="language-typescript">const client = new CopilotClient({
  auth: new AzureADAuth({
    tenantId: 'tenant-id',
    clientId: 'client-id'
  })
});</code></pre>
                </div>
              </div>
            </div>
            
            <div class="col-md-6 mb-4">
              <div class="card h-100">
                <div class="card-body">
                  <h3>üè¢ BYOK (Bring Your Own Key)</h3>
                  <p><strong>Best for:</strong> Azure OpenAI deployments</p>
                  <ul>
                    <li>Full data control</li>
                    <li>Custom endpoints</li>
                    <li>Private networking</li>
                  </ul>
                  <pre><code class="language-typescript">const client = new CopilotClient({
  auth: new BYOKAuth({
    endpoint: 'https://my-openai.com',
    apiKey: azureKey
  })
});</code></pre>
                </div>
              </div>
            </div>
          </div>

          <h2>Personal Access Token</h2>

          <h3>Creating a Token</h3>
          
          <ol>
            <li>Go to GitHub Settings ‚Üí Developer settings ‚Üí Personal access tokens</li>
            <li>Click "Generate new token (classic)"</li>
            <li>Select scopes:
              <ul>
                <li><code>copilot</code> - Access Copilot API</li>
                <li><code>user:email</code> - Read user email (optional)</li>
              </ul>
            </li>
            <li>Generate and copy the token</li>
          </ol>

          <h3>Using a Token</h3>
          
          <div class="row">
            <div class="col-md-6">
              <h5>Environment Variable (Recommended)</h5>
              <pre><code class="language-bash"># .env file
GITHUB_TOKEN=ghp_xxxxxxxxxxxx</code></pre>
              
              <pre><code class="language-typescript">// Load from environment
const client = new CopilotClient({
  auth: process.env.GITHUB_TOKEN
});</code></pre>
            </div>
            
            <div class="col-md-6">
              <h5>Configuration File</h5>
              <pre><code class="language-json">// config.json (DO NOT COMMIT)
{
  "github": {
    "token": "ghp_xxxxxxxxxxxx"
  }
}</code></pre>
              
              <pre><code class="language-typescript">// Load from config
const config = require('./config.json');
const client = new CopilotClient({
  auth: config.github.token
});</code></pre>
            </div>
          </div>

          <div class="alert alert-danger">
            <strong>‚ö†Ô∏è Security Warning:</strong> Never commit tokens to version control. Always use environment variables or secure secret management.
          </div>

          <h2>GitHub App Authentication</h2>

          <h3>Setting Up a GitHub App</h3>
          
          <pre><code class="language-typescript">import { CopilotClient, GitHubAppAuth } from '@github/copilot-sdk';
import fs from 'fs';

// Load private key
const privateKey = fs.readFileSync('path/to/private-key.pem', 'utf8');

// Create auth provider
const auth = new GitHubAppAuth({
  appId: '123456',
  privateKey: privateKey,
  installationId: '789012',  // Optional: specific installation
  cache: true  // Cache installation tokens
});

const client = new CopilotClient({ auth });</code></pre>

          <h3>Installation Token Flow</h3>
          
          <pre><code class="language-typescript">// GitHub App automatically handles token refresh
const auth = new GitHubAppAuth({
  appId: process.env.GITHUB_APP_ID,
  privateKey: process.env.GITHUB_PRIVATE_KEY
});

// Get installation token (cached for 1 hour)
const token = await auth.getToken();
console.log('Installation token:', token);

// Token automatically refreshed when expired
const client = new CopilotClient({ auth });</code></pre>

          <h2>Azure AD / OAuth Authentication</h2>

          <h3>Azure AD Integration</h3>
          
          <pre><code class="language-typescript">import { CopilotClient, AzureADAuth } from '@github/copilot-sdk';
import { DefaultAzureCredential } from '@azure/identity';

const auth = new AzureADAuth({
  tenantId: process.env.AZURE_TENANT_ID,
  clientId: process.env.AZURE_CLIENT_ID,
  credential: new DefaultAzureCredential()
});

const client = new CopilotClient({ auth });</code></pre>

          <h3>OAuth Flow</h3>
          
          <pre><code class="language-typescript">import { OAuthAuth } from '@github/copilot-sdk';

// OAuth authentication
const auth = new OAuthAuth({
  clientId: process.env.OAUTH_CLIENT_ID,
  clientSecret: process.env.OAUTH_CLIENT_SECRET,
  redirectUri: 'http://localhost:3000/callback',
  scopes: ['copilot', 'user:email']
});

// Step 1: Get authorization URL
const authUrl = auth.getAuthorizationUrl();
console.log('Visit:', authUrl);

// Step 2: Handle callback
app.get('/callback', async (req, res) => {
  const code = req.query.code;
  await auth.exchangeCodeForToken(code);
  
  // Now authenticated
  const client = new CopilotClient({ auth });
  res.send('Authenticated!');
});</code></pre>

          <h2>BYOK (Azure OpenAI)</h2>

          <h3>Using Your Own Azure OpenAI Deployment</h3>
          
          <pre><code class="language-typescript">import { CopilotClient, BYOKAuth } from '@github/copilot-sdk';

const auth = new BYOKAuth({
  endpoint: 'https://my-resource.openai.azure.com',
  apiKey: process.env.AZURE_OPENAI_KEY,
  apiVersion: '2024-02-01',
  deployment: 'gpt-4'  // Your deployment name
});

const client = new CopilotClient({ auth });

// All requests go to your Azure OpenAI instance
const response = await client.send({
  messages: [{ role: 'user', content: 'Hello' }]
});</code></pre>

          <h3>Private Endpoint Support</h3>
          
          <pre><code class="language-typescript">// Use private endpoint
const auth = new BYOKAuth({
  endpoint: 'https://my-resource.privatelink.openai.azure.com',
  apiKey: process.env.AZURE_OPENAI_KEY,
  usePrivateEndpoint: true
});

const client = new CopilotClient({ 
  auth,
  // Custom network configuration
  httpAgent: new HttpsProxyAgent(proxyUrl)
});</code></pre>

          <h2>Custom Authentication Provider</h2>

          <h3>Implementing AuthProvider Interface</h3>
          
          <pre><code class="language-typescript">import { AuthProvider } from '@github/copilot-sdk';

class CustomAuthProvider implements AuthProvider {
  private token?: string;
  private expiresAt?: Date;
  
  async getToken(): Promise<string> {
    // Return cached token if still valid
    if (this.token && this.expiresAt > new Date()) {
      return this.token;
    }
    
    // Fetch new token from your auth service
    const response = await fetch('https://auth.example.com/token', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        service: 'copilot',
        scope: 'read:write'
      })
    });
    
    const data = await response.json();
    this.token = data.token;
    this.expiresAt = new Date(data.expiresAt);
    
    return this.token;
  }
  
  async refreshToken(): Promise<string> {
    // Clear cache and fetch new token
    this.token = undefined;
    return this.getToken();
  }
  
  async revokeToken(): Promise<void> {
    // Revoke the token
    if (this.token) {
      await fetch('https://auth.example.com/revoke', {
        method: 'POST',
        headers: { 'Authorization': `Bearer ${this.token}` }
      });
    }
    this.token = undefined;
  }
}

// Use custom provider
const auth = new CustomAuthProvider();
const client = new CopilotClient({ auth });</code></pre>

          <h2>Token Management</h2>

          <h3>Token Rotation</h3>
          
          <pre><code class="language-typescript">class TokenRotator {
  private currentToken: string;
  private nextToken?: string;
  
  async rotateToken() {
    // Fetch new token
    this.nextToken = await this.fetchNewToken();
    
    // Wait for ongoing requests to complete
    await this.waitForInFlightRequests();
    
    // Swap tokens
    this.currentToken = this.nextToken;
    this.nextToken = undefined;
    
    console.log('Token rotated successfully');
  }
  
  getToken(): string {
    return this.currentToken;
  }
}

const rotator = new TokenRotator();

// Rotate every 6 hours
setInterval(() => rotator.rotateToken(), 6 * 60 * 60 * 1000);</code></pre>

          <h3>Token Validation</h3>
          
          <pre><code class="language-typescript">import { validateToken } from '@github/copilot-sdk';

async function checkTokenValidity(token: string) {
  try {
    const info = await validateToken(token);
    
    console.log({
      valid: info.valid,
      scopes: info.scopes,
      expiresAt: info.expiresAt,
      user: info.user
    });
    
    // Check if token expires soon
    const expiresIn = info.expiresAt.getTime() - Date.now();
    if (expiresIn < 24 * 60 * 60 * 1000) {
      console.warn('Token expires in less than 24 hours');
    }
    
  } catch (error) {
    console.error('Invalid token:', error);
  }
}</code></pre>

          <h2>Security Best Practices</h2>

          <div class="card mb-4">
            <div class="card-body">
              <h3>üîí Authentication Security</h3>
              <ul>
                <li>‚úÖ Use environment variables for tokens, never hardcode</li>
                <li>‚úÖ Store tokens in secure secret managers (Azure Key Vault, AWS Secrets Manager)</li>
                <li>‚úÖ Implement token rotation for long-running applications</li>
                <li>‚úÖ Use minimal scopes - only request what you need</li>
                <li>‚úÖ Monitor token usage and set up alerts</li>
                <li>‚úÖ Revoke compromised tokens immediately</li>
                <li>‚úÖ Use GitHub Apps for production (better auditability)</li>
                <li>‚úÖ Enable MFA on accounts with token access</li>
                <li>‚úÖ Regularly audit and clean up unused tokens</li>
              </ul>
            </div>
          </div>

          <h2>Language-Specific Examples</h2>

          <div class="row">
            <div class="col-md-6">
              <h5>Python with Azure Key Vault</h5>
              <pre><code class="language-python">from github_copilot import CopilotClient
from azure.keyvault.secrets import SecretClient
from azure.identity import DefaultAzureCredential

# Fetch token from Key Vault
credential = DefaultAzureCredential()
vault_url = "https://my-vault.vault.azure.net"
secret_client = SecretClient(vault_url, credential)

token = secret_client.get_secret("github-token").value

# Use token
client = CopilotClient(auth=token)
await client.connect()</code></pre>
            </div>
            
            <div class="col-md-6">
              <h5>.NET with Managed Identity</h5>
              <pre><code class="language-csharp">using Azure.Identity;
using Azure.Security.KeyVault.Secrets;
using GitHub.Copilot;

// Fetch from Key Vault using Managed Identity
var client = new SecretClient(
    new Uri("https://my-vault.vault.azure.net"),
    new DefaultAzureCredential()
);

var secret = await client.GetSecretAsync("github-token");
var token = secret.Value.Value;

// Use token
var copilot = new CopilotClient(new ClientOptions 
{ 
    Auth = token 
});
await copilot.ConnectAsync();</code></pre>
            </div>
          </div>

          <h2>Troubleshooting Authentication</h2>

          <table class="table table-bordered">
            <thead>
              <tr>
                <th>Error</th>
                <th>Cause</th>
                <th>Solution</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>401 Unauthorized</code></td>
                <td>Invalid or expired token</td>
                <td>Verify token is correct, regenerate if expired</td>
              </tr>
              <tr>
                <td><code>403 Forbidden</code></td>
                <td>Insufficient permissions</td>
                <td>Add required scopes to token</td>
              </tr>
              <tr>
                <td><code>Token expired</code></td>
                <td>Token lifetime exceeded</td>
                <td>Implement token refresh logic</td>
              </tr>
              <tr>
                <td><code>Invalid scope</code></td>
                <td>Missing required scopes</td>
                <td>Regenerate token with copilot scope</td>
              </tr>
              <tr>
                <td><code>Rate limit exceeded</code></td>
                <td>Too many auth requests</td>
                <td>Implement token caching</td>
              </tr>
            </tbody>
          </table>

          <h2>Authentication Flow Diagram</h2>
          
          <pre><code class="language-mermaid">sequenceDiagram
    participant App
    participant SDK
    participant Auth Provider
    participant GitHub API
    
    App->>SDK: Create Client(auth)
    SDK->>Auth Provider: getToken()
    Auth Provider->>Auth Provider: Check cache
    
    alt Token cached and valid
        Auth Provider-->>SDK: Return cached token
    else Token expired or missing
        Auth Provider->>GitHub API: Request new token
        GitHub API-->>Auth Provider: New token
        Auth Provider->>Auth Provider: Cache token
        Auth Provider-->>SDK: Return new token
    end
    
    SDK->>GitHub API: API Request + Token
    GitHub API->>GitHub API: Validate token
    GitHub API-->>SDK: Response
    SDK-->>App: Result</code></pre>

          <div class="card bg-light mt-4">
            <div class="card-body">
              <h3>üìö Related Documentation</h3>
              <ul>
                <li><a href="#getting-started">Getting Started</a> - Initial authentication setup</li>
                <li><a href="#feature-byok">BYOK Support</a> - Bring your own key details</li>
                <li><a href="#best-practices">Best Practices</a> - Security recommendations</li>
                <li><a href="#troubleshooting">Troubleshooting</a> - Common auth issues</li>
              </ul>
            </div>
          </div>
        </section>

        <section id="cookbook" role="article">
          <h1>üìñ Cookbook</h1>
          <span class="badge">cookbook</span>
          <span class="badge">recipes</span>
          
          <p>Practical recipes and real-world examples for common tasks with the GitHub Copilot SDK. Copy, paste, and adapt these recipes to accelerate your development.</p>

          <h2>Recipe Categories</h2>
          
          <div class="row">
            <div class="col-md-3">
              <div class="card">
                <div class="card-body">
                  <h5>üöÄ Quick Start</h5>
                  <ul>
                    <li><a href="#recipe-hello-world">Hello World</a></li>
                    <li><a href="#recipe-simple-chat">Simple Chat</a></li>
                    <li><a href="#recipe-streaming">Streaming</a></li>
                  </ul>
                </div>
              </div>
            </div>
            
            <div class="col-md-3">
              <div class="card">
                <div class="card-body">
                  <h5>ü§ñ Agent Patterns</h5>
                  <ul>
                    <li><a href="#recipe-code-review">Code Review</a></li>
                    <li><a href="#recipe-doc-gen">Doc Generator</a></li>
                    <li><a href="#recipe-chatbot">Chatbot</a></li>
                  </ul>
                </div>
              </div>
            </div>
            
            <div class="col-md-3">
              <div class="card">
                <div class="card-body">
                  <h5>üîß Tools & Integration</h5>
                  <ul>
                    <li><a href="#recipe-db-tool">Database Tool</a></li>
                    <li><a href="#recipe-api-tool">API Integration</a></li>
                    <li><a href="#recipe-file-tool">File Operations</a></li>
                  </ul>
                </div>
              </div>
            </div>
            
            <div class="col-md-3">
              <div class="card">
                <div class="card-body">
                  <h5>üè¢ Enterprise</h5>
                  <ul>
                    <li><a href="#recipe-byok">BYOK Setup</a></li>
                    <li><a href="#recipe-auth">Authentication</a></li>
                    <li><a href="#recipe-monitoring">Monitoring</a></li>
                  </ul>
                </div>
              </div>
            </div>
          </div>

          <hr />

          <h2 id="recipe-hello-world">üöÄ Recipe 1: Hello World</h2>
          
          <p><strong>Goal:</strong> Send your first request to the Copilot SDK and get a response.</p>
          
          <div class="row">
            <div class="col-md-6">
              <h5>TypeScript</h5>
              <pre><code class="language-typescript">import { CopilotClient } from '@github/copilot-sdk';

async function helloWorld() {
  // Initialize client
  const client = new CopilotClient({
    auth: process.env.GITHUB_TOKEN
  });

  // Connect
  await client.connect();

  try {
    // Send request
    const response = await client.send({
      messages: [
        { role: 'user', content: 'Hello, GitHub Copilot!' }
      ]
    });

    // Print response
    console.log(response.choices[0].message.content);
  } finally {
    // Clean up
    await client.disconnect();
  }
}

helloWorld();</code></pre>
            </div>
            
            <div class="col-md-6">
              <h5>Python</h5>
              <pre><code class="language-python">from github_copilot import CopilotClient
import os

async def hello_world():
    # Initialize client
    client = CopilotClient(
        auth=os.environ['GITHUB_TOKEN']
    )
    
    # Use context manager for automatic cleanup
    async with client:
        # Send request
        response = await client.send({
            'messages': [
                {'role': 'user', 'content': 'Hello, GitHub Copilot!'}
            ]
        })
        
        # Print response
        print(response['choices'][0]['message']['content'])

# Run
import asyncio
asyncio.run(hello_world())</code></pre>
            </div>
          </div>

          <hr />

          <h2 id="recipe-simple-chat">üí¨ Recipe 2: Simple Chatbot</h2>
          
          <p><strong>Goal:</strong> Build a conversational chatbot that maintains context.</p>
          
          <pre><code class="language-typescript">import { CopilotClient } from '@github/copilot-sdk';
import * as readline from 'readline';

class SimpleChatbot {
  private client: CopilotClient;
  private messages: Array<{ role: string; content: string }> = [];

  constructor(token: string) {
    this.client = new CopilotClient({
      auth: token,
      model: 'gpt-3.5-turbo'
    });
  }

  async start() {
    await this.client.connect();
    console.log('Chatbot ready! Type your message (or "exit" to quit):\\n');

    const rl = readline.createInterface({
      input: process.stdin,
      output: process.stdout
    });

    rl.on('line', async (input) => {
      if (input.toLowerCase() === 'exit') {
        await this.client.disconnect();
        rl.close();
        process.exit(0);
      }

      await this.chat(input);
      process.stdout.write('\\nYou: ');
    });

    process.stdout.write('You: ');
  }

  private async chat(userMessage: string) {
    // Add user message to history
    this.messages.push({ role: 'user', content: userMessage });

    try {
      // Get response
      const response = await this.client.send({
        messages: this.messages
      });

      const assistantMessage = response.choices[0].message.content;

      // Add assistant response to history
      this.messages.push({ role: 'assistant', content: assistantMessage });

      console.log(`\\nAssistant: ${assistantMessage}`);
    } catch (error) {
      console.error('Error:', error.message);
    }
  }
}

// Run chatbot
const bot = new SimpleChatbot(process.env.GITHUB_TOKEN);
bot.start();</code></pre>

          <hr />

          <h2 id="recipe-streaming">‚ö° Recipe 3: Streaming Responses</h2>
          
          <p><strong>Goal:</strong> Stream responses in real-time for better UX.</p>
          
          <pre><code class="language-typescript">import { CopilotClient } from '@github/copilot-sdk';

async function streamingDemo() {
  const client = new CopilotClient({
    auth: process.env.GITHUB_TOKEN,
    model: 'gpt-4'
  });

  await client.connect();

  console.log('Generating response...\\n');

  try {
    const stream = await client.stream({
      messages: [
        {
          role: 'user',
          content: 'Write a short story about a robot learning to paint'
        }
      ]
    });

    let fullResponse = '';

    for await (const chunk of stream) {
      if (chunk.choices[0]?.delta?.content) {
        const content = chunk.choices[0].delta.content;
        fullResponse += content;
        process.stdout.write(content);
      }

      if (chunk.choices[0]?.finish_reason) {
        console.log('\\n\\n---');
        console.log('Finish reason:', chunk.choices[0].finish_reason);
        console.log('Total tokens:', chunk.usage?.total_tokens);
      }
    }

    console.log('\\nComplete response length:', fullResponse.length);
  } finally {
    await client.disconnect();
  }
}

streamingDemo();</code></pre>

          <hr />

          <h2 id="recipe-code-review">üîç Recipe 4: Code Review Agent</h2>
          
          <p><strong>Goal:</strong> Create an agent that reviews code for best practices.</p>
          
          <pre><code class=\"language-typescript\">import { CopilotClient } from '@github/copilot-sdk';
import * as fs from 'fs/promises';

class CodeReviewAgent {
  private agent: any;

  constructor(client: CopilotClient) {
    this.agent = client.createAgent({
      name: 'code-reviewer',
      model: 'gpt-4',
      temperature: 0.3,
      systemPrompt: `You are an expert code reviewer. Analyze code for:
      
1. Bugs and logical errors
2. Security vulnerabilities
3. Performance issues
4. Code style and best practices
5. Missing error handling
6. Potential edge cases

Format your review as:
- **Summary**: Brief overview
- **Critical Issues**: Must fix (with line numbers)
- **Warnings**: Should fix
- **Suggestions**: Nice to have
- **Positive Feedback**: What's done well`
    });
  }

  async reviewFile(filePath: string) {
    const code = await fs.readFile(filePath, 'utf-8');

    const response = await this.agent.send({
      messages: [
        {
          role: 'user',
          content: `Review this code from ${filePath}:\\n\\n\`\`\`\\n${code}\\n\`\`\``
        }
      ]
    });

    return response.choices[0].message.content;
  }

  async reviewDirectory(dirPath: string) {
    const files = await fs.readdir(dirPath);
    const reviews = [];

    for (const file of files) {
      if (file.endsWith('.ts') || file.endsWith('.js')) {
        console.log(`Reviewing ${file}...`);
        const review = await this.reviewFile(`${dirPath}/${file}`);
        reviews.push({ file, review });
      }
    }

    return reviews;
  }
}

// Usage
async function main() {
  const client = new CopilotClient({ auth: process.env.GITHUB_TOKEN });
  await client.connect();

  const reviewer = new CodeReviewAgent(client);
  
  // Review single file
  const review = await reviewer.reviewFile('./src/index.ts');
  console.log(review);

  // Review entire directory
  const reviews = await reviewer.reviewDirectory('./src');
  reviews.forEach(({ file, review }) => {
    console.log(`\\n=== ${file} ===\\n${review}`);
  });

  await client.disconnect();
}

main();</code></pre>

          <hr />

          <h2 id="recipe-doc-gen">üìù Recipe 5: Documentation Generator</h2>
          
          <p><strong>Goal:</strong> Automatically generate API documentation from code.</p>
          
          <pre><code class="language-typescript\">import { CopilotClient } from '@github/copilot-sdk';
import * as fs from 'fs/promises';

class DocGenerator {
  private agent: any;

  constructor(client: CopilotClient) {
    this.agent = client.createAgent({
      name: 'doc-generator',
      model: 'gpt-4',
      temperature: 0.4,
      systemPrompt: `Generate comprehensive API documentation in Markdown format.

Include:
- Function/class description
- Parameters with types and descriptions
- Return values with types
- Usage examples
- Error cases
- Notes and warnings

Use proper Markdown formatting with code blocks.`
    });
  }

  async generateDocs(code: string): Promise<string> {
    const response = await this.agent.send({
      messages: [
        {
          role: 'user',
          content: `Generate documentation for this code:\\n\\n\`\`\`typescript\\n${code}\\n\`\`\``
        }
      ],
      response_format: { type: 'text' }
    });

    return response.choices[0].message.content;
  }

  async generateDocsForFile(inputPath: string, outputPath: string) {
    const code = await fs.readFile(inputPath, 'utf-8');
    const docs = await this.generateDocs(code);
    
    await fs.writeFile(outputPath, docs);
    console.log(`Documentation generated: ${outputPath}`);
  }

  async generateDocsForProject(srcDir: string, docsDir: string) {
    await fs.mkdir(docsDir, { recursive: true });
    
    const files = await fs.readdir(srcDir);
    
    for (const file of files) {
      if (file.endsWith('.ts') || file.endsWith('.js')) {
        const inputPath = `${srcDir}/${file}`;
        const outputPath = `${docsDir}/${file.replace(/\\.(ts|js)$/, '.md')}`;
        
        console.log(`Generating docs for ${file}...`);
        await this.generateDocsForFile(inputPath, outputPath);
      }
    }
  }
}

// Usage
async function main() {
  const client = new CopilotClient({ auth: process.env.GITHUB_TOKEN });
  await client.connect();

  const docGen = new DocGenerator(client);
  
  // Generate for entire project
  await docGen.generateDocsForProject('./src', './docs/api');

  await client.disconnect();
}

main();</code></pre>

          <hr />

          <h2 id="recipe-db-tool">üóÑÔ∏è Recipe 6: Database Query Tool</h2>
          
          <p><strong>Goal:</strong> Create a tool that allows agents to query databases safely.</p>
          
          <pre><code class=\"language-typescript\">import { CopilotClient, Tool } from '@github/copilot-sdk';
import { Pool } from 'pg';

class DatabaseAgent {
  private client: CopilotClient;
  private db: Pool;
  private agent: any;

  constructor(token: string, dbConfig: any) {
    this.db = new Pool(dbConfig);
    
    this.client = new CopilotClient({ auth: token });
    
    // Define database query tool
    const queryTool: Tool = {
      type: 'function',
      function: {
        name: 'query_database',
        description: 'Execute a SELECT query on the database',
        parameters: {
          type: 'object',
          properties: {
            query: {
              type: 'string',
              description: 'SQL SELECT query'
            },
            limit: {
              type: 'number',
              default: 100,
              description: 'Maximum rows to return'
            }
          },
          required: ['query']
        }
      }
    };

    this.agent = this.client.createAgent({
      name: 'database-assistant',
      model: 'gpt-4',
      temperature: 0.2,
      systemPrompt: `You are a database assistant. Help users query and analyze data.
      
Rules:
- Only use SELECT queries
- Always apply appropriate LIMIT
- Explain your queries
- Format results clearly`,
      tools: [queryTool]
    });

    // Register tool handler
    this.agent.onToolCall('query_database', this.executeQuery.bind(this));
  }

  private async executeQuery(args: any) {
    const { query, limit = 100 } = args;

    // Security: Only allow SELECT
    if (!query.trim().toUpperCase().startsWith('SELECT')) {
      throw new Error('Only SELECT queries are allowed');
    }

    // Add LIMIT if not present
    let finalQuery = query;
    if (!query.toUpperCase().includes('LIMIT')) {
      finalQuery += ` LIMIT ${limit}`;
    }

    try {
      const result = await this.db.query(finalQuery);
      return {
        rowCount: result.rowCount,
        rows: result.rows
      };
    } catch (error) {
      return { error: error.message };
    }
  }

  async ask(question: string) {
    const response = await this.agent.send({
      messages: [{ role: 'user', content: question }]
    });

    return response.choices[0].message.content;
  }

  async close() {
    await this.db.end();
    await this.client.disconnect();
  }
}

// Usage
async function main() {
  const dbAgent = new DatabaseAgent(
    process.env.GITHUB_TOKEN,
    {
      host: 'localhost',
      database: 'mydb',
      user: 'user',
      password: 'password'
    }
  );

  // Natural language query
  const result1 = await dbAgent.ask('Show me the top 10 customers by revenue');
  console.log(result1);

  const result2 = await dbAgent.ask('Find all orders from last week');
  console.log(result2);

  await dbAgent.close();
}

main();</code></pre>

          <hr />

          <h2 id="recipe-api-tool">üåê Recipe 7: API Integration Tool</h2>
          
          <p><strong>Goal:</strong> Enable agents to call external REST APIs.</p>
          
          <pre><code class=\"language-typescript\">import { CopilotClient, Tool } from '@github/copilot-sdk';
import axios from 'axios';

class APIAgent {
  private agent: any;

  constructor(client: CopilotClient) {
    const httpTool: Tool = {
      type: 'function',
      function: {
        name: 'http_request',
        description: 'Make HTTP requests to external APIs',
        parameters: {
          type: 'object',
          properties: {
            url: { type: 'string', description: 'API endpoint URL' },
            method: {
              type: 'string',
              enum: ['GET', 'POST', 'PUT', 'DELETE'],
              description: 'HTTP method'
            },
            headers: {
              type: 'object',
              description: 'Request headers'
            },
            data: {
              type: 'object',
              description: 'Request body'
            }
          },
          required: ['url', 'method']
        }
      }
    };

    this.agent = client.createAgent({
      name: 'api-assistant',
      model: 'gpt-4',
      systemPrompt: 'You help users interact with REST APIs',
      tools: [httpTool]
    });

    this.agent.onToolCall('http_request', this.makeRequest.bind(this));
  }

  private async makeRequest(args: any) {
    try {
      const response = await axios({
        url: args.url,
        method: args.method,
        headers: args.headers,
        data: args.data,
        timeout: 10000
      });

      return {
        status: response.status,
        data: response.data
      };
    } catch (error) {
      return {
        error: error.message,
        status: error.response?.status
      };
    }
  }

  async execute(request: string) {
    const response = await this.agent.send({
      messages: [{ role: 'user', content: request }]
    });

    return response.choices[0].message.content;
  }
}

// Usage
async function main() {
  const client = new CopilotClient({ auth: process.env.GITHUB_TOKEN });
  await client.connect();

  const apiAgent = new APIAgent(client);

  // Natural language API requests
  const result1 = await apiAgent.execute(
    'Get the weather for Seattle from api.weather.com/v1/current?city=Seattle'
  );
  console.log(result1);

  const result2 = await apiAgent.execute(
    'POST to https://api.example.com/users with {name: \"John\", email: \"john@example.com\"}'
  );
  console.log(result2);

  await client.disconnect();
}

main();</code></pre>

          <hr />

          <h2 id="recipe-file-tool">üìÅ Recipe 8: File Operations Tool</h2>
          
          <p><strong>Goal:</strong> Allow agents to read and analyze files safely.</p>
          
          <pre><code class=\"language-typescript\">import { CopilotClient, Tool } from '@github/copilot-sdk';
import * as fs from 'fs/promises';
import * as path from 'path';

class FileAgent {
  private agent: any;
  private allowedPaths: string[];

  constructor(client: CopilotClient, allowedPaths: string[]) {
    this.allowedPaths = allowedPaths;

    const fileTools: Tool[] = [
      {
        type: 'function',
        function: {
          name: 'read_file',
          description: 'Read contents of a file',
          parameters: {
            type: 'object',
            properties: {
              path: { type: 'string', description: 'File path' }
            },
            required: ['path']
          }
        }
      },
      {
        type: 'function',
        function: {
          name: 'list_files',
          description: 'List files in directory',
          parameters: {
            type: 'object',
            properties: {
              directory: { type: 'string', description: 'Directory path' }
            },
            required: ['directory']
          }
        }
      }
    ];

    this.agent = client.createAgent({
      name: 'file-assistant',
      model: 'gpt-4',
      systemPrompt: 'You help users work with files and directories',
      tools: fileTools
    });

    this.agent.onToolCall('read_file', this.readFile.bind(this));
    this.agent.onToolCall('list_files', this.listFiles.bind(this));
  }

  private validatePath(filePath: string): boolean {
    const resolved = path.resolve(filePath);
    return this.allowedPaths.some(allowed =>
      resolved.startsWith(path.resolve(allowed))
    );
  }

  private async readFile(args: any) {
    if (!this.validatePath(args.path)) {
      throw new Error('Access denied: Path not allowed');
    }

    try {
      const content = await fs.readFile(args.path, 'utf-8');
      return { content, size: content.length };
    } catch (error) {
      return { error: error.message };
    }
  }

  private async listFiles(args: any) {
    if (!this.validatePath(args.directory)) {
      throw new Error('Access denied: Path not allowed');
    }

    try {
      const files = await fs.readdir(args.directory);
      return { files };
    } catch (error) {
      return { error: error.message };
    }
  }

  async ask(question: string) {
    const response = await this.agent.send({
      messages: [{ role: 'user', content: question }]
    });

    return response.choices[0].message.content;
  }
}

// Usage
async function main() {
  const client = new CopilotClient({ auth: process.env.GITHUB_TOKEN });
  await client.connect();

  const fileAgent = new FileAgent(client, ['./src', './docs']);

  const result = await fileAgent.ask(
    'List all TypeScript files in ./src and summarize their purpose'
  );
  console.log(result);

  await client.disconnect();
}

main();</code></pre>

          <hr />

          <h2 id="recipe-byok">üîê Recipe 9: BYOK Setup</h2>
          
          <p><strong>Goal:</strong> Configure the SDK to use your Azure OpenAI deployment.</p>
          
          <pre><code class=\"language-typescript\">import { CopilotClient, BYOKAuth } from '@github/copilot-sdk';
import { DefaultAzureCredential } from '@azure/identity';

class BYOKSetup {
  static async createClient(environment: 'dev' | 'staging' | 'prod') {
    const configs = {
      dev: {
        endpoint: 'https://openai-dev.openai.azure.com',
        deployment: 'gpt-35-turbo'
      },
      staging: {
        endpoint: 'https://openai-staging.openai.azure.com',
        deployment: 'gpt-4'
      },
      prod: {
        endpoint: 'https://openai-prod.openai.azure.com',
        deployment: 'gpt-4'
      }
    };

    const config = configs[environment];

    // Use Managed Identity (recommended for production)
    const client = new CopilotClient({
      auth: new BYOKAuth({
        endpoint: config.endpoint,
        credential: new DefaultAzureCredential(),
        deployment: config.deployment
      })
    });

    await client.connect();
    console.log(`Connected to ${environment} environment`);

    return client;
  }

  static async testConnection(client: CopilotClient) {
    try {
      const response = await client.send({
        messages: [{ role: 'user', content: 'Hello!' }]
      });

      console.log('‚úÖ Connection successful');
      console.log('Response:', response.choices[0].message.content);
      console.log('Tokens used:', response.usage.total_tokens);

      return true;
    } catch (error) {
      console.error('‚ùå Connection failed:', error.message);
      return false;
    }
  }
}

// Usage
async function main() {
  // Create client for production
  const client = await BYOKSetup.createClient('prod');

  // Test connection
  const success = await BYOKSetup.testConnection(client);

  if (success) {
    // Use client for your application
    const response = await client.send({
      messages: [{ role: 'user', content: 'Explain async/await' }]
    });
    console.log(response.choices[0].message.content);
  }

  await client.disconnect();
}

main();</code></pre>

          <hr />

          <h2 id="recipe-auth">üîë Recipe 10: Custom Authentication</h2>
          
          <p><strong>Goal:</strong> Implement custom authentication with token rotation.</p>
          
          <pre><code class=\"language-typescript\">import { CopilotClient, AuthProvider } from '@github/copilot-sdk';

class RotatingAuthProvider implements AuthProvider {
  private currentToken?: string;
  private expiresAt?: Date;
  private tokenEndpoint: string;

  constructor(tokenEndpoint: string) {
    this.tokenEndpoint = tokenEndpoint;
  }

  async getToken(): Promise<string> {
    // Return cached token if valid
    if (this.currentToken && this.expiresAt && this.expiresAt > new Date()) {
      return this.currentToken;
    }

    // Fetch new token
    return await this.refreshToken();
  }

  async refreshToken(): Promise<string> {
    console.log('Fetching new token...');

    const response = await fetch(this.tokenEndpoint, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        service: 'copilot',
        scope: 'read:write'
      })
    });

    if (!response.ok) {
      throw new Error('Token fetch failed');
    }

    const data = await response.json();
    this.currentToken = data.token;
    this.expiresAt = new Date(data.expiresAt);

    console.log('Token refreshed, expires at:', this.expiresAt);

    return this.currentToken;
  }

  async revokeToken(): Promise<void> {
    if (this.currentToken) {
      // Revoke token on server
      await fetch(`${this.tokenEndpoint}/revoke`, {
        method: 'POST',
        headers: { Authorization: `Bearer ${this.currentToken}` }
      });

      this.currentToken = undefined;
      this.expiresAt = undefined;
    }
  }
}

// Usage
async function main() {
  const auth = new RotatingAuthProvider('https://auth.example.com/token');

  const client = new CopilotClient({ auth });
  await client.connect();

  // Token automatically rotates when expired
  for (let i = 0; i < 10; i++) {
    const response = await client.send({
      messages: [{ role: 'user', content: `Request ${i}` }]
    });
    console.log(`Response ${i}:`, response.choices[0].message.content);
    
    await new Promise(resolve => setTimeout(resolve, 1000));
  }

  await client.disconnect();
}

main();</code></pre>

          <hr />

          <h2 id="recipe-monitoring">üìä Recipe 11: Monitoring & Logging</h2>
          
          <p><strong>Goal:</strong> Implement comprehensive monitoring for SDK usage.</p>
          
          <pre><code class=\"language-typescript\">import { CopilotClient } from '@github/copilot-sdk';

class MonitoredClient {
  private client: CopilotClient;
  private metrics: {
    totalRequests: number;
    successfulRequests: number;
    failedRequests: number;
    totalTokens: number;
    totalCost: number;
    avgLatency: number;
    requests: Array<any>;
  };

  constructor(token: string) {
    this.client = new CopilotClient({ auth: token });
    this.metrics = {
      totalRequests: 0,
      successfulRequests: 0,
      failedRequests: 0,
      totalTokens: 0,
      totalCost: 0,
      avgLatency: 0,
      requests: []
    };

    // Add interceptors
    this.client.addInterceptor('request', this.onRequest.bind(this));
    this.client.addInterceptor('response', this.onResponse.bind(this));
  }

  private onRequest(request: any) {
    request.metadata = {
      ...request.metadata,
      startTime: Date.now(),
      requestId: this.generateId()
    };
    return request;
  }

  private onResponse(response: any, request: any) {
    const latency = Date.now() - request.metadata.startTime;
    const cost = this.calculateCost(response.usage, response.model);

    // Update metrics
    this.metrics.totalRequests++;
    this.metrics.successfulRequests++;
    this.metrics.totalTokens += response.usage.total_tokens;
    this.metrics.totalCost += cost;
    this.metrics.avgLatency = 
      (this.metrics.avgLatency * (this.metrics.totalRequests - 1) + latency) 
      / this.metrics.totalRequests;

    // Log request details
    this.metrics.requests.push({
      requestId: request.metadata.requestId,
      timestamp: new Date(),
      model: response.model,
      tokens: response.usage.total_tokens,
      cost: cost,
      latency: latency
    });

    console.log(`[${request.metadata.requestId}] ${latency}ms, ${response.usage.total_tokens} tokens, $${cost.toFixed(4)}`);

    return response;
  }

  private calculateCost(usage: any, model: string): number {
    const pricing = {
      'gpt-4': { input: 0.03, output: 0.06 },
      'gpt-3.5-turbo': { input: 0.0005, output: 0.0015 }
    };

    const prices = pricing[model] || pricing['gpt-4'];
    return (
      (usage.prompt_tokens / 1000) * prices.input +
      (usage.completion_tokens / 1000) * prices.output
    );
  }

  private generateId(): string {
    return Math.random().toString(36).substring(2, 15);
  }

  getMetrics() {
    return {
      ...this.metrics,
      avgCostPerRequest: this.metrics.totalCost / this.metrics.totalRequests,
      avgTokensPerRequest: this.metrics.totalTokens / this.metrics.totalRequests
    };
  }

  async send(request: any) {
    try {
      return await this.client.send(request);
    } catch (error) {
      this.metrics.failedRequests++;
      throw error;
    }
  }

  async connect() {
    await this.client.connect();
  }

  async disconnect() {
    await this.client.disconnect();
  }
}

// Usage
async function main() {
  const client = new MonitoredClient(process.env.GITHUB_TOKEN);
  await client.connect();

  // Make some requests
  for (let i = 0; i < 5; i++) {
    await client.send({
      messages: [{ role: 'user', content: `Request ${i}` }]
    });
  }

  // Print metrics
  const metrics = client.getMetrics();
  console.log('\\n=== Metrics ===');
  console.log(`Total requests: ${metrics.totalRequests}`);
  console.log(`Success rate: ${(metrics.successfulRequests / metrics.totalRequests * 100).toFixed(1)}%`);
  console.log(`Total tokens: ${metrics.totalTokens}`);
  console.log(`Total cost: $${metrics.totalCost.toFixed(4)}`);
  console.log(`Avg latency: ${metrics.avgLatency.toFixed(0)}ms`);
  console.log(`Avg cost per request: $${metrics.avgCostPerRequest.toFixed(4)}`);

  await client.disconnect();
}

main();</code></pre>

          <hr />

          <h2>üí° More Recipes</h2>
          
          <div class="alert alert-info">
            <h4>Looking for More Examples?</h4>
            <ul>
              <li>Check the <a href=\"https://github.com/github/copilot-sdk/tree/main/examples\" target=\"_blank\">GitHub Examples Repository</a> for more recipes</li>
              <li>Visit the <a href=\"#usage-patterns\">Usage Patterns</a> section for architectural patterns</li>
              <li>See <a href=\"#best-practices\">Best Practices</a> for optimization tips</li>
              <li>Join the community discussions for shared recipes</li>
            </ul>
          </div>

          <h2>Recipe Index</h2>
          
          <table class="table table-striped">
            <thead>
              <tr>
                <th>Recipe</th>
                <th>Complexity</th>
                <th>Category</th>
                <th>Languages</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><a href=\"#recipe-hello-world\">Hello World</a></td>
                <td><span class=\"badge bg-success\">Beginner</span></td>
                <td>Quick Start</td>
                <td>TypeScript, Python</td>
              </tr>
              <tr>
                <td><a href=\"#recipe-simple-chat\">Simple Chatbot</a></td>
                <td><span class=\"badge bg-success\">Beginner</span></td>
                <td>Quick Start</td>
                <td>TypeScript</td>
              </tr>
              <tr>
                <td><a href=\"#recipe-streaming\">Streaming Responses</a></td>
                <td><span class=\"badge bg-warning\">Intermediate</span></td>
                <td>Quick Start</td>
                <td>TypeScript</td>
              </tr>
              <tr>
                <td><a href=\"#recipe-code-review\">Code Review Agent</a></td>
                <td><span class=\"badge bg-warning\">Intermediate</span></td>
                <td>Agents</td>
                <td>TypeScript</td>
              </tr>
              <tr>
                <td><a href=\"#recipe-doc-gen\">Doc Generator</a></td>
                <td><span class=\"badge bg-warning\">Intermediate</span></td>
                <td>Agents</td>
                <td>TypeScript</td>
              </tr>
              <tr>
                <td><a href=\"#recipe-db-tool\">Database Tool</a></td>
                <td><span class=\"badge bg-danger\">Advanced</span></td>
                <td>Tools</td>
                <td>TypeScript</td>
              </tr>
              <tr>
                <td><a href=\"#recipe-api-tool\">API Integration</a></td>
                <td><span class=\"badge bg-warning\">Intermediate</span></td>
                <td>Tools</td>
                <td>TypeScript</td>
              </tr>
              <tr>
                <td><a href=\"#recipe-file-tool\">File Operations</a></td>
                <td><span class=\"badge bg-warning\">Intermediate</span></td>
                <td>Tools</td>
                <td>TypeScript</td>
              </tr>
              <tr>
                <td><a href=\"#recipe-byok\">BYOK Setup</a></td>
                <td><span class=\"badge bg-danger\">Advanced</span></td>
                <td>Enterprise</td>
                <td>TypeScript</td>
              </tr>
              <tr>
                <td><a href=\"#recipe-auth\">Custom Auth</a></td>
                <td><span class=\"badge bg-danger\">Advanced</span></td>
                <td>Enterprise</td>
                <td>TypeScript</td>
              </tr>
              <tr>
                <td><a href=\"#recipe-monitoring\">Monitoring</a></td>
                <td><span class=\"badge bg-danger\">Advanced</span></td>
                <td>Enterprise</td>
                <td>TypeScript</td>
              </tr>
            </tbody>
          </table>
        </section>

        <section id="best-practices" role="article">
          <h1>‚≠ê Best Practices</h1>
          <span class="badge">practices</span>
          <span class="badge">tips</span>
          <span class="badge">guidelines</span>
          
          <p>Production-ready guidelines and best practices for building robust applications with the GitHub Copilot SDK.</p>

          <h2>üìã Table of Contents</h2>
          
          <div class="row">
            <div class="col-md-3">
              <div class="card">
                <div class="card-body">
                  <h5>üèóÔ∏è Architecture</h5>
                  <ul>
                    <li><a href="#bp-architecture">System Design</a></li>
                    <li><a href="#bp-error-handling">Error Handling</a></li>
                    <li><a href="#bp-resilience">Resilience</a></li>
                  </ul>
                </div>
              </div>
            </div>
            
            <div class="col-md-3">
              <div class="card">
                <div class="card-body">
                  <h5>‚ö° Performance</h5>
                  <ul>
                    <li><a href="#bp-optimization">Optimization</a></li>
                    <li><a href="#bp-caching">Caching</a></li>
                    <li><a href="#bp-rate-limiting">Rate Limiting</a></li>
                  </ul>
                </div>
              </div>
            </div>
            
            <div class="col-md-3">
              <div class="card">
                <div class="card-body">
                  <h5>üîí Security</h5>
                  <ul>
                    <li><a href="#bp-authentication">Authentication</a></li>
                    <li><a href="#bp-secrets">Secrets Management</a></li>
                    <li><a href="#bp-validation">Input Validation</a></li>
                  </ul>
                </div>
              </div>
            </div>
            
            <div class="col-md-3">
              <div class="card">
                <div class="card-body">
                  <h5>üìä Operations</h5>
                  <ul>
                    <li><a href="#bp-monitoring">Monitoring</a></li>
                    <li><a href="#bp-logging">Logging</a></li>
                    <li><a href="#bp-testing">Testing</a></li>
                  </ul>
                </div>
              </div>
            </div>
          </div>

          <hr />

          <h2 id="bp-architecture">üèóÔ∏è System Design & Architecture</h2>
          
          <h3>Client Lifecycle Management</h3>
          
          <pre><code class="language-typescript">// ‚ùå BAD: Creating client per request
async function handleRequest(req: Request) {
  const client = new CopilotClient({ auth: process.env.TOKEN });
  await client.connect();
  const response = await client.send({ messages: [/* ... */] });
  await client.disconnect();
  return response;
}

// ‚úÖ GOOD: Singleton client
class CopilotService {
  private static instance: CopilotClient;

  static async getClient(): Promise<CopilotClient> {
    if (!this.instance) {
      this.instance = new CopilotClient({
        auth: process.env.GITHUB_TOKEN,
        poolSize: 5, // Connection pooling
        keepAlive: true
      });
      await this.instance.connect();
    }
    return this.instance;
  }

  static async shutdown() {
    if (this.instance) {
      await this.instance.disconnect();
      this.instance = null;
    }
  }
}

// Usage
async function handleRequest(req: Request) {
  const client = await CopilotService.getClient();
  return await client.send({ messages: [/* ... */] });
}</code></pre>

          <h3>Service Pattern for Agents</h3>
          
          <pre><code class="language-typescript">// Organized service layer
class AgentService {
  private client: CopilotClient;
  private agents: Map<string, Agent> = new Map();

  constructor(client: CopilotClient) {
    this.client = client;
    this.initializeAgents();
  }

  private initializeAgents() {
    // Code review agent
    this.agents.set('code-review', this.client.createAgent({
      name: 'code-reviewer',
      model: 'gpt-4',
      temperature: 0.3,
      systemPrompt: '...'
    }));

    // Documentation agent
    this.agents.set('doc-gen', this.client.createAgent({
      name: 'doc-generator',
      model: 'gpt-4',
      temperature: 0.5,
      systemPrompt: '...'
    }));
  }

  async reviewCode(code: string) {
    const agent = this.agents.get('code-review');
    return await agent.send({
      messages: [{ role: 'user', content: code }]
    });
  }

  async generateDocs(code: string) {
    const agent = this.agents.get('doc-gen');
    return await agent.send({
      messages: [{ role: 'user', content: code }]
    });
  }
}</code></pre>

          <hr />

          <h2 id="bp-error-handling">üö® Error Handling</h2>
          
          <h3>Comprehensive Error Strategy</h3>
          
          <pre><code class="language-typescript">import { CopilotClient, CopilotError } from '@github/copilot-sdk';

class RobustCopilotService {
  private client: CopilotClient;
  private readonly MAX_RETRIES = 3;
  private readonly RETRY_DELAY = 1000;

  async sendWithRetry(request: any, retries = 0): Promise<any> {
    try {
      return await this.client.send(request);
    } catch (error) {
      if (this.isRetryable(error) && retries < this.MAX_RETRIES) {
        const delay = this.RETRY_DELAY * Math.pow(2, retries);
        console.warn(`Retry ${retries + 1}/${this.MAX_RETRIES} after ${delay}ms`);
        await this.sleep(delay);
        return this.sendWithRetry(request, retries + 1);
      }

      // Transform error for better handling
      throw this.transformError(error);
    }
  }

  private isRetryable(error: any): boolean {
    // Retry on network errors, rate limits, timeouts
    return (
      error.code === 'NETWORK_ERROR' ||
      error.status === 429 || // Rate limit
      error.status === 503 || // Service unavailable
      error.code === 'TIMEOUT'
    );
  }

  private transformError(error: any): Error {
    if (error.status === 401) {
      return new Error('Authentication failed. Check your token.');
    }
    if (error.status === 429) {
      return new Error('Rate limit exceeded. Try again later.');
    }
    if (error.status === 503) {
      return new Error('Service temporarily unavailable.');
    }
    return error;
  }

  private sleep(ms: number): Promise<void> {
    return new Promise(resolve => setTimeout(resolve, ms));
  }
}</code></pre>

          <h3>Circuit Breaker Pattern</h3>
          
          <pre><code class="language-typescript">class CircuitBreaker {
  private failureCount = 0;
  private lastFailureTime?: number;
  private state: 'CLOSED' | 'OPEN' | 'HALF_OPEN' = 'CLOSED';

  constructor(
    private readonly failureThreshold = 5,
    private readonly cooldownPeriod = 60000 // 1 minute
  ) {}

  async execute<T>(fn: () => Promise<T>): Promise<T> {
    if (this.state === 'OPEN') {
      if (Date.now() - this.lastFailureTime! > this.cooldownPeriod) {
        this.state = 'HALF_OPEN';
      } else {
        throw new Error('Circuit breaker is OPEN');
      }
    }

    try {
      const result = await fn();
      this.onSuccess();
      return result;
    } catch (error) {
      this.onFailure();
      throw error;
    }
  }

  private onSuccess() {
    this.failureCount = 0;
    this.state = 'CLOSED';
  }

  private onFailure() {
    this.failureCount++;
    this.lastFailureTime = Date.now();

    if (this.failureCount >= this.failureThreshold) {
      this.state = 'OPEN';
      console.error('Circuit breaker opened due to failures');
    }
  }
}

// Usage
const breaker = new CircuitBreaker();
const result = await breaker.execute(() => 
  client.send({ messages: [/* ... */] })
);</code></pre>

          <hr />

          <h2 id="bp-resilience">üõ°Ô∏è Resilience & Reliability</h2>
          
          <h3>Timeout Management</h3>
          
          <pre><code class="language-typescript">async function sendWithTimeout(
  client: CopilotClient,
  request: any,
  timeoutMs: number = 30000
): Promise<any> {
  return Promise.race([
    client.send(request),
    new Promise((_, reject) =>
      setTimeout(() => reject(new Error('Request timeout')), timeoutMs)
    )
  ]);
}

// Usage with streaming
async function streamWithTimeout(
  client: CopilotClient,
  request: any,
  timeoutMs: number = 60000
) {
  const timeoutPromise = new Promise((_, reject) =>
    setTimeout(() => reject(new Error('Stream timeout')), timeoutMs)
  );

  const stream = await client.stream(request);
  const chunks: any[] = [];

  for await (const chunk of stream) {
    chunks.push(chunk);
    // Reset timeout on each chunk
  }

  return chunks;
}</code></pre>

          <h3>Graceful Degradation</h3>
          
          <pre><code class="language-typescript">class ResilientCopilotService {
  private primaryClient: CopilotClient;
  private fallbackClient?: CopilotClient;
  private cache: Map<string, any> = new Map();

  async send(request: any): Promise<any> {
    // Try cache first
    const cacheKey = this.getCacheKey(request);
    if (this.cache.has(cacheKey)) {
      console.log('Cache hit');
      return this.cache.get(cacheKey);
    }

    try {
      // Try primary client
      const response = await this.primaryClient.send(request);
      this.cache.set(cacheKey, response);
      return response;
    } catch (error) {
      console.warn('Primary client failed, trying fallback');

      if (this.fallbackClient) {
        try {
          // Try fallback with lower model
          const fallbackRequest = {
            ...request,
            model: 'gpt-3.5-turbo' // Cheaper, faster model
          };
          return await this.fallbackClient.send(fallbackRequest);
        } catch (fallbackError) {
          console.error('Fallback also failed');
        }
      }

      // Return cached response if available (stale is better than none)
      if (this.cache.has(cacheKey)) {
        console.warn('Returning stale cache');
        return this.cache.get(cacheKey);
      }

      throw error;
    }
  }

  private getCacheKey(request: any): string {
    return JSON.stringify({
      messages: request.messages,
      model: request.model
    });
  }
}</code></pre>

          <hr />

          <h2 id="bp-optimization">‚ö° Performance Optimization</h2>
          
          <h3>Request Batching</h3>
          
          <pre><code class="language-typescript">class BatchProcessor {
  private queue: Array<{ request: any; resolve: Function; reject: Function }> = [];
  private batchSize = 5;
  private batchDelay = 100; // ms
  private timer?: NodeJS.Timeout;

  constructor(private client: CopilotClient) {}

  async send(request: any): Promise<any> {
    return new Promise((resolve, reject) => {
      this.queue.push({ request, resolve, reject });

      if (this.queue.length >= this.batchSize) {
        this.flush();
      } else if (!this.timer) {
        this.timer = setTimeout(() => this.flush(), this.batchDelay);
      }
    });
  }

  private async flush() {
    if (this.timer) {
      clearTimeout(this.timer);
      this.timer = undefined;
    }

    const batch = this.queue.splice(0, this.batchSize);
    if (batch.length === 0) return;

    // Process in parallel
    const promises = batch.map(({ request }) =>
      this.client.send(request)
    );

    try {
      const results = await Promise.allSettled(promises);
      
      results.forEach((result, index) => {
        if (result.status === 'fulfilled') {
          batch[index].resolve(result.value);
        } else {
          batch[index].reject(result.reason);
        }
      });
    } catch (error) {
      batch.forEach(({ reject }) => reject(error));
    }
  }
}</code></pre>

          <h3>Token Optimization</h3>
          
          <pre><code class="language-typescript">class TokenOptimizer {
  // Truncate messages to fit within token budget
  truncateMessages(
    messages: Array<{ role: string; content: string }>,
    maxTokens: number = 4000
  ): Array<{ role: string; content: string }> {
    const systemMessage = messages.find(m => m.role === 'system');
    const userMessages = messages.filter(m => m.role !== 'system');

    let totalTokens = systemMessage ? this.estimateTokens(systemMessage.content) : 0;
    const truncated: typeof messages = systemMessage ? [systemMessage] : [];

    // Keep most recent messages
    for (let i = userMessages.length - 1; i >= 0; i--) {
      const msg = userMessages[i];
      const tokens = this.estimateTokens(msg.content);

      if (totalTokens + tokens <= maxTokens) {
        truncated.unshift(msg);
        totalTokens += tokens;
      } else {
        break;
      }
    }

    return truncated;
  }

  // Rough token estimation (4 chars ‚âà 1 token)
  private estimateTokens(text: string): number {
    return Math.ceil(text.length / 4);
  }

  // Compress prompt
  compressPrompt(prompt: string): string {
    return prompt
      .replace(/\s+/g, ' ') // Multiple spaces -> single space
      .replace(/\n\s*\n/g, '\n') // Multiple newlines -> single newline
      .trim();
  }
}</code></pre>

          <hr />

          <h2 id="bp-caching">üíæ Caching Strategies</h2>
          
          <pre><code class="language-typescript">import { createHash } from 'crypto';

class CachingClient {
  private cache: Map<string, { data: any; timestamp: number }> = new Map();
  private readonly TTL = 3600000; // 1 hour

  constructor(private client: CopilotClient) {}

  async send(request: any, options?: { bypassCache?: boolean }): Promise<any> {
    const cacheKey = this.getCacheKey(request);

    // Check cache
    if (!options?.bypassCache) {
      const cached = this.cache.get(cacheKey);
      if (cached && Date.now() - cached.timestamp < this.TTL) {
        console.log('Cache hit:', cacheKey);
        return cached.data;
      }
    }

    // Fetch from API
    const response = await this.client.send(request);

    // Cache response
    this.cache.set(cacheKey, {
      data: response,
      timestamp: Date.now()
    });

    // Clean old entries
    this.cleanCache();

    return response;
  }

  private getCacheKey(request: any): string {
    const normalized = {
      messages: request.messages,
      model: request.model,
      temperature: request.temperature
    };
    return createHash('sha256')
      .update(JSON.stringify(normalized))
      .digest('hex');
  }

  private cleanCache() {
    const now = Date.now();
    for (const [key, value] of this.cache.entries()) {
      if (now - value.timestamp > this.TTL) {
        this.cache.delete(key);
      }
    }
  }

  clearCache() {
    this.cache.clear();
  }
}</code></pre>

          <hr />

          <h2 id="bp-rate-limiting">üö¶ Rate Limiting</h2>
          
          <pre><code class="language-typescript">class RateLimiter {
  private tokens: number;
  private lastRefill: number;

  constructor(
    private readonly maxTokens: number = 10,
    private readonly refillRate: number = 1, // tokens per second
  ) {
    this.tokens = maxTokens;
    this.lastRefill = Date.now();
  }

  async acquire(): Promise<void> {
    this.refill();

    if (this.tokens >= 1) {
      this.tokens--;
      return;
    }

    // Wait for token
    const waitTime = (1 - this.tokens) / this.refillRate * 1000;
    await new Promise(resolve => setTimeout(resolve, waitTime));
    this.tokens = 0;
  }

  private refill() {
    const now = Date.now();
    const timePassed = (now - this.lastRefill) / 1000;
    const tokensToAdd = timePassed * this.refillRate;

    this.tokens = Math.min(this.maxTokens, this.tokens + tokensToAdd);
    this.lastRefill = now;
  }
}

// Usage
class RateLimitedClient {
  private limiter = new RateLimiter(10, 2); // 10 burst, 2 per second

  constructor(private client: CopilotClient) {}

  async send(request: any): Promise<any> {
    await this.limiter.acquire();
    return await this.client.send(request);
  }
}</code></pre>

          <hr />

          <h2 id="bp-authentication">üîë Authentication Best Practices</h2>
          
          <h3>Secure Token Management</h3>
          
          <pre><code class="language-typescript">// ‚ùå BAD: Hardcoded tokens
const client = new CopilotClient({
  auth: 'ghp_xxxxxxxxxxxx'
});

// ‚úÖ GOOD: Environment variables
const client = new CopilotClient({
  auth: process.env.GITHUB_TOKEN
});

// ‚úÖ BETTER: Secrets manager (Azure Key Vault)
import { SecretClient } from '@azure/keyvault-secrets';
import { DefaultAzureCredential } from '@azure/identity';

async function getClient() {
  const credential = new DefaultAzureCredential();
  const vaultUrl = process.env.KEY_VAULT_URL;
  const secretClient = new SecretClient(vaultUrl, credential);
  
  const secret = await secretClient.getSecret('github-token');
  
  return new CopilotClient({
    auth: secret.value
  });
}</code></pre>

          <h3>Token Rotation</h3>
          
          <pre><code class="language-typescript">class TokenRotationService {
  private currentToken?: string;
  private tokenExpiry?: Date;

  async getToken(): Promise<string> {
    if (this.currentToken && this.tokenExpiry && this.tokenExpiry > new Date()) {
      return this.currentToken;
    }

    // Fetch new token
    const response = await fetch(process.env.TOKEN_ENDPOINT, {
      method: 'POST',
      headers: { 'Authorization': `Bearer ${process.env.SERVICE_KEY}` }
    });

    const data = await response.json();
    this.currentToken = data.token;
    this.tokenExpiry = new Date(data.expiresAt);

    return this.currentToken;
  }
}

const tokenService = new TokenRotationService();

const client = new CopilotClient({
  auth: async () => await tokenService.getToken()
});</code></pre>

          <hr />

          <h2 id="bp-secrets">üîê Secrets Management</h2>
          
          <table class="table table-striped">
            <thead>
              <tr>
                <th>‚úÖ DO</th>
                <th>‚ùå DON'T</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Use environment variables or secrets managers</td>
                <td>Hardcode tokens in source code</td>
              </tr>
              <tr>
                <td>Rotate tokens regularly (90 days max)</td>
                <td>Use the same token forever</td>
              </tr>
              <tr>
                <td>Use minimal scopes required</td>
                <td>Use tokens with full access</td>
              </tr>
              <tr>
                <td>Store tokens encrypted at rest</td>
                <td>Store tokens in plaintext files</td>
              </tr>
              <tr>
                <td>Revoke tokens immediately on breach</td>
                <td>Wait to revoke compromised tokens</td>
              </tr>
              <tr>
                <td>Use separate tokens per environment</td>
                <td>Share tokens across dev/staging/prod</td>
              </tr>
            </tbody>
          </table>

          <hr />

          <h2 id="bp-validation">‚úîÔ∏è Input Validation</h2>
          
          <pre><code class="language-typescript">class InputValidator {
  static validateRequest(request: any): void {
    // Check required fields
    if (!request.messages || !Array.isArray(request.messages)) {
      throw new Error('Messages array is required');
    }

    if (request.messages.length === 0) {
      throw new Error('At least one message is required');
    }

    // Validate message structure
    for (const msg of request.messages) {
      if (!msg.role || !msg.content) {
        throw new Error('Each message must have role and content');
      }

      if (!['system', 'user', 'assistant'].includes(msg.role)) {
        throw new Error(`Invalid role: ${msg.role}`);
      }

      if (typeof msg.content !== 'string') {
        throw new Error('Message content must be a string');
      }

      // Check content length
      if (msg.content.length > 100000) {
        throw new Error('Message content too long (max 100k chars)');
      }
    }

    // Validate optional parameters
    if (request.temperature !== undefined) {
      if (request.temperature < 0 || request.temperature > 2) {
        throw new Error('Temperature must be between 0 and 2');
      }
    }

    if (request.max_tokens !== undefined) {
      if (request.max_tokens < 1 || request.max_tokens > 4096) {
        throw new Error('max_tokens must be between 1 and 4096');
      }
    }
  }

  static sanitizeInput(input: string): string {
    // Remove potentially harmful characters
    return input
      .replace(/[<>]/g, '') // Remove angle brackets
      .replace(/javascript:/gi, '') // Remove javascript: protocol
      .replace(/on\w+=/gi, '') // Remove inline event handlers
      .trim();
  }
}

// Usage
async function safeSend(client: CopilotClient, request: any) {
  InputValidator.validateRequest(request);
  
  // Sanitize user content
  request.messages = request.messages.map(msg => ({
    ...msg,
    content: msg.role === 'user' 
      ? InputValidator.sanitizeInput(msg.content)
      : msg.content
  }));

  return await client.send(request);
}</code></pre>

          <hr />

          <h2 id="bp-monitoring">üìä Monitoring & Observability</h2>
          
          <h3>Application Insights Integration</h3>
          
          <pre><code class="language-typescript">import { TelemetryClient } from 'applicationinsights';

class MonitoredCopilotClient {
  private telemetry: TelemetryClient;

  constructor(private client: CopilotClient) {
    this.telemetry = new TelemetryClient(process.env.APPINSIGHTS_KEY);
  }

  async send(request: any): Promise<any> {
    const startTime = Date.now();
    
    try {
      const response = await this.client.send(request);
      
      // Track success metrics
      this.telemetry.trackMetric({
        name: 'copilot_request_duration',
        value: Date.now() - startTime
      });

      this.telemetry.trackMetric({
        name: 'copilot_tokens_used',
        value: response.usage.total_tokens
      });

      this.telemetry.trackEvent({
        name: 'copilot_request_success',
        properties: {
          model: response.model,
          messageCount: request.messages.length
        }
      });

      return response;
    } catch (error) {
      // Track failure
      this.telemetry.trackException({
        exception: error,
        properties: {
          model: request.model,
          operation: 'send'
        }
      });

      throw error;
    }
  }
}</code></pre>

          <h3>Health Checks</h3>
          
          <pre><code class="language-typescript">class HealthCheck {
  constructor(private client: CopilotClient) {}

  async check(): Promise<{
    status: 'healthy' | 'degraded' | 'unhealthy';
    details: any;
  }> {
    const checks = await Promise.allSettled([
      this.checkConnection(),
      this.checkLatency(),
      this.checkRateLimit()
    ]);

    const healthy = checks.every(c => c.status === 'fulfilled');
    const degraded = checks.some(c => c.status === 'rejected');

    return {
      status: healthy ? 'healthy' : degraded ? 'degraded' : 'unhealthy',
      details: {
        connection: checks[0],
        latency: checks[1],
        rateLimit: checks[2]
      }
    };
  }

  private async checkConnection(): Promise<void> {
    await this.client.send({
      messages: [{ role: 'user', content: 'ping' }]
    });
  }

  private async checkLatency(): Promise<number> {
    const start = Date.now();
    await this.client.send({
      messages: [{ role: 'user', content: 'test' }]
    });
    return Date.now() - start;
  }

  private async checkRateLimit(): Promise<any> {
    // Check if we're close to rate limits
    // Implementation depends on your rate limit tracking
    return { remaining: 1000, limit: 10000 };
  }
}</code></pre>

          <hr />

          <h2 id="bp-logging">üìù Logging Best Practices</h2>
          
          <pre><code class="language-typescript">import winston from 'winston';

const logger = winston.createLogger({
  level: 'info',
  format: winston.format.json(),
  transports: [
    new winston.transports.File({ filename: 'error.log', level: 'error' }),
    new winston.transports.File({ filename: 'combined.log' })
  ]
});

class LoggingClient {
  constructor(private client: CopilotClient) {}

  async send(request: any): Promise<any> {
    const requestId = this.generateRequestId();
    
    logger.info('Copilot request started', {
      requestId,
      model: request.model,
      messageCount: request.messages.length
    });

    try {
      const response = await this.client.send(request);
      
      logger.info('Copilot request completed', {
        requestId,
        tokensUsed: response.usage.total_tokens,
        finishReason: response.choices[0].finish_reason
      });

      return response;
    } catch (error) {
      logger.error('Copilot request failed', {
        requestId,
        error: error.message,
        stack: error.stack
      });

      throw error;
    }
  }

  private generateRequestId(): string {
    return `${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;
  }
}

// ‚ö†Ô∏è IMPORTANT: Don't log sensitive data
// ‚ùå BAD
logger.info('Request', { messages: request.messages }); // May contain PII

// ‚úÖ GOOD
logger.info('Request', { 
  messageCount: request.messages.length,
  model: request.model 
});</code></pre>

          <hr />

          <h2 id="bp-testing">üß™ Testing Strategies</h2>
          
          <h3>Unit Testing with Mocks</h3>
          
          <pre><code class="language-typescript">import { jest } from '@jest/globals';

describe('CopilotService', () => {
  let mockClient: any;
  let service: CopilotService;

  beforeEach(() => {
    mockClient = {
      send: jest.fn(),
      stream: jest.fn(),
      connect: jest.fn(),
      disconnect: jest.fn()
    };

    service = new CopilotService(mockClient);
  });

  it('should handle successful requests', async () => {
    const mockResponse = {
      choices: [{ message: { content: 'Hello!' } }],
      usage: { total_tokens: 10 }
    };

    mockClient.send.mockResolvedValue(mockResponse);

    const result = await service.send({
      messages: [{ role: 'user', content: 'Hi' }]
    });

    expect(result).toEqual(mockResponse);
    expect(mockClient.send).toHaveBeenCalledTimes(1);
  });

  it('should retry on transient errors', async () => {
    mockClient.send
      .mockRejectedValueOnce(new Error('Network error'))
      .mockResolvedValue({ choices: [{ message: { content: 'Success' } }] });

    const result = await service.sendWithRetry({
      messages: [{ role: 'user', content: 'Test' }]
    });

    expect(mockClient.send).toHaveBeenCalledTimes(2);
    expect(result.choices[0].message.content).toBe('Success');
  });
});</code></pre>

          <h3>Integration Testing</h3>
          
          <pre><code class="language-typescript">describe('Copilot Integration Tests', () => {
  let client: CopilotClient;

  beforeAll(async () => {
    // Use test token or emulator
    client = new CopilotClient({
      auth: process.env.TEST_TOKEN,
      baseUrl: process.env.TEST_BASE_URL // Optional: point to test environment
    });
    await client.connect();
  });

  afterAll(async () => {
    await client.disconnect();
  });

  it('should complete a simple request', async () => {
    const response = await client.send({
      messages: [
        { role: 'user', content: 'Say "test successful"' }
      ]
    });

    expect(response.choices[0].message.content).toContain('test successful');
  }, 30000); // 30 second timeout

  it('should stream responses', async () => {
    const chunks: string[] = [];
    const stream = await client.stream({
      messages: [{ role: 'user', content: 'Count to 5' }]
    });

    for await (const chunk of stream) {
      if (chunk.choices[0]?.delta?.content) {
        chunks.push(chunk.choices[0].delta.content);
      }
    }

    expect(chunks.length).toBeGreaterThan(0);
  }, 30000);
});</code></pre>

          <hr />

          <h2>üéØ Quick Reference Checklist</h2>
          
          <div class="row">
            <div class="col-md-6">
              <h4>Before Production</h4>
              <ul>
                <li>‚úÖ Use singleton client pattern</li>
                <li>‚úÖ Implement error handling and retries</li>
                <li>‚úÖ Add timeout protection</li>
                <li>‚úÖ Set up monitoring and logging</li>
                <li>‚úÖ Implement rate limiting</li>
                <li>‚úÖ Add health checks</li>
                <li>‚úÖ Use environment variables for secrets</li>
                <li>‚úÖ Validate all inputs</li>
                <li>‚úÖ Write unit and integration tests</li>
                <li>‚úÖ Set up CI/CD pipelines</li>
              </ul>
            </div>
            
            <div class="col-md-6">
              <h4>Security Checklist</h4>
              <ul>
                <li>‚úÖ Never hardcode tokens</li>
                <li>‚úÖ Use minimal token scopes</li>
                <li>‚úÖ Rotate tokens regularly</li>
                <li>‚úÖ Sanitize user inputs</li>
                <li>‚úÖ Don't log sensitive data</li>
                <li>‚úÖ Use HTTPS only</li>
                <li>‚úÖ Implement request signing</li>
                <li>‚úÖ Add rate limiting per user</li>
                <li>‚úÖ Monitor for abuse</li>
                <li>‚úÖ Have incident response plan</li>
              </ul>
            </div>
          </div>

          <div class="alert alert-warning">
            <h4>‚ö†Ô∏è Common Pitfalls to Avoid</h4>
            <ul>
              <li><strong>Creating clients per request:</strong> Reuse a single client instance</li>
              <li><strong>No timeout handling:</strong> Always set timeouts to prevent hanging</li>
              <li><strong>Ignoring rate limits:</strong> Implement backoff and rate limiting</li>
              <li><strong>Poor error messages:</strong> Provide actionable error messages to users</li>
              <li><strong>No monitoring:</strong> You can't fix what you can't see</li>
              <li><strong>Hardcoded configuration:</strong> Use environment-specific configs</li>
              <li><strong>No graceful shutdown:</strong> Always disconnect clients properly</li>
            </ul>
          </div>
        </section>

        <section id="resources" role="article">
          <h1>üìö Resources</h1>
          <span class="badge">docs</span>
          <span class="badge">community</span>
          <span class="badge">learning</span>
          
          <p>Comprehensive collection of documentation, tools, examples, and community resources for GitHub Copilot SDK development.</p>

          <h2>üìñ Official Documentation</h2>
          
          <div class="row">
            <div class="col-md-6">
              <div class="card">
                <div class="card-body">
                  <h5>üî∑ GitHub Copilot SDK</h5>
                  <ul>
                    <li><a href="https://github.com/github/copilot-sdk" target="_blank">GitHub Repository</a> - Source code and issues</li>
                    <li><a href="https://github.com/github/copilot-sdk/tree/main/docs" target="_blank">Official Documentation</a> - Comprehensive guides</li>
                    <li><a href="https://github.com/github/copilot-sdk/tree/main/examples" target="_blank">Example Projects</a> - Sample implementations</li>
                    <li><a href="https://github.com/github/copilot-sdk/releases" target="_blank">Release Notes</a> - Version history and changelogs</li>
                    <li><a href="https://github.com/github/copilot-sdk/blob/main/CONTRIBUTING.md" target="_blank">Contributing Guide</a> - How to contribute</li>
                  </ul>
                </div>
              </div>
            </div>
            
            <div class="col-md-6">
              <div class="card">
                <div class="card-body">
                  <h5>üìö API References</h5>
                  <ul>
                    <li><a href="https://docs.github.com/en/copilot" target="_blank">GitHub Copilot Docs</a> - Main documentation</li>
                    <li><a href="https://platform.openai.com/docs" target="_blank">OpenAI API Reference</a> - Model documentation</li>
                    <li><a href="https://learn.microsoft.com/azure/ai-services/openai/" target="_blank">Azure OpenAI Docs</a> - BYOK documentation</li>
                    <li><a href="https://www.npmjs.com/package/@github/copilot-sdk" target="_blank">NPM Package</a> - Node.js SDK</li>
                    <li><a href="https://pypi.org/project/github-copilot/" target="_blank">PyPI Package</a> - Python SDK</li>
                  </ul>
                </div>
              </div>
            </div>
          </div>

          <hr />

          <h2>üõ†Ô∏è Development Tools</h2>
          
          <div class="row">
            <div class="col-md-4">
              <div class="card">
                <div class="card-body">
                  <h5>‚öôÔ∏è CLI Tools</h5>
                  <ul>
                    <li><a href="https://github.com/github/gh-copilot" target="_blank">GitHub CLI Copilot Extension</a></li>
                    <li><a href="https://github.com/microsoft/copilot-cli" target="_blank">Copilot CLI</a></li>
                    <li><a href="https://www.npmjs.com/package/@github/copilot-sdk-cli" target="_blank">SDK CLI Tool</a></li>
                  </ul>
                </div>
              </div>
            </div>
            
            <div class="col-md-4">
              <div class="card">
                <div class="card-body">
                  <h5>üîå IDE Extensions</h5>
                  <ul>
                    <li><a href="https://marketplace.visualstudio.com/items?itemName=GitHub.copilot" target="_blank">VS Code Extension</a></li>
                    <li><a href="https://plugins.jetbrains.com/plugin/17718-github-copilot" target="_blank">JetBrains Plugin</a></li>
                    <li><a href="https://visualstudio.microsoft.com/github-copilot/" target="_blank">Visual Studio Extension</a></li>
                  </ul>
                </div>
              </div>
            </div>
            
            <div class="col-md-4">
              <div class="card">
                <div class="card-body">
                  <h5>üß™ Testing Tools</h5>
                  <ul>
                    <li><a href="https://jestjs.io/" target="_blank">Jest</a> - JavaScript testing</li>
                    <li><a href="https://pytest.org/" target="_blank">Pytest</a> - Python testing</li>
                    <li><a href="https://xunit.net/" target="_blank">xUnit</a> - .NET testing</li>
                  </ul>
                </div>
              </div>
            </div>
          </div>

          <hr />

          <h2>üì¶ SDK Packages</h2>
          
          <table class="table table-striped">
            <thead>
              <tr>
                <th>Language</th>
                <th>Package Manager</th>
                <th>Package Name</th>
                <th>Installation</th>
                <th>Docs</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>Node.js/TypeScript</strong></td>
                <td>npm</td>
                <td><code>@github/copilot-sdk</code></td>
                <td><code>npm install @github/copilot-sdk</code></td>
                <td><a href="https://www.npmjs.com/package/@github/copilot-sdk" target="_blank">üìñ</a></td>
              </tr>
              <tr>
                <td><strong>Python</strong></td>
                <td>pip</td>
                <td><code>github-copilot</code></td>
                <td><code>pip install github-copilot</code></td>
                <td><a href="https://pypi.org/project/github-copilot/" target="_blank">üìñ</a></td>
              </tr>
              <tr>
                <td><strong>.NET</strong></td>
                <td>NuGet</td>
                <td><code>GitHub.Copilot.SDK</code></td>
                <td><code>dotnet add package GitHub.Copilot.SDK</code></td>
                <td><a href="https://www.nuget.org/packages/GitHub.Copilot.SDK" target="_blank">üìñ</a></td>
              </tr>
              <tr>
                <td><strong>Go</strong></td>
                <td>go get</td>
                <td><code>github.com/github/copilot-sdk-go</code></td>
                <td><code>go get github.com/github/copilot-sdk-go</code></td>
                <td><a href="https://pkg.go.dev/github.com/github/copilot-sdk-go" target="_blank">üìñ</a></td>
              </tr>
            </tbody>
          </table>

          <hr />

          <h2>üí° Example Repositories</h2>
          
          <div class="row">
            <div class="col-md-6">
              <h4>Starter Templates</h4>
              <ul>
                <li><a href="https://github.com/github/copilot-sdk-starter-typescript" target="_blank">TypeScript Starter</a> - Basic TypeScript project</li>
                <li><a href="https://github.com/github/copilot-sdk-starter-python" target="_blank">Python Starter</a> - Basic Python project</li>
                <li><a href="https://github.com/github/copilot-sdk-starter-dotnet" target="_blank">.NET Starter</a> - Basic C# project</li>
                <li><a href="https://github.com/github/copilot-sdk-starter-go" target="_blank">Go Starter</a> - Basic Go project</li>
              </ul>
            </div>
            
            <div class="col-md-6">
              <h4>Real-World Examples</h4>
              <ul>
                <li><a href="https://github.com/github/copilot-chatbot-example" target="_blank">Chatbot Example</a> - Full-featured chatbot</li>
                <li><a href="https://github.com/github/copilot-code-review" target="_blank">Code Review Bot</a> - Automated code reviews</li>
                <li><a href="https://github.com/github/copilot-doc-generator" target="_blank">Doc Generator</a> - Generate documentation</li>
                <li><a href="https://github.com/github/copilot-test-writer" target="_blank">Test Writer</a> - Generate unit tests</li>
              </ul>
            </div>
          </div>

          <hr />

          <h2>üë• Community & Support</h2>
          
          <div class="row">
            <div class="col-md-4">
              <div class="card">
                <div class="card-body">
                  <h5>üí¨ Discussion Forums</h5>
                  <ul>
                    <li><a href="https://github.com/github/copilot-sdk/discussions" target="_blank">GitHub Discussions</a></li>
                    <li><a href="https://stackoverflow.com/questions/tagged/github-copilot-sdk" target="_blank">Stack Overflow</a></li>
                    <li><a href="https://www.reddit.com/r/GitHubCopilot/" target="_blank">Reddit Community</a></li>
                  </ul>
                </div>
              </div>
            </div>
            
            <div class="col-md-4">
              <div class="card">
                <div class="card-body">
                  <h5>üêõ Issue Tracking</h5>
                  <ul>
                    <li><a href="https://github.com/github/copilot-sdk/issues" target="_blank">Report Bugs</a></li>
                    <li><a href="https://github.com/github/copilot-sdk/issues?q=label%3Aenhancement" target="_blank">Feature Requests</a></li>
                    <li><a href="https://github.com/github/copilot-sdk/issues?q=label%3Aquestion" target="_blank">Questions</a></li>
                  </ul>
                </div>
              </div>
            </div>
            
            <div class="col-md-4">
              <div class="card">
                <div class="card-body">
                  <h5>üì¢ Stay Updated</h5>
                  <ul>
                    <li><a href="https://github.blog/tag/copilot/" target="_blank">GitHub Blog</a></li>
                    <li><a href="https://twitter.com/github" target="_blank">GitHub Twitter</a></li>
                    <li><a href="https://www.youtube.com/github" target="_blank">GitHub YouTube</a></li>
                  </ul>
                </div>
              </div>
            </div>
          </div>

          <hr />

          <h2>üìö Learning Resources</h2>
          
          <div class="row">
            <div class="col-md-6">
              <h4>üìñ Tutorials & Guides</h4>
              <ul>
                <li><a href="https://docs.github.com/copilot/getting-started" target="_blank">Getting Started Guide</a></li>
                <li><a href="https://github.com/skills/copilot" target="_blank">GitHub Skills - Copilot</a></li>
                <li><a href="https://learn.microsoft.com/training/paths/copilot/" target="_blank">Microsoft Learn - Copilot</a></li>
                <li><a href="https://www.youtube.com/watch?v=dQw4w9WgXcQ" target="_blank">Video Tutorial Series</a></li>
                <li><a href="https://github.com/copilot-workshops" target="_blank">Workshop Materials</a></li>
              </ul>
            </div>
            
            <div class="col-md-6">
              <h4>üìù Blog Posts & Articles</h4>
              <ul>
                <li><a href="https://github.blog/2023-06-20-how-to-write-better-prompts-for-github-copilot/" target="_blank">Writing Better Prompts</a></li>
                <li><a href="https://github.blog/2023-05-17-how-github-copilot-is-getting-better-at-understanding-your-code/" target="_blank">How Copilot Understands Code</a></li>
                <li><a href="https://github.blog/2023-03-22-github-copilot-x-the-ai-powered-developer-experience/" target="_blank">Copilot X Announcement</a></li>
                <li><a href="https://dev.to/t/github-copilot" target="_blank">Dev.to Articles</a></li>
                <li><a href="https://medium.com/tag/github-copilot" target="_blank">Medium Articles</a></li>
              </ul>
            </div>
          </div>

          <hr />

          <h2>üé• Video Resources</h2>
          
          <table class="table table-hover">
            <thead>
              <tr>
                <th>Title</th>
                <th>Type</th>
                <th>Duration</th>
                <th>Link</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>GitHub Copilot SDK Introduction</td>
                <td>Tutorial</td>
                <td>15 min</td>
                <td><a href="https://www.youtube.com/watch?v=..." target="_blank">‚ñ∂Ô∏è Watch</a></td>
              </tr>
              <tr>
                <td>Building Your First Agent</td>
                <td>Tutorial</td>
                <td>25 min</td>
                <td><a href="https://www.youtube.com/watch?v=..." target="_blank">‚ñ∂Ô∏è Watch</a></td>
              </tr>
              <tr>
                <td>Advanced Agent Patterns</td>
                <td>Deep Dive</td>
                <td>45 min</td>
                <td><a href="https://www.youtube.com/watch?v=..." target="_blank">‚ñ∂Ô∏è Watch</a></td>
              </tr>
              <tr>
                <td>Production Best Practices</td>
                <td>Webinar</td>
                <td>60 min</td>
                <td><a href="https://www.youtube.com/watch?v=..." target="_blank">‚ñ∂Ô∏è Watch</a></td>
              </tr>
              <tr>
                <td>BYOK with Azure OpenAI</td>
                <td>Tutorial</td>
                <td>30 min</td>
                <td><a href="https://www.youtube.com/watch?v=..." target="_blank">‚ñ∂Ô∏è Watch</a></td>
              </tr>
            </tbody>
          </table>

          <hr />

          <h2>üîß Related Tools & Services</h2>
          
          <div class="row">
            <div class="col-md-6">
              <h4>GitHub Services</h4>
              <ul>
                <li><a href="https://github.com/features/copilot" target="_blank">GitHub Copilot</a> - IDE integration</li>
                <li><a href="https://github.com/features/copilot-x" target="_blank">GitHub Copilot X</a> - Next generation features</li>
                <li><a href="https://github.com/features/actions" target="_blank">GitHub Actions</a> - CI/CD automation</li>
                <li><a href="https://github.com/features/codespaces" target="_blank">GitHub Codespaces</a> - Cloud development</li>
                <li><a href="https://github.com/features/packages" target="_blank">GitHub Packages</a> - Package hosting</li>
              </ul>
            </div>
            
            <div class="col-md-6">
              <h4>Azure Services</h4>
              <ul>
                <li><a href="https://azure.microsoft.com/services/openai-service/" target="_blank">Azure OpenAI Service</a> - BYOK hosting</li>
                <li><a href="https://azure.microsoft.com/services/key-vault/" target="_blank">Azure Key Vault</a> - Secrets management</li>
                <li><a href="https://azure.microsoft.com/services/monitor/" target="_blank">Azure Monitor</a> - Observability</li>
                <li><a href="https://azure.microsoft.com/services/app-service/" target="_blank">Azure App Service</a> - Hosting</li>
                <li><a href="https://azure.microsoft.com/services/functions/" target="_blank">Azure Functions</a> - Serverless</li>
              </ul>
            </div>
          </div>

          <hr />

          <h2>üìä Monitoring & Analytics Tools</h2>
          
          <ul>
            <li><a href="https://azure.microsoft.com/services/application-insights/" target="_blank">Application Insights</a> - Performance monitoring</li>
            <li><a href="https://www.datadoghq.com/" target="_blank">Datadog</a> - Infrastructure monitoring</li>
            <li><a href="https://grafana.com/" target="_blank">Grafana</a> - Metrics visualization</li>
            <li><a href="https://www.elastic.co/kibana/" target="_blank">Kibana</a> - Log analytics</li>
            <li><a href="https://sentry.io/" target="_blank">Sentry</a> - Error tracking</li>
          </ul>

          <hr />

          <h2>üéì Certification & Training</h2>
          
          <div class="alert alert-info">
            <h4>Official Training Programs</h4>
            <ul>
              <li><strong>GitHub Copilot Fundamentals</strong> - Free online course</li>
              <li><strong>AI-Powered Development with Copilot</strong> - Advanced course</li>
              <li><strong>Enterprise Copilot Deployment</strong> - Admin training</li>
              <li><strong>GitHub Copilot Certification</strong> - Professional certification</li>
            </ul>
            <p><a href="https://skills.github.com/" target="_blank" class="btn btn-primary btn-sm">Browse GitHub Skills ‚Üí</a></p>
          </div>

          <hr />

          <h2>üìñ Books & Publications</h2>
          
          <table class="table table-striped">
            <thead>
              <tr>
                <th>Title</th>
                <th>Author</th>
                <th>Type</th>
                <th>Link</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>AI-Powered Development with GitHub Copilot</td>
                <td>Microsoft Press</td>
                <td>Book</td>
                <td><a href="#" target="_blank">üìñ Read</a></td>
              </tr>
              <tr>
                <td>Building Intelligent Applications with AI</td>
                <td>O'Reilly Media</td>
                <td>Book</td>
                <td><a href="#" target="_blank">üìñ Read</a></td>
              </tr>
              <tr>
                <td>GitHub Copilot SDK Cookbook</td>
                <td>Community</td>
                <td>eBook</td>
                <td><a href="#" target="_blank">üìñ Read</a></td>
              </tr>
              <tr>
                <td>Prompt Engineering Guide</td>
                <td>OpenAI</td>
                <td>Guide</td>
                <td><a href="https://platform.openai.com/docs/guides/prompt-engineering" target="_blank">üìñ Read</a></td>
              </tr>
            </tbody>
          </table>

          <hr />

          <h2>üåü Community Contributions</h2>
          
          <div class="row">
            <div class="col-md-6">
              <h4>Featured Projects</h4>
              <ul>
                <li><a href="#" target="_blank">Copilot VSCode Plugin</a> - Enhanced IDE integration</li>
                <li><a href="#" target="_blank">Copilot Middleware</a> - Request/response middleware</li>
                <li><a href="#" target="_blank">Copilot Analytics Dashboard</a> - Usage analytics</li>
                <li><a href="#" target="_blank">Copilot Prompt Library</a> - Curated prompts</li>
              </ul>
            </div>
            
            <div class="col-md-6">
              <h4>Community Tools</h4>
              <ul>
                <li><a href="#" target="_blank">Token Calculator</a> - Estimate API costs</li>
                <li><a href="#" target="_blank">Model Comparator</a> - Compare model performance</li>
                <li><a href="#" target="_blank">Prompt Optimizer</a> - Optimize your prompts</li>
                <li><a href="#" target="_blank">Response Debugger</a> - Debug API responses</li>
              </ul>
            </div>
          </div>

          <hr />

          <h2>üîó Quick Links</h2>
          
          <div class="row">
            <div class="col-md-3">
              <h5>Documentation</h5>
              <ul>
                <li><a href="#introduction">Introduction</a></li>
                <li><a href="#getting-started">Getting Started</a></li>
                <li><a href="#api-reference">API Reference</a></li>
                <li><a href="#cookbook">Cookbook</a></li>
              </ul>
            </div>
            
            <div class="col-md-3">
              <h5>Core Concepts</h5>
              <ul>
                <li><a href="#agents">Agents</a></li>
                <li><a href="#tools">Tools</a></li>
                <li><a href="#models">Models</a></li>
                <li><a href="#authentication">Authentication</a></li>
              </ul>
            </div>
            
            <div class="col-md-3">
              <h5>Features</h5>
              <ul>
                <li><a href="#custom-agents">Custom Agents</a></li>
                <li><a href="#tool-configuration">Tool Configuration</a></li>
                <li><a href="#model-selection">Model Selection</a></li>
                <li><a href="#byok-support">BYOK Support</a></li>
              </ul>
            </div>
            
            <div class="col-md-3">
              <h5>Operations</h5>
              <ul>
                <li><a href="#best-practices">Best Practices</a></li>
                <li><a href="#troubleshooting">Troubleshooting</a></li>
                <li><a href="#faq">FAQ</a></li>
                <li><a href="#resources">Resources</a></li>
              </ul>
            </div>
          </div>

          <hr />

          <div class="alert alert-success">
            <h4>üéâ Join the Community!</h4>
            <p>Have a question? Want to contribute? Join our growing community of developers building with GitHub Copilot SDK.</p>
            <div class="btn-group">
              <a href="https://github.com/github/copilot-sdk/discussions" target="_blank" class="btn btn-success btn-sm">Join Discussions</a>
              <a href="https://github.com/github/copilot-sdk/blob/main/CONTRIBUTING.md" target="_blank" class="btn btn-outline-success btn-sm">Start Contributing</a>
              <a href="https://github.com/github/copilot-sdk/issues/new" target="_blank" class="btn btn-outline-success btn-sm">Report Issue</a>
            </div>
          </div>
          
          <hr />
          <div class="document-footer">
            <p>
              <strong>Last Updated:</strong> January 2026 | 
              <strong>Curated by:</strong> Murthy Vepa with ‚ù§Ô∏è | <strong>Powered by:</strong> GitHub Copilot
            </p>
          </div>         
        </section>
        </div>
      </main>
    </div>
    
    <nav class="controls" role="navigation" aria-label="Pagination">
      <div class="btn-group" role="group">
        <button class="btn btn-outline-info btn-sm" id="prevBtn" title="Previous" aria-label="Previous concept">&nbsp;&lt;&nbsp;</button>
        <button class="btn btn-outline-info btn-sm" id="nextBtn" title="Next" aria-label="Next concept">&nbsp;&gt;&nbsp;</button>
      </div>
    </nav>
  </div>  <div class="offcanvas offcanvas-start" tabindex="-1" id="sidebarOffcanvas" aria-labelledby="sidebarLabel">
    <div class="offcanvas-header">
      <h5 class="offcanvas-title" id="sidebarLabel">Contents</h5>
      <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <div class="offcanvas-body p-0">
      <ul class="list-group list-group-flush w-100" id="tocMobile"></ul>
    </div>
  </div>

  <script>
    // ---- Configuration ----
    const sectionConfig = [
      { id: "introduction", title: "üìñ Introduction", tags: ["intro", "overview", "about", "sdk"] },
      { id: "getting-started", title: "üöÄ Getting Started", tags: ["setup", "install", "start", "quickstart"] },
      { id: "prerequisites", title: "üìã Prerequisites", tags: ["requirements", "prereq", "copilot"], parent: "getting-started" },
      { id: "installation", title: "‚öôÔ∏è Installation", tags: ["install", "setup", "npm", "pip", "nuget"], parent: "getting-started" },
      { id: "architecture", title: "üèóÔ∏è Architecture", tags: ["architecture", "design", "structure"] },
      { id: "arch-overview", title: "üìê Overview", tags: ["overview", "jsonrpc", "cli"], parent: "architecture" },
      { id: "arch-communication", title: "üí¨ Communication", tags: ["communication", "protocol", "server"], parent: "architecture" },
      { id: "available-sdks", title: "üíª Available SDKs", tags: ["sdks", "languages", "platforms"] },
      { id: "sdk-nodejs", title: "üü¢ Node.js/TypeScript", tags: ["nodejs", "typescript", "npm"], parent: "available-sdks" },
      { id: "sdk-python", title: "üêç Python", tags: ["python", "pip"], parent: "available-sdks" },
      { id: "sdk-dotnet", title: "üî∑ .NET", tags: ["dotnet", "csharp", "nuget"], parent: "available-sdks" },
      { id: "sdk-go", title: "üîµ Go", tags: ["go", "golang"], parent: "available-sdks" },
      { id: "core-concepts", title: "üß† Core Concepts", tags: ["concepts", "fundamentals", "basics"] },
      { id: "concept-agents", title: "ü§ñ Agents", tags: ["agents", "ai", "behavior"], parent: "core-concepts" },
      { id: "concept-skills", title: "üéØ Skills", tags: ["skills", "capabilities", "tools"], parent: "core-concepts" },
      { id: "concept-tools", title: "üõ†Ô∏è Tools", tags: ["tools", "functions", "actions"], parent: "core-concepts" },
      { id: "concept-lifecycle", title: "‚ôªÔ∏è Lifecycle Management", tags: ["lifecycle", "process", "management"], parent: "core-concepts" },
      { id: "key-features", title: "‚ú® Key Features", tags: ["features", "capabilities", "functionality"] },
      { id: "feature-agents", title: "ü§ñ Custom Agents", tags: ["custom", "agents", "create"], parent: "key-features" },
      { id: "feature-tools", title: "üîß Tool Configuration", tags: ["tools", "config", "enable"], parent: "key-features" },
      { id: "feature-models", title: "üß† Model Selection", tags: ["models", "llm", "claude"], parent: "key-features" },
      { id: "feature-byok", title: "üîê BYOK Support", tags: ["byok", "security", "keys"], parent: "key-features" },
      { id: "usage-patterns", title: "üìù Usage Patterns", tags: ["patterns", "examples", "use-cases"] },
      { id: "pattern-basic", title: "üéØ Basic Usage", tags: ["basic", "simple", "hello"], parent: "usage-patterns" },
      { id: "pattern-custom-agent", title: "ü§ñ Custom Agent", tags: ["custom", "agent", "create"], parent: "usage-patterns" },
      { id: "pattern-external-cli", title: "üîå External CLI", tags: ["external", "cli", "server"], parent: "usage-patterns" },
      { id: "pattern-tool-config", title: "‚öôÔ∏è Tool Configuration", tags: ["tools", "config", "enable"], parent: "usage-patterns" },
      { id: "api-reference", title: "üìö API Reference", tags: ["api", "reference", "docs"] },
      { id: "api-client", title: "üîå Client API", tags: ["client", "api", "methods"], parent: "api-reference" },
      { id: "api-agent", title: "ü§ñ Agent API", tags: ["agent", "api", "interface"], parent: "api-reference" },
      { id: "api-models", title: "üß† Models API", tags: ["models", "api", "metadata"], parent: "api-reference" },
      { id: "api-auth", title: "üîê Auth API", tags: ["auth", "authentication", "api"], parent: "api-reference" },
      { id: "cookbook", title: "üìñ Cookbook", tags: ["cookbook", "recipes", "examples"] },
      { id: "best-practices", title: "‚≠ê Best Practices", tags: ["practices", "tips", "guidelines"] },
      { id: "resources", title: "üìö Resources", tags: ["docs", "community", "learning"] }
    ];

    // ---- State & rendering ----
    const state = {
      index: 0,
      filtered: sectionConfig.map((_, i) => i), // indices
    };

    const els = {
      toc: document.getElementById('toc'),
      tocMobile: document.getElementById('tocMobile'),
      prev: document.getElementById('prevBtn'),
      next: document.getElementById('nextBtn'),
      toggleSidebar: document.getElementById('toggleSidebar'),
      themeToggle: document.getElementById('themeToggle'),
      main: document.getElementById('main'),
      sidebar: document.querySelector('nav.sidebar'),
      sidebarOffcanvas: document.getElementById('sidebarOffcanvas')
    };

    function buildTOC(){
      // Clear both TOC lists
      els.toc.innerHTML = '';
      els.tocMobile.innerHTML = '';
      
      state.filtered.forEach((idx) => {
        const s = sectionConfig[idx];
        const isSubItem = !!s.parent;
        
        // Desktop sidebar
        const liDesktop = document.createElement('li');
        liDesktop.className = isSubItem ? 'list-group-sub-item' : 'list-group-item';
        const aDesktop = document.createElement('a');
        aDesktop.href = `#${s.id}`;
        aDesktop.textContent = s.title;
        aDesktop.addEventListener('click', (e) => {
          e.preventDefault();
          navigateToId(s.id);
          closeSidebar();
        });
        liDesktop.appendChild(aDesktop);
        els.toc.appendChild(liDesktop);
        
        // Mobile offcanvas
        const liMobile = document.createElement('li');
        liMobile.className = isSubItem ? 'list-group-sub-item' : 'list-group-item';
        const aMobile = document.createElement('a');
        aMobile.href = `#${s.id}`;
        aMobile.textContent = s.title;
        aMobile.addEventListener('click', (e) => {
          e.preventDefault();
          navigateToId(s.id);
          closeSidebar();
        });
        liMobile.appendChild(aMobile);
        els.tocMobile.appendChild(liMobile);
      });
      highlightActiveTOC();
    }

    function setActiveByIndex(i){
      const ids = state.filtered.map(idx => sectionConfig[idx].id);
      document.querySelectorAll('section').forEach(s => s.classList.remove('active'));
      const id = ids[i];
      const active = document.getElementById(id);
      if (active){
        active.classList.add('active');
        active.setAttribute('tabindex', '-1');
        active.focus({preventScroll:true});
      }
      updateControls();
      highlightActiveTOC();
      updateURLHash(id);
    }

    function updateControls(){
      const count = state.filtered.length;
      els.prev.disabled = state.index <= 0;
      els.next.disabled = state.index >= count - 1;
    }

    function filterTOC(query){
      const q = query.trim().toLowerCase();
      state.filtered = sectionConfig
        .map((s, i) => ({s, i}))
        .filter(({s}) => s.title.toLowerCase().includes(q) || s.tags.some(t => t.toLowerCase().includes(q)))
        .map(({i}) => i);

      state.index = Math.min(state.index, Math.max(0, state.filtered.length - 1));
      buildTOC();
      setActiveByIndex(state.index);
    }

    function navigate(delta){
      const count = state.filtered.length;
      const nextIndex = Math.min(Math.max(state.index + delta, 0), count - 1);
      if (nextIndex !== state.index){
        state.index = nextIndex;
        setActiveByIndex(state.index);
        // Scroll content to top
        const contentEl = document.querySelector('.content');
        if (contentEl) contentEl.scrollTop = 0;
      }
    }

    function navigateToId(id){
      const idxInFiltered = state.filtered.findIndex(fi => sectionConfig[fi].id === id);
      if (idxInFiltered !== -1){
        state.index = idxInFiltered;
        setActiveByIndex(state.index);
        // Scroll content to top
        const contentEl = document.querySelector('.content');
        if (contentEl) contentEl.scrollTop = 0;
      } else {
        state.filtered = sectionConfig.map((_, i) => i);
        buildTOC();
        navigateToId(id);
      }
    }

    function updateURLHash(id){
      const url = new URL(window.location);
      url.hash = id;
      history.replaceState(null, '', url);
    }

    function highlightActiveTOC(){
      const ids = state.filtered.map(idx => sectionConfig[idx].id);
      const activeId = ids[state.index];
      // Highlight desktop sidebar
      els.toc.querySelectorAll('a').forEach(a => a.classList.toggle('active', a.getAttribute('href') === `#${activeId}`));
      // Highlight mobile offcanvas
      els.tocMobile.querySelectorAll('a').forEach(a => a.classList.toggle('active', a.getAttribute('href') === `#${activeId}`));
      
      // Scroll active item into view in sidebar
      const activeLink = els.toc.querySelector('a.active');
      if (activeLink) {
        activeLink.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'nearest' });
      }
    }

    function openSidebar(){
      const offcanvas = new bootstrap.Offcanvas(document.getElementById('sidebarOffcanvas'));
      offcanvas.show();
    }
    function closeSidebar(){
      const offcanvasElement = document.getElementById('sidebarOffcanvas');
      const offcanvas = bootstrap.Offcanvas.getInstance(offcanvasElement);
      if(offcanvas) offcanvas.hide();
    }

    // ---- Events ----
    els.prev.addEventListener('click', () => navigate(-1));
    els.next.addEventListener('click', () => navigate(1));

    // Keyboard navigation
    window.addEventListener('keydown', (e) => {
      if (e.key === 'ArrowLeft') navigate(-1);
      else if (e.key === 'ArrowRight') navigate(1);
      else if (e.key === 'Escape') closeSidebar();
    });

    // Deep linking on load/hash change
    window.addEventListener('hashchange', () => {
      const id = location.hash.replace('#','');
      if (id) navigateToId(id);
    });

    // Sidebar toggle (mobile)
    els.toggleSidebar.addEventListener('click', () => {
      openSidebar();
    });

    // Restore theme
    (function(){
      try {
        const saved = localStorage.getItem('concepts-theme');
        if (saved) { 
          document.documentElement.setAttribute('data-theme', saved);
          els.themeToggle.textContent = saved === 'light' ? 'üåó' : 'üåô';
        }
      } catch {}
    })();

    // Initial render
    buildTOC();
    
    // Navigate to hash if present, otherwise show first section
    const initialId = location.hash.replace('#','');
    if (initialId){ 
    navigateToId(initialId); 
    } else {
    setActiveByIndex(0);
    // Scroll content to top on initial load
    const contentEl = document.querySelector('.content');
    if (contentEl) contentEl.scrollTop = 0;
    }

  </script>
  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>