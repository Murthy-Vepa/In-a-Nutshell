<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" href="data:image/svg+xml,%3csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20width=%2224%22%20height=%2224%22%20fill=%22currentColor%22%20viewBox=%220%200%2024%2024%22%3e%3cpath%20d=%22m19.97,11.84c.66-.66,1.02-1.53,1.02-2.46s-.36-1.8-1.02-2.46l-.04-.04c-.66-.66-1.53-1.02-2.46-1.02-.17,0-.34.03-.51.05.02-.17.05-.33.05-.51,0-.93-.36-1.8-1.02-2.46-.66-.66-1.53-1.02-2.46-1.02s-1.8.36-2.46,1.02l-7.87,7.87c-.27.27-.27.71,0,.98s.71.27.98,0l7.87-7.87c.39-.39.92-.61,1.47-.61s1.08.22,1.47.61c.39.39.61.92.61,1.48s-.22,1.08-.61,1.48l-5.86,5.86-.08.08c-.27.27-.27.71,0,.98.14.14.31.2.49.2s.36-.07.49-.2l5.94-5.94c.39-.39.92-.61,1.48-.61s1.08.22,1.47.61l.04.04c.39.39.61.92.61,1.47s-.22,1.08-.61,1.48l-7.11,7.11c-.63.63-.63,1.66,0,2.29l1.46,1.46c.14.14.31.2.49.2s.36-.07.49-.2c.27-.27.27-.71,0-.98l-1.46-1.46c-.09-.09-.09-.24,0-.33l7.11-7.11Z%22/%3e%3cpath%20d=%22m17.96,9.83c.27-.27.27-.71,0-.98-.27-.27-.71-.27-.98,0l-5.82,5.82c-.81.81-2.14.81-2.95,0-.81-.81-.81-2.14,0-2.95l5.82-5.82c.27-.27.27-.71,0-.98-.27-.27-.71-.27-.98,0l-5.82,5.82c-1.36,1.36-1.36,3.56,0,4.92.68.68,1.57,1.02,2.46,1.02s1.78-.34,2.46-1.02l5.82-5.82Z%22/%3e%3c/svg%3e" />
  <title>Model Context Protocol (MCP) - In a Nutshell</title>
  <meta name="description" content="A comprehensive guide to the Model Context Protocol (MCP)." />
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    :root{
      --bg: #ffffff;
      --fg: #0f172a;
      --muted: #64748b;
      --accent: #3b82f6;
      --accent-light: #dbeafe;
      --border: #e2e8f0;
      --sidebar-bg: #ffffff;
      --sidebar-fg: #0f172a;
      --code-bg: linear-gradient(90deg, rgba(59, 130, 246, 0.08) 0%, rgba(59, 130, 246, 0.12) 100%);
      --focus: #10b981;
      --shadow-sm: 0 1px 3px rgba(0,0,0,0.08);
      --shadow-md: 0 4px 6px rgba(0,0,0,0.1), 0 2px 4px rgba(0,0,0,0.06);
      --shadow-lg: 0 10px 20px rgba(0,0,0,0.12), 0 6px 6px rgba(0,0,0,0.08);
      --gradient: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
    }
    
    /* Bootstrap Gradient Utility Classes */
    .bg-gradient-blue { background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%) !important; }
    .bg-gradient-green { background: linear-gradient(135deg, #dcfce7 0%, #bbf7d0 100%) !important; }
    .bg-gradient-yellow { background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%) !important; }
    .bg-gradient-pink { background: linear-gradient(135deg, #fce7f3 0%, #fbcfe8 100%) !important; }
    .bg-gradient-purple { background: linear-gradient(135deg, #e9d5ff 0%, #d8b4fe 100%) !important; }
    .bg-gradient-teal { background: linear-gradient(135deg, #ccfbf1 0%, #99f6e4 100%) !important; }
    .bg-gradient-blue-dark { background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%) !important; }
    .bg-gradient-gray { background: linear-gradient(135deg, #64748b 0%, #475569 100%) !important; }
    .bg-gradient-purple-dark { background: linear-gradient(135deg, #a855f7 0%, #9333ea 100%) !important; }
    .bg-gradient-teal-dark { background: linear-gradient(135deg, #14b8a6 0%, #0d9488 100%) !important; }
    .bg-gradient-green-dark { background: linear-gradient(135deg, #10b981 0%, #059669 100%) !important; }
    .bg-gradient-red { background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%) !important; }
    .bg-gradient-green-light { background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%) !important; }
    .bg-gradient-blue-sky { background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%) !important; }
    .bg-gradient-red-dark { background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%) !important; }
    .bg-gradient-indigo { background: linear-gradient(135deg, #4f46e5 0%, #4338ca 100%) !important; }
    .bg-gradient-green-medium { background: linear-gradient(135deg, #10b981 0%, #059669 100%) !important; }
    .bg-gradient-orange { background: linear-gradient(135deg, #f97316 0%, #ea580c 100%) !important; }
    .bg-gradient-violet { background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%) !important; }
    .bg-gradient-lime { background: linear-gradient(135deg, #84cc16 0%, #65a30d 100%) !important; }
    .bg-gradient-sky { background: linear-gradient(135deg, #0284c7 0%, #0369a1 100%) !important; }
    
    /* Apply theme colors to Bootstrap elements */
    body { background-color: var(--bg); color: var(--fg); overflow: hidden; }
    .navbar { background-color: var(--fg) !important; border-bottom: none !important; box-shadow: var(--shadow-md) !important; }
    .navbar-brand { cursor: pointer; color: var(--bg) !important; font-weight: 600; letter-spacing: 0px; }
    .navbar-toggler-icon { 
      filter: invert(1);
      background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%2896, 165, 250, 0.9%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e");
    }
    
    .btn-outline-secondary { border-color: var(--border) !important; color: var(--fg) !important; }
    .btn-outline-secondary:hover { background-color: var(--accent-light) !important; border-color: var(--accent) !important; color: var(--accent) !important; }
    
    /* Sidebar - Modern Design */
    nav.sidebar { 
      background: linear-gradient(180deg, #f3f4f6 0%, #e5e7eb 100%); 
      border-right: 1px solid rgba(0, 0, 0, 0.05) !important;  
      overflow-y: auto; 
      box-shadow: 4px 0 16px rgba(0, 0, 0, 0.06);
      padding-top: 0;
    }
    
    .menu-header {  
      background: linear-gradient(135deg, rgba(0, 0, 0, 0.15), rgba(0, 0, 0, 0.1) 100%);
      font-weight: bold; 
      padding: 1.25rem 1.25rem; 
      letter-spacing: 0px; 
      font-size: 1.1rem;
      position: relative;
      overflow: hidden;
      border: none;
      border-bottom: 2px solid #a5aab3;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.12);
      color: #0c346c;
      text-shadow: none;
      margin: 0;
      text-transform: none;
    }
    .menu-header::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.15), transparent);
      transition: left 0.6s ease;
    }
    .menu-header:hover::before {
      left: 100%;
    }
    .menu-header::after {
      content: 'üìã';
      position: absolute;
      right: 1.5rem;
      top: 50%;
      transform: translateY(-50%);
      font-size: 1.3rem;
      opacity: 0.9;
      filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.2));
    }
    
    .toc { 
      list-style: none; 
      padding: 0rem 0; 
      margin: 0; 
      background: transparent;
    }
    .toc li { 
      margin: 0; 
    }
    
    /* Section grouping */
    .toc li[data-group="overview"] { margin-bottom: 0.75rem; }
    .toc li[data-group="solid"]:first-of-type { 
      margin-top: 1rem; 
      border-top: 2px solid rgba(59, 130, 246, 0.15);
      padding-top: 1rem;
    }
    .toc li[data-group="other-principles"]:first-of-type { 
      margin-top: 1rem; 
      border-top: 2px solid rgba(16, 185, 129, 0.15);
      padding-top: 1rem;
    }
    .toc li[data-group="resources"] { 
      margin-top: 1rem; 
      border-top: 2px solid rgba(100, 116, 139, 0.15);
      padding-top: 1rem;
    }
    
    .list-group-item { 
      background: transparent; 
      border-color: transparent; 
      padding: 0; 
      margin: 0.25rem 0.75rem; 
      border-radius: 0rem;
      transition: all 0.2s ease;
    }
    .list-group-item a { 
      color: #1f2937; 
      text-decoration: none; 
      display: flex; 
      flex-direction: column; 
      align-items: flex-start; 
      gap: 0.4rem; 
      border-left: 3px solid transparent; 
      padding: 0.85rem 1.25rem; 
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); 
      font-weight: 500; 
      border-radius: 0rem;
      font-size: 0.95rem;
      position: relative;
      overflow: hidden;
      background: linear-gradient(90deg, rgba(255, 255, 255, 0.4) 0%, rgba(255, 255, 255, 0.1) 100%);
      border: 1px solid rgba(0, 0, 0, 0.06);
      -webkit-backdrop-filter: blur(10px);
      backdrop-filter: blur(10px);
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
    }
    .list-group-item a::before {
      content: '';
      position: absolute;
      left: 0;
      top: 0;
      height: 100%;
      width: 4px;
      background: linear-gradient(180deg, #3b82f6 0%, #2563eb 100%);
      transform: scaleY(0);
      transition: transform 0.3s ease;
      border-radius: 0 0px 0px 0;
    }
    .list-group-item a::after {
      content: '‚ñ∂';
      position: absolute;
      right: 1rem;
      top: 50%;
      transform: translateY(-50%) scale(0.7);
      font-size: 0.7rem;
      color: #9ca3af;
      opacity: 0;
      transition: all 0.3s ease;
    }
    .list-group-item a:hover { 
      background: linear-gradient(90deg, rgba(59, 130, 246, 0.15) 0%, rgba(59, 130, 246, 0.08) 100%); 
      border-left-color: transparent;
      color: #1e40af;
      box-shadow: 0 4px 12px rgba(59, 130, 246, 0.2), 0 2px 4px rgba(0, 0, 0, 0.08);
      border-color: rgba(59, 130, 246, 0.2);
      text-decoration: none;
    }
    .list-group-item a:hover::before {
      transform: scaleY(1);
    }
    .list-group-item a:hover::after {
      opacity: 1;
      transform: translateY(-50%) scale(1);
      color: #3b82f6;
    }
    .list-group-item a.active { 
      background: linear-gradient(90deg, rgba(59, 130, 246, 0.22) 0%, rgba(59, 130, 246, 0.12) 100%); 
      color: #1e40af; 
      font-weight: 600; 
      border-left-color: transparent;
      box-shadow: 0 4px 16px rgba(59, 130, 246, 0.25), inset 0 1px 0 rgba(255, 255, 255, 0.3);
      border-color: rgba(59, 130, 246, 0.3);
    }
    .list-group-item a.active::before {
      transform: scaleY(1);
      background: linear-gradient(180deg, #3b82f6 0%, #2563eb 100%);
      width: 5px;
      box-shadow: 0 0 8px rgba(59, 130, 246, 0.5);
    }
    .list-group-item a.active::after {
      opacity: 1;
      color: #2563eb;
      transform: translateY(-50%) scale(1);
    }
    .list-group-item a.active:hover { 
      background: linear-gradient(90deg, rgba(59, 130, 246, 0.28) 0%, rgba(59, 130, 246, 0.16) 100%); 
      box-shadow: 0 6px 20px rgba(59, 130, 246, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.4);
    }
    
    /* Collapsible parent items */
    .list-group-item.has-children {
      cursor: default;
    }
    .list-group-item.has-children > a {
      cursor: pointer;
      user-select: none;
    }
    .list-group-item.has-children > a::after {
      content: '‚ñº';
      font-size: 0.65rem;
      opacity: 0.6;
      transition: transform 0.3s ease, opacity 0.3s ease;
      transform: translateY(-50%) rotate(0deg);
    }
    .list-group-item.has-children.collapsed > a::after {
      transform: translateY(-50%) rotate(-90deg);
    }
    .list-group-item.has-children > a:hover::after {
      opacity: 1;
    }
    
    /* Hide collapsed children */
    .list-group-sub-item.collapsed {
      display: none;
      max-height: 0;
      overflow: hidden;
    }
    
    /* Sub-items tree connectors */
    .list-group-sub-item a::before { 
      content: '‚îú‚îÄ';
      font-size: 0.85rem;
      margin-right: 0.5rem;
      color: #6b7280;
      z-index: 1;
      position: relative;
    }
    
    /* Sub-items styling - similar to main items but smaller and indented */
    .list-group-sub-item {
      background: transparent; 
      border-color: transparent; 
      padding: 0px; 
      margin: 0.2rem 0.75rem 0.2rem 1.5rem;
      border-radius: 0rem;
      transition: all 0.2s ease;
      position: relative;
      list-style-type: none;
    }
    .list-group-sub-item::before {
      content: '';
      position: absolute;
      left: 0;
      top: 0;
      height: 100%;
      width: 4px;
      background: linear-gradient(180deg, #3b82f6 0%, #2563eb 100%);
      transform: scaleY(0);
      transition: transform 0.3s ease;
      border-radius: 0 0px 0px 0;
      z-index: 1;
    }
    .list-group-sub-item a {
      color: #1f2937; 
      text-decoration: none; 
      display: block;
      border-left: 3px solid transparent; 
      padding: 0.65rem 1rem 0.65rem 2.00rem;
      transition: all 0.2s ease; 
      font-weight: 500; 
      border-radius: 0rem;
      font-size: 0.8125rem;
      line-height: 1.4;
      position: relative;
      overflow: hidden;
      background: rgba(255, 255, 255, 0.5);
      border: 1px solid rgba(0, 0, 0, 0.04);
      box-shadow: 0 1px 2px rgba(0, 0, 0, 0.04);
    }
    
    /* Sub-items hover and active states - same as main items */
    .list-group-sub-item a::after {
      content: '‚ñ∂';
      position: absolute;
      right: 1rem;
      top: 50%;
      transform: translateY(-50%) scale(0.7);
      font-size: 0.7rem;
      color: #9ca3af;
      opacity: 0;
      transition: all 0.3s ease;
    }
    
    .list-group-sub-item:hover::before {
      transform: scaleY(1);
    }
    .list-group-sub-item a:hover { 
      background: linear-gradient(90deg, rgba(59, 130, 246, 0.15) 0%, rgba(59, 130, 246, 0.08) 100%); 
      border-left-color: transparent;
      color: #1e40af;
      box-shadow: 0 4px 12px rgba(59, 130, 246, 0.2), 0 2px 4px rgba(0, 0, 0, 0.08);
      border-color: rgba(59, 130, 246, 0.2);
      text-decoration: none;
    }
    .list-group-sub-item a:hover::after {
      opacity: 1;
      transform: translateY(-50%) scale(1);
      color: #3b82f6;
    }
    
    .list-group-sub-item.active::before {
      transform: scaleY(1);
      width: 5px;
      box-shadow: 0 0 8px rgba(59, 130, 246, 0.5);
    }
    .list-group-sub-item a.active { 
      background: linear-gradient(90deg, rgba(59, 130, 246, 0.22) 0%, rgba(59, 130, 246, 0.12) 100%); 
      color: #1e40af; 
      font-weight: 600; 
      border-left-color: transparent;
      box-shadow: 0 4px 16px rgba(59, 130, 246, 0.25), inset 0 1px 0 rgba(255, 255, 255, 0.3);
      border-color: rgba(59, 130, 246, 0.3);
    }
    .list-group-sub-item a.active::after {
      opacity: 1;
      color: #2563eb;
      transform: translateY(-50%) scale(1);
    }
    .list-group-sub-item a.active:hover { 
      background: linear-gradient(90deg, rgba(59, 130, 246, 0.28) 0%, rgba(59, 130, 246, 0.16) 100%); 
      box-shadow: 0 6px 20px rgba(59, 130, 246, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.4);
    }
    
    .list-group-item a::after {
      content: '‚ñ∂';
      position: absolute;
      right: 1rem;
      top: 50%;
      transform: translateY(-50%) scale(0.7);
      font-size: 0.7rem;
      color: #9ca3af;
      opacity: 0;
      transition: all 0.3s ease;
    }
    
    .list-group-item a:hover { 
      background: linear-gradient(90deg, rgba(59, 130, 246, 0.15) 0%, rgba(59, 130, 246, 0.08) 100%); 
      border-left-color: transparent;
      color: #1e40af;
      box-shadow: 0 4px 12px rgba(59, 130, 246, 0.2), 0 2px 4px rgba(0, 0, 0, 0.08);
      border-color: rgba(59, 130, 246, 0.2);
      text-decoration: none;
    }
    .list-group-item a:hover::before {
      transform: scaleY(1);
    }
    .list-group-item a:hover::after {
      opacity: 1;
      transform: translateY(-50%) scale(1);
      color: #3b82f6;
    }
    .list-group-item a.active { 
      background: linear-gradient(90deg, rgba(59, 130, 246, 0.22) 0%, rgba(59, 130, 246, 0.12) 100%); 
      color: #1e40af; 
      font-weight: 600; 
      border-left-color: transparent;
      box-shadow: 0 4px 16px rgba(59, 130, 246, 0.25), inset 0 1px 0 rgba(255, 255, 255, 0.3);
      border-color: rgba(59, 130, 246, 0.3);
    }
    .list-group-item a.active::after {
      opacity: 1;
      color: #2563eb;
      transform: translateY(-50%) scale(1);
    }
    .list-group-item a.active:hover { 
      background: linear-gradient(90deg, rgba(59, 130, 246, 0.28) 0%, rgba(59, 130, 246, 0.16) 100%); 
      box-shadow: 0 6px 20px rgba(59, 130, 246, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.4);
    }
    
    /* Badge styling */
    .badge { font-size: 0.8rem; padding: 0.15rem 0.4rem; background: var(--accent-light); color: var(--accent); border: 1px solid var(--accent); font-weight: 600; border-radius: 0.25rem; font-style: normal; line-height: 1.2; opacity: 0.9; }
    .badge { background: var(--accent); color: white; border: none; font-size: 0.6rem; padding: 0.25rem 0.5rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px; display: inline-block; margin-top: 0.5rem; margin-right: 0.35rem; }
    .list-group-item a:hover .badge { opacity: 1; background: var(--accent); color: white; }
    .list-group-item a.active .badge { background: rgba(255, 255, 255, 0.3); color: white; border-color: rgba(255, 255, 255, 0.6); font-weight: 600; opacity: 1; }
        
    /* Content */
    .content { width: 100%; max-width: 100%; margin: 0 auto; background: #ffffff; padding: 2rem; border-radius: 0.75rem; box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08); }
    section { display: none !important; margin-bottom: 2rem; }
    section.active { display: block !important; }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    
    h1 { font-size: 2rem; font-weight: 700; margin: 1rem 0 0.25rem 0; letter-spacing: -0.5px; color: var(--fg); display: block; border: none; }
    h2 { font-size: 1.5rem; font-weight: 600; margin: 1.5rem 0 0.75rem 0; color: var(--fg); border-bottom: 2px solid var(--accent-light); padding-bottom: 0.5rem; }
    h3 { font-size: 1.1rem; color: var(--accent); font-weight: 600; margin: 1rem 0 0.5rem 0; }
    h4 { font-size: 0.8rem; color: var(--fg); font-weight: 600; margin: 0.75rem 0 0.4rem 0; }
    p { margin: 1rem 0; line-height: 1.65; color: var(--fg); }
    ul, ol { margin: 1rem 0; padding-left: 2rem; }
    li { margin: 0.5rem 0; color: var(--fg); }
    
    code { background: var(--code-bg); border: 1px solid var(--border); padding: 0.2rem 0.5rem; font-family: ui-monospace, 'Cascadia Code', 'Source Code Pro', monospace; font-size: 0.9em; color: var(--accent); border-radius: 0.5rem; }
    pre { background: var(--code-bg); border: 0px solid var(--border); padding: 1rem; border-radius: 0.5rem; overflow: auto; box-shadow: var(--shadow-sm); margin: 1rem 0; }
    pre code { padding: 0; background: transparent; border: none; color: var(--fg); }
    
    .callout { border-left: 5px solid var(--accent); background: var(--accent-light); padding: 1rem 1.2rem; margin: 1.5rem 0; border-radius: 0.5rem; box-shadow: var(--shadow-sm); font-weight: 500; color: var(--fg); }
    
    /* Table styling */
    .table { color: var(--fg); }
    .table thead th { background: var(--accent-light); color: var(--accent); border-color: var(--border); font-weight: 600; }
    .table tbody td { border-color: var(--border); }
    .table-striped tbody tr:nth-of-type(odd) { background-color: rgba(0,0,0,0.02); }
    .table-striped tbody tr:hover { background-color: var(--accent-light); }
    
    /* Controls/Pagination */
    .controls { opacity: 0.5; position: fixed; bottom: 0.25rem; right: 1rem; width: auto; z-index: 1000; background: transparent; display: flex; align-items: center; justify-content: center; gap: 0rem; padding: 0; min-height: 40px; }
    @media (max-width: 991px) {
      .controls { bottom: 0.25rem; right: 1rem; }
      .menu-header { color: var(--focus); }
    }
    .controls:hover { opacity: 1; }
    
    .page-indicator { color: var(--accent); font-weight: 600; font-size: 0.875rem; }
    .btn-group .btn { margin: 0px 2px; padding: 0.2rem 0.5rem; background: var(--accent); color: white; border-color: var(--accent); font-size: 1rem; font-weight: bold; }
    .btn-group .btn:hover { background: var(--accent); }
    .btn-group .btn + .btn { margin-left: -1px; }
    
    /* Mobile/Offcanvas */
    .offcanvas { background: var(--bg) !important; }
    .offcanvas-header { border-bottom: 1px solid var(--border); }
    .offcanvas-title { color: var(--fg); font-weight: 600; }
    .btn-close { color: var(--fg); }
    
    /* Scrollbar */
    nav.sidebar::-webkit-scrollbar { width: 6px; }
    nav.sidebar::-webkit-scrollbar-track { background: rgba(0, 0, 0, 0.05); }
    nav.sidebar::-webkit-scrollbar-thumb { background: rgba(0, 0, 0, 0.2); border-radius: 0px; }
    nav.sidebar::-webkit-scrollbar-thumb:hover { background: rgba(0, 0, 0, 0.3); }
    
    /* Mermaid Diagrams */
    .mermaid {
      background: #ffffff;
      border: 1px solid #e2e8f0;
      border-radius: 0.5rem;
      padding: 2rem;
      margin: 1.5rem 0;
      min-height: 400px;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: visible;
      position: relative;
    }
    .mermaid.rendered {
      min-height: 0;
    }
    .mermaid svg {
      max-width: 100%;
      height: auto;
      min-height: 300px;
      transition: transform 0.3s ease;
      transform-origin: center center;
    }
    .mermaid.zoomed {
      overflow: auto;
      cursor: grab;
    }
    .mermaid.zoomed:active {
      cursor: grabbing;
    }
    .mermaid svg text {
      font-size: 14px !important;
      font-family: 'Segoe UI', system-ui, -apple-system, sans-serif !important;
    }
    
    /* Mermaid title styling */
    .mermaid svg text, .diagram-modal-content svg text {
      font-size: 1rem !important;
      font-weight: bold !important;
      fill: var(--fg) !important;
      font-family: 'Segoe UI', system-ui, -apple-system, sans-serif !important;
    }

    .mermaid svg *
    {
        color: #333;
    }

    .mermaid[data-processed="true"] {
      min-height: 0;
    }
    
    .mermaid svg {
      max-width: 100%;
      height: auto;
      display: inline-block;
    }
    
    /* Zoom controls */
    .zoom-controls {
      position: absolute;
      top: 10px;
      right: 10px;
      z-index: 10;
      opacity: 0.5;
      transition: opacity 0.3s ease;
    }
    .mermaid:hover .zoom-controls {
      opacity: 1;
    }
    .zoom-btn {
      background: var(--accent);
      color: white;
      border: none;
      border-radius: 0.25rem;
      width: 32px;
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-size: 16px;
      font-weight: bold;
      box-shadow: 0 2px 4px rgba(0,0,0,0.2);
      transition: all 0.2s ease;
    }
    .zoom-btn:hover {
      background: #2563eb;
      transform: scale(1.1);
    }

    /* Modal for diagram zoom */
    .diagram-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0, 0, 0, 0.95);
      z-index: 9999;
      align-items: center;
      justify-content: center;
      padding: 0;
    }
    .diagram-modal.active {
      display: flex;
    }
    .diagram-modal-content {
      position: relative;
      width: 100%;
      height: 100%;
      background: white;
      border-radius: 0;
      padding: 3rem 3rem 3rem 3rem;
      overflow: auto;
      display: flex;
      align-items: flex-start;
      justify-content: center;
    }
    .diagram-modal-content svg {
      max-width: 100%;
      height: auto;
    }
    .modal-close {
      position: fixed;
      top: 1.5rem;
      right: 1.5rem;
      background: #ef4444;
      color: white;
      border: none;
      border-radius: 50%;
      width: 32px;
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-size: 16px;
      font-weight: bold;
      box-shadow: 0 4px 8px rgba(0,0,0,0.3);
      transition: all 0.2s ease;
      z-index: 10000;
    }
    .modal-close:hover {
      background: #dc2626;
      transform: scale(1.1);
    }
    .modal-zoom-controls {
      position: fixed;
      bottom: 1.5rem;
      right: 1.5rem;
      display: flex;
      gap: 0.5rem;
      z-index: 10000;
      padding: 0rem;
      border-radius: 0.4rem;
    }
    .modal-zoom-btn {
      background: var(--accent);
      color: white;
      border: none;
      border-radius: 0.25rem;
      width: 32px;
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-size: 16px;
      font-weight: bold;
      box-shadow: 0 2px 4px rgba(0,0,0,0.2);
      transition: all 0.2s ease;
    }
    .modal-zoom-btn:hover {
      background: #2563eb;
      transform: scale(1.1);
    }
    
    /* Utilities */
    .search { height: 0; overflow: hidden; padding: 0 !important; }
    .search input { display: none; }
    .min-vh-100 { min-height: 100vh; }
    .skip-link { position: absolute; left: -9999px; top: auto; width: 1px; height: 1px; overflow: hidden; }
    .skip-link:focus { position: static; width: auto; height: auto; padding: 0.4rem 0.6rem; background: var(--accent); color: white; border-radius: 0.4rem; }
    
    /* Override Bootstrap defaults for theme */
    a { color: var(--accent); }
    a:hover { color: var(--accent); text-decoration: underline; }
    
    /* Responsive - keep sidebar visible on desktop, offcanvas on mobile */
    @media (max-width: 991px) {
      nav.sidebar { display: none; }
      #main { width: 100%; }
      .row { --bs-gutter-x: 0; }
    }
    
    /* Layout - prevent unnecessary scrolling */
    html, body { height: 100%; margin: 0; }
    #appContainer { display: flex; flex-direction: column; height: calc(100vh - 50px); }
    #mainRow { flex: 1; overflow: hidden; display: flex; }
    nav.sidebar { overflow-y: auto; max-height: 100%; position: relative; padding-bottom: 0px; }
    #main { overflow: hidden; display: flex; flex-direction: column; height: 100%; -webkit-tap-highlight-color: transparent; outline: none; border: none; }
    #main:focus { outline: none; }
    .content { overflow-y: auto; flex: 1; width: 100%; min-height: 0; padding: 0rem 1.5rem 0rem 1.5rem; }
    
    /* Contact Info */
    .contact-info {
      font-weight: 400 !important;
      padding: 0.5rem 0.75rem;
      font-size: 0.75rem;
      color: var(--accent-light);
      margin: 0;
      opacity: 0.5;
      white-space: nowrap;
      cursor: pointer;
    }
    .contact-info:hover {
      opacity: 0.9;
      text-decoration: none;
    }
    @media (max-width: 991px) {
      .navbar-brand {
        font-size: 1rem !important;
        flex: 1;
      }
      .contact-info {
        font-size: 0.7rem;
        padding: 0.25rem 0.5rem;
      }
    }
    @media (max-width: 576px) {
      .navbar-brand {
        font-size: 0.9rem !important;
      }
      .contact-info {
        font-size: 0.65rem;
        padding: 0.2rem 0.4rem;
      }
    }

    .list-style-none {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    /* JSON Syntax Highlighting */
    pre code.language-json {
      display: block;
      white-space: pre;
      font-family: 'Cascadia Code', 'Consolas', 'Monaco', 'Courier New', monospace;
    }

    pre code.language-json .json-key {
      color: #0451a5;
      font-weight: 500;
    }

    pre code.language-json .json-string {
      color: #a31515;
    }

    pre code.language-json .json-number {
      color: #098658;
    }

    pre code.language-json .json-boolean {
      color: #0000ff;
      font-weight: 600;
    }

    pre code.language-json .json-null {
      color: #0000ff;
      font-weight: 600;
    }

    pre code.language-json .json-punctuation {
      color: #333;
    }

    /* SQL Syntax Highlighting */
    pre code.language-sql {
      display: block;
      white-space: pre;
      font-family: 'Cascadia Code', 'Consolas', 'Monaco', 'Courier New', monospace;
    }

    pre code.language-sql .sql-keyword {
      color: #0000ff;
      font-weight: 600;
      text-transform: uppercase;
    }

    pre code.language-sql .sql-string {
      color: #a31515;
    }

    pre code.language-sql .sql-number {
      color: #098658;
    }

    pre code.language-sql .sql-comment {
      color: #008000;
      font-style: italic;
    }

    pre code.language-sql .sql-function {
      color: #795e26;
      font-weight: 500;
    }

    pre code.language-sql .sql-operator {
      color: #666;
      font-weight: 500;
    }

    /* Language Label for Code Blocks */
    pre[data-language]::before {
      content: attr(data-language);
      position: absolute;
      top: 8px;
      right: 12px;
      font-size: 0.75em;
      color: #6a737d;
      text-transform: uppercase;
      font-weight: 600;
      letter-spacing: 0.5px;
      background: var(--bg);
      padding: 0.2rem 0.5rem;
      border-radius: 0.25rem;
      border: 1px solid var(--border);
    }

    /* Enhanced pre/code styling for syntax highlighted blocks */
    pre.syntax-highlighted {
      position: relative;
      background: var(--code-bg);
      border: 1px solid var(--border);
      padding: 1.5rem 1rem 1rem 1rem;
      border-radius: 0.5rem;
      overflow-x: auto;
      box-shadow: var(--shadow-sm);
      margin: 1rem 0;
    }

    pre.syntax-highlighted code {
      background: transparent;
      padding: 0;
      border: none;
      color: var(--fg);
      font-size: 0.875rem;
      line-height: 1.6;
    }

    ul
    {
        list-style-type: none;
    }

    /* Code Tabs Styling */
    .code-tabs {
      margin: 1.5rem 0;
    }
    .code-tabs .nav-tabs {
      border-bottom: 2px solid var(--border);
      margin-bottom: 0;
    }
    .code-tabs .nav-link {
      color: var(--muted);
      border: none;
      border-bottom: 3px solid transparent;
      padding: 0.75rem 1.5rem;
      font-weight: 600;
      transition: all 0.3s ease;
      background: transparent;
    }
    .code-tabs .nav-link:hover {
      color: var(--accent);
      background: var(--accent-light);
      border-bottom-color: var(--accent);
    }
    .code-tabs .nav-link.active {
      color: var(--accent);
      background: var(--accent-light);
      border-bottom-color: var(--accent);
    }
    .code-tabs .tab-content {
      background: var(--code-bg);
      border: 1px solid var(--border);
      border-top: none;
      border-radius: 0 0 0.5rem 0.5rem;
      padding: 0;
    }
    .code-tabs .tab-pane {
      padding: 0;
    }
    .code-tabs pre {
      margin: 0;
      border: none;
      border-radius: 0 0 0.5rem 0.5rem;
    }

  /* Document Footer */
    .document-footer {
      text-align: center;
      padding: 20px;
      background-color: #f8f9fa;
      border-radius: 8px;
      margin-top: 20px;
    }
    .document-footer p {
      margin: 0;
      font-size: 14px;
      color: #6c757d;
      line-height: 1.6;
    }
    .document-footer strong {
      color: #495057;
    }  
  </style>
  <!-- Mermaid.js for diagrams -->
  <script src="https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.min.js"></script>
  <script>
    // Initialize Mermaid with proper configuration
    document.addEventListener('DOMContentLoaded', function() {

      mermaid.initialize({
        startOnLoad: false,
        theme: 'base',
        securityLevel: 'loose',
        logLevel: 'error',
        fontFamily: 'Segoe UI Semibold',
        flowchart: {
          useMaxWidth: true,
          htmlLabels: true,
          curve: 'basis',
        },
        sequence: {
          useMaxWidth: false,
          htmlLabels: true,
          diagramMarginX: 50,
          diagramMarginY: 10
        }
      });
      
      // Render all diagrams
      renderMermaidDiagrams();
    });
    
    async function renderMermaidDiagrams() {
      const diagrams = document.querySelectorAll('.mermaid');
      
      for (let i = 0; i < diagrams.length; i++) {
        const diagram = diagrams[i];
        const code = diagram.textContent.trim();
        
        // Store original code
        if (!diagram.hasAttribute('data-original-code')) {
          diagram.setAttribute('data-original-code', code);
        }
        
        try {
          const { svg } = await mermaid.render('mermaid-diagram-' + i, code);
          diagram.innerHTML = svg;
          diagram.setAttribute('data-processed', 'true');
          
          // Add zoom controls
          addZoomControls(diagram);
        } catch (error) {
          console.error('Mermaid rendering error for diagram ' + i + ':', error);
          diagram.innerHTML = '<div class="alert alert-danger border border-danger rounded p-3">Error rendering diagram: ' + error.message + '</div>';
        }
      }
    }
    
    // Add zoom controls to mermaid diagrams
    function addZoomControls(diagram) {
      const controls = document.createElement('div');
      controls.className = 'zoom-controls';
      controls.innerHTML = `
        <button class="zoom-btn" data-action="expand" title="Expand View">‚õ∂</button>
      `;
      
      diagram.style.position = 'relative';
      diagram.insertBefore(controls, diagram.firstChild);
      
      // Expand to modal
      controls.addEventListener('click', (e) => {
        const btn = e.target.closest('.zoom-btn');
        if (!btn) return;
        
        openDiagramModal(diagram);
      });
    }

    // Open diagram in modal
    function openDiagramModal(diagram) {
      // Create modal if it doesn't exist
      let modal = document.getElementById('diagram-modal');
      if (!modal) {
        modal = document.createElement('div');
        modal.id = 'diagram-modal';
        modal.className = 'diagram-modal';
        modal.innerHTML = `
          <button class="modal-close" id="modal-close">√ó</button>
          <div class="diagram-modal-content" id="modal-diagram-content"></div>
          <div class="modal-zoom-controls">
            <button class="modal-zoom-btn" data-action="zoom-in" title="Zoom In">+</button>
            <button class="modal-zoom-btn" data-action="zoom-out" title="Zoom Out">‚àí</button>
            <button class="modal-zoom-btn" data-action="reset" title="Reset Zoom">‚ü≤</button>
          </div>
        `;
        document.body.appendChild(modal);
        
        // Close modal handlers
        modal.querySelector('#modal-close').addEventListener('click', closeDiagramModal);
        modal.addEventListener('click', (e) => {
          if (e.target === modal) closeDiagramModal();
        });
        document.addEventListener('keydown', (e) => {
          if (e.key === 'Escape' && modal.classList.contains('active')) {
            closeDiagramModal();
          }
        });
        
        // Zoom controls in modal
        let scale = 1;
        let translateX = 0;
        let translateY = 0;
        
        modal.querySelector('.modal-zoom-controls').addEventListener('click', (e) => {
          const btn = e.target.closest('.modal-zoom-btn');
          if (!btn) return;
          
          const action = btn.dataset.action;
          const svg = modal.querySelector('svg');
          if (!svg) return;
          
          if (action === 'zoom-in') {
            scale = Math.min(scale + 0.1, 5);
          } else if (action === 'zoom-out') {
            scale = Math.max(scale - 0.1, 0.5);
          } else if (action === 'reset') {
            scale = 1;
            translateX = 0;
            translateY = 0;
          }
          
          svg.style.transform = `scale(${scale}) translate(${translateX / scale}px, ${translateY / scale}px)`;
        });
      }
      
      // Clone diagram content
      const svg = diagram.querySelector('svg');
      if (svg) {
        const content = modal.querySelector('#modal-diagram-content');
        content.innerHTML = '';
        const clonedSvg = svg.cloneNode(true);
        clonedSvg.style.transform = 'scale(1)';
        clonedSvg.style.maxWidth = '100%';
        clonedSvg.style.height = 'auto';
        content.appendChild(clonedSvg);
      }
      
      modal.classList.add('active');
      document.body.style.overflow = 'hidden';
    }

    function closeDiagramModal() {
      const modal = document.getElementById('diagram-modal');
      if (modal) {
        modal.classList.remove('active');
        document.body.style.overflow = '';
      }
    }
    
    // Re-render on theme change
    window.rerenderMermaid = async function() {
      const isDark = document.documentElement.getAttribute('data-theme') === 'dark';
      
      mermaid.initialize({
        startOnLoad: false,
        theme: isDark ? 'base' : 'base',
        securityLevel: 'loose',
        flowchart: {
          useMaxWidth: true,
          htmlLabels: true,
          curve: 'basis',
        },
        sequence: {
          useMaxWidth: false,
          htmlLabels: true,
          diagramMarginX: 50,
          diagramMarginY: 10
        }
      });
      
      const diagrams = document.querySelectorAll('.mermaid[data-processed="true"]');
      for (let i = 0; i < diagrams.length; i++) {
        const diagram = diagrams[i];
        const code = diagram.getAttribute('data-original-code');
        
        if (code) {
          try {
            const { svg } = await mermaid.render('mermaid-diagram-rerender-' + i + '-' + Date.now(), code);
            diagram.innerHTML = svg;
          } catch (error) {
            console.error('Mermaid re-rendering error:', error);
          }
        }
      }
    };
  </script>
</head>
<body>
  <nav class="navbar navbar-expand-lg sticky-top" aria-label="Top bar">
    <div class="container-fluid d-flex align-items-center">
      <button class="navbar-toggler me-2" id="toggleSidebar" type="button" aria-label="Toggle sidebar">
        <span class="navbar-toggler-icon"></span>
      </button>
<span class="navbar-brand mb-0 h1 me-auto"><svg  xmlns="http://www.w3.org/2000/svg" width="24" height="24"  
fill="currentColor" viewBox="0 0 24 24" >
<path d="m19.97,11.84c.66-.66,1.02-1.53,1.02-2.46s-.36-1.8-1.02-2.46l-.04-.04c-.66-.66-1.53-1.02-2.46-1.02-.17,0-.34.03-.51.05.02-.17.05-.33.05-.51,0-.93-.36-1.8-1.02-2.46-.66-.66-1.53-1.02-2.46-1.02s-1.8.36-2.46,1.02l-7.87,7.87c-.27.27-.27.71,0,.98s.71.27.98,0l7.87-7.87c.39-.39.92-.61,1.47-.61s1.08.22,1.47.61c.39.39.61.92.61,1.48s-.22,1.08-.61,1.48l-5.86,5.86-.08.08c-.27.27-.27.71,0,.98.14.14.31.2.49.2s.36-.07.49-.2l5.94-5.94c.39-.39.92-.61,1.48-.61s1.08.22,1.47.61l.04.04c.39.39.61.92.61,1.47s-.22,1.08-.61,1.48l-7.11,7.11c-.63.63-.63,1.66,0,2.29l1.46,1.46c.14.14.31.2.49.2s.36-.07.49-.2c.27-.27.27-.71,0-.98l-1.46-1.46c-.09-.09-.09-.24,0-.33l7.11-7.11Z"/><path d="m17.96,9.83c.27-.27.27-.71,0-.98-.27-.27-.71-.27-.98,0l-5.82,5.82c-.81.81-2.14.81-2.95,0-.81-.81-.81-2.14,0-2.95l5.82-5.82c.27-.27.27-.71,0-.98-.27-.27-.71-.27-.98,0l-5.82,5.82c-1.36,1.36-1.36,3.56,0,4.92.68.68,1.57,1.02,2.46,1.02s1.78-.34,2.46-1.02l5.82-5.82Z"/>
</svg> Model Context Protocol (MCP) - In a Nutshell</span>
<span class="contact-info mb-0">ü§ù Curated by Murthy Vepa</span>
    </div>      
  </nav>

  <div id="appContainer">
    <div class="row g-0" id="mainRow">
      <nav class="col-lg-3 border-end sidebar" id="sidebar" aria-label="Table of contents">
        <div class="menu-header py-2">Contents</div>
        <ul class="list-group list-group-flush toc" id="toc"></ul>
      </nav>

      <main id="main" class="col-lg-9 d-flex flex-column" tabindex="-1">
        <div class="content" id="content">

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê OVERVIEW ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <section id="overview" role="article">
          <h1>üìñ What is MCP?</h1>
          <span class="badge">intro</span> <span class="badge">overview</span> <span class="badge">MCP</span>

          <h2>Introduction</h2>
          <p>
            <strong>Model Context Protocol (MCP)</strong> is an <strong>open-source standard</strong> for connecting AI applications to external systems. 
            It provides a standardized way for AI models like Claude or ChatGPT to access data sources, tools, and workflows‚Äîenabling them to 
            retrieve key information and perform tasks beyond their core capabilities.
          </p>

          <div class="callout">
            <strong>üí° Think of MCP like USB-C for AI:</strong><br/>
            Just as USB-C provides a standardized way to connect electronic devices, MCP provides a standardized way to connect 
            AI applications to external systems. One protocol, countless possibilities.
          </div>

          <h2>What MCP Enables</h2>
          <p>Using MCP, AI applications can connect to:</p>
          <ul>
            <li><strong>Data Sources:</strong> Local files, databases, APIs, cloud storage</li>
            <li><strong>Tools:</strong> Search engines, calculators, code execution environments, external APIs</li>
            <li><strong>Workflows:</strong> Specialized prompts, automation sequences, multi-step operations</li>
          </ul>

          <h3>Real-World Examples</h3>
          <table class="table table-striped">
            <thead>
              <tr>
                <th width="25%">Scenario</th>
                <th>What MCP Enables</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>Personal AI Assistant</strong></td>
                <td>Access your Google Calendar and Notion, acting as a personalized AI assistant that understands your schedule and notes</td>
              </tr>
              <tr>
                <td><strong>Code Development</strong></td>
                <td>Claude Code can generate an entire web app using a Figma design by accessing design files and development tools</td>
              </tr>
              <tr>
                <td><strong>Enterprise Analytics</strong></td>
                <td>Enterprise chatbots can connect to multiple databases across an organization, empowering users to analyze data using natural language</td>
              </tr>
              <tr>
                <td><strong>Creative Design</strong></td>
                <td>AI models can create 3D designs in Blender and send them to a 3D printer for physical production</td>
              </tr>
            </tbody>
          </table>

          <h2>Core Components</h2>
          <p>MCP consists of several key components:</p>
          
          <h3>1. MCP Specification</h3>
          <p>
            A formal specification that outlines the implementation requirements for clients and servers. It defines the protocol's 
            message format (JSON-RPC 2.0), communication patterns, and capabilities.
          </p>

          <h3>2. MCP SDKs</h3>
          <p>
            Software Development Kits for different programming languages (Python, TypeScript, Java, Kotlin, C#, Rust) that 
            implement the MCP specification, making it easy to build servers and clients.
          </p>

          <h3>3. MCP Development Tools</h3>
          <p>Tools for developing and testing MCP servers and clients, including:</p>
          <ul>
            <li><strong>MCP Inspector:</strong> A debugging and testing tool for MCP servers</li>
            <li><strong>Reference Implementations:</strong> Example servers demonstrating best practices</li>
          </ul>

          <h3>4. MCP Servers</h3>
          <p>
            Programs that expose specific capabilities (tools, resources, prompts) to AI applications. Examples include:
            filesystem servers, database connectors, API integrators, and specialized domain servers.
          </p>

          <h2>Key Characteristics</h2>
          <div class="row">
            <div class="col-md-6">
              <div class="callout">
                <strong>üîì Open Standard</strong><br/>
                MCP is open-source and vendor-neutral, ensuring interoperability across different AI platforms and tools.
              </div>
            </div>
            <div class="col-md-6">
              <div class="callout">
                <strong>üì¶ Protocol-Based</strong><br/>
                Uses JSON-RPC 2.0 for message exchange, providing a well-established, language-agnostic communication format.
              </div>
            </div>
          </div>
          <div class="row mt-3">
            <div class="col-md-6">
              <div class="callout">
                <strong>üîå Client-Server Architecture</strong><br/>
                AI applications (hosts) create MCP clients that connect to MCP servers, with each client maintaining a dedicated connection.
              </div>
            </div>
            <div class="col-md-6">
              <div class="callout">
                <strong>üéØ Context-Focused</strong><br/>
                MCP focuses solely on context exchange‚Äîit doesn't dictate how AI applications use LLMs or manage the provided context.
              </div>
            </div>
          </div>

          <h2>How MCP Works (High-Level)</h2>
          <div class="mermaid">
graph LR
    A[AI Application
Host] -->|Creates| B[MCP Client 1]
    A -->|Creates| C[MCP Client 2]
    A -->|Creates| D[MCP Client 3]
    B -->|Connects to| E[MCP Server A
Filesystem]
    C -->|Connects to| F[MCP Server B
Database]
    D -->|Connects to| G[MCP Server C
APIs]
    
    style A fill:#e3f2fd,stroke:#1976d2,stroke-width:3px
    style B fill:#fff3e0,stroke:#f57c00,stroke-width:2px
    style C fill:#fff3e0,stroke:#f57c00,stroke-width:2px
    style D fill:#fff3e0,stroke:#f57c00,stroke-width:2px
    style E fill:#e8f5e9,stroke:#388e3c,stroke-width:2px
    style F fill:#e8f5e9,stroke:#388e3c,stroke-width:2px
    style G fill:#e8f5e9,stroke:#388e3c,stroke-width:2px
          </div>

          <h3>The Flow:</h3>
          <ol>
            <li><strong>MCP Host (AI Application)</strong> like Claude Desktop or VS Code manages the overall user experience</li>
            <li><strong>MCP Clients</strong> are instantiated for each server connection, handling protocol-level communication</li>
            <li><strong>MCP Servers</strong> provide capabilities (tools, resources, prompts) to connected clients</li>
            <li><strong>Communication</strong> happens via JSON-RPC 2.0 messages over STDIO (local) or HTTP (remote) transports</li>
          </ol>

        </section>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê WHY MCP MATTERS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <section id="why-mcp" role="article">
          <h1>üéØ Why MCP Matters</h1>
          <span class="badge">benefits</span> <span class="badge">value</span> <span class="badge">purpose</span>

          <h2>The Problem MCP Solves</h2>
          <p>
            Before MCP, connecting AI applications to external systems required custom integrations for each combination of 
            AI platform and data source. This created:
          </p>
          <ul>
            <li><strong>Integration Complexity:</strong> Each AI app needed custom code for every external system</li>
            <li><strong>Maintenance Burden:</strong> Updates to APIs or data sources broke integrations</li>
            <li><strong>Limited Interoperability:</strong> Tools built for one AI platform couldn't work with others</li>
            <li><strong>Vendor Lock-in:</strong> Switching AI platforms meant rebuilding all integrations</li>
          </ul>

          <h2>Benefits for Different Stakeholders</h2>

          <h3>For Developers üë®‚Äçüíª</h3>
          <div class="callout">
            <strong>Reduced Development Time & Complexity</strong>
            <ul>
              <li>Build once, use with any MCP-compatible AI application</li>
              <li>Use familiar SDKs in your preferred programming language</li>
              <li>Focus on business logic instead of integration plumbing</li>
              <li>Leverage existing MCP servers from the community</li>
            </ul>
          </div>

          <h3>For AI Applications ü§ñ</h3>
          <div class="callout">
            <strong>Access to Rich Ecosystem</strong>
            <ul>
              <li>Instantly access hundreds of MCP servers built by the community</li>
              <li>Provide enhanced capabilities without building custom integrations</li>
              <li>Improve user experience with access to real-world data and actions</li>
              <li>Stay focused on core AI functionality while MCP handles external connections</li>
            </ul>
          </div>

          <h3>For End Users üë•</h3>
          <div class="callout">
            <strong>More Capable AI Experiences</strong>
            <ul>
              <li>AI assistants that can access your actual data (calendar, files, emails)</li>
              <li>Ability to take real actions on your behalf (book meetings, update databases)</li>
              <li>Personalized responses based on your specific context</li>
              <li>Seamless integration across multiple tools and platforms</li>
            </ul>
          </div>

          <h2>Key Advantages</h2>

          <h3>1. Standardization üìè</h3>
          <p>
            MCP provides a unified protocol that works across different AI platforms, eliminating the need for platform-specific integrations. 
            One MCP server can serve multiple AI applications.
          </p>

          <h3>2. Ecosystem Growth üå±</h3>
          <p>
            As more developers build MCP servers, the entire ecosystem benefits. Every new server becomes available to all 
            MCP-compatible AI applications, creating a virtuous cycle of growth.
          </p>

          <h3>3. Security & Control üîí</h3>
          <p>
            MCP puts security at the forefront:
          </p>
          <ul>
            <li><strong>User Approval:</strong> Tools require explicit user consent before execution</li>
            <li><strong>Transparent Operations:</strong> Users can see what data is being accessed and what actions are being taken</li>
            <li><strong>Sandboxed Execution:</strong> Servers run in isolated environments</li>
            <li><strong>Human-in-the-Loop:</strong> Critical operations require human confirmation</li>
          </ul>

          <h3>4. Flexibility üîÑ</h3>
          <table class="table table-striped">
            <thead>
              <tr>
                <th>Aspect</th>
                <th>Flexibility</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>Transport Layer</strong></td>
                <td>Supports both STDIO (local) and HTTP (remote) transports</td>
              </tr>
              <tr>
                <td><strong>Programming Languages</strong></td>
                <td>SDKs available for Python, TypeScript, Java, Kotlin, C#, Rust</td>
              </tr>
              <tr>
                <td><strong>Deployment</strong></td>
                <td>Deploy servers locally, on-premise, or in the cloud</td>
              </tr>
              <tr>
                <td><strong>Capabilities</strong></td>
                <td>Expose only the primitives you need (tools, resources, prompts)</td>
              </tr>
            </tbody>
          </table>

          <h3>5. Future-Proof üöÄ</h3>
          <p>
            Built on established standards (JSON-RPC 2.0, URI schemes), MCP is designed to evolve without breaking existing implementations:
          </p>
          <ul>
            <li><strong>Protocol Versioning:</strong> Clear versioning scheme for backward compatibility</li>
            <li><strong>Capability Negotiation:</strong> Clients and servers declare supported features</li>
            <li><strong>Extensibility:</strong> New primitives can be added without breaking existing ones</li>
          </ul>

          <h2>Real-World Impact</h2>

          <h3>Example: Travel Planning Assistant</h3>
          <p><strong>Without MCP:</strong></p>
          <ul>
            <li>Build custom integration for calendar API</li>
            <li>Build custom integration for flight booking API</li>
            <li>Build custom integration for hotel API</li>
            <li>Build custom integration for email service</li>
            <li>Maintain all integrations separately</li>
            <li>Repeat for each AI platform you want to support</li>
          </ul>

          <p><strong>With MCP:</strong></p>
          <ul>
            <li>Use existing calendar MCP server</li>
            <li>Use existing travel MCP server</li>
            <li>Use existing email MCP server</li>
            <li>Works with any MCP-compatible AI application</li>
            <li>Community maintains the servers</li>
          </ul>

          <div class="callout">
            <strong>üéØ Result:</strong> Development time reduced from weeks/months to hours/days. Maintenance burden 
            significantly reduced. Same implementation works across all MCP-compatible AI platforms.
          </div>

          <h2>Industry Adoption</h2>
          <p>MCP is backed by Anthropic and supported by a growing ecosystem:</p>
          <ul>
            <li><strong>AI Platforms:</strong> Claude Desktop, Claude Code, and other AI applications</li>
            <li><strong>Development Tools:</strong> IDEs and code editors integrating MCP support</li>
            <li><strong>Enterprise Solutions:</strong> Companies building internal MCP servers for proprietary systems</li>
            <li><strong>Community:</strong> Open-source contributors building servers for popular services and tools</li>
          </ul>

          <h2>When to Use MCP</h2>
          <div class="row">
            <div class="col-md-6">
              <div class="callout bg-gradient-green-light">
                <strong>‚úÖ Good Fit</strong>
                <ul>
                  <li>Connecting AI to external data sources</li>
                  <li>Building tools for AI to use</li>
                  <li>Creating reusable context providers</li>
                  <li>Enabling AI to take actions</li>
                  <li>Building platform-agnostic integrations</li>
                </ul>
              </div>
            </div>
            <div class="col-md-6">
              <div class="callout bg-gradient-red">
                <strong>‚ùå Not Designed For</strong>
                <ul>
                  <li>Direct model inference or training</li>
                  <li>Managing LLM prompt engineering</li>
                  <li>Replacing database drivers or HTTP clients</li>
                  <li>Real-time streaming (use WebSockets instead)</li>
                  <li>Sub-millisecond latency requirements</li>
                </ul>
              </div>
            </div>
          </div>

        </section>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê ARCHITECTURE ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <section id="architecture" role="article">
          <h1>üèóÔ∏è MCP Architecture</h1>
          <span class="badge">architecture</span> <span class="badge">design</span> <span class="badge">components</span>

          <h2>Overview</h2>
          <p>
            MCP follows a <strong>client-server architecture</strong> where each connection is established between a 
            <strong>client</strong> and a <strong>server</strong>. The architecture is designed to be simple, extensible, 
            and secure, with clear separation of concerns between different layers and participants.
          </p>

          <div class="callout">
            <strong>üéØ Key Principle:</strong> MCP servers are designed to be <strong>contextually isolated</strong>‚Äîeach 
            server provides a specific set of capabilities and doesn't need to know about other servers or the overall 
            application architecture.
          </div>

          <h2>Architectural Layers</h2>
          <div class="mermaid">
graph TB
    subgraph "AI Application (Host)"
        A[Application Logic]
        B[MCP Client Manager]
    end
    
    subgraph "Protocol Layer"
        C[MCP Client 1]
        D[MCP Client 2]
        E[MCP Client 3]
    end
    
    subgraph "Transport Layer"
        F[STDIO Transport]
        G[HTTP Transport]
        H[STDIO Transport]
    end
    
    subgraph "Server Layer"
        I[MCP Server 1<br/>Filesystem]
        J[MCP Server 2<br/>Database]
        K[MCP Server 3<br/>APIs]
    end
    
    A --> B
    B --> C
    B --> D
    B --> E
    C --> F --> I
    D --> G --> J
    E --> H --> K
    
    style A fill:#e3f2fd,stroke:#1976d2,stroke-width:3px
    style B fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
    style C fill:#fff3e0,stroke:#f57c00,stroke-width:2px
    style D fill:#fff3e0,stroke:#f57c00,stroke-width:2px
    style E fill:#fff3e0,stroke:#f57c00,stroke-width:2px
    style F fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px
    style G fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px
    style H fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px
    style I fill:#e8f5e9,stroke:#388e3c,stroke-width:2px
    style J fill:#e8f5e9,stroke:#388e3c,stroke-width:2px
    style K fill:#e8f5e9,stroke:#388e3c,stroke-width:2px
          </div>

          <h2>Architecture Benefits</h2>
          <table class="table table-striped">
            <thead>
              <tr>
                <th>Benefit</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>Simplicity</strong></td>
                <td>Clear separation between clients and servers; each connection handles one relationship</td>
              </tr>
              <tr>
                <td><strong>Scalability</strong></td>
                <td>Add new servers without modifying existing ones; horizontal scaling supported</td>
              </tr>
              <tr>
                <td><strong>Security</strong></td>
                <td>Isolated connections; servers can't communicate with each other directly</td>
              </tr>
              <tr>
                <td><strong>Flexibility</strong></td>
                <td>Support multiple transport mechanisms; language-agnostic protocol</td>
              </tr>
              <tr>
                <td><strong>Maintainability</strong></td>
                <td>Independent versioning and updates for each server component</td>
              </tr>
            </tbody>
          </table>

          <h2>Design Principles</h2>
          <div class="row">
            <div class="col-md-6">
              <div class="callout">
                <strong>üîπ Stateful Connections</strong><br/>
                MCP connections maintain state throughout their lifecycle, allowing for context continuity 
                and efficient resource management.
              </div>
            </div>
            <div class="col-md-6">
              <div class="callout">
                <strong>üîπ Capability Negotiation</strong><br/>
                Clients and servers declare their capabilities during initialization, enabling forward 
                and backward compatibility.
              </div>
            </div>
          </div>
          <div class="row mt-3">
            <div class="col-md-6">
              <div class="callout">
                <strong>üîπ Bidirectional Communication</strong><br/>
                Both clients and servers can initiate requests, enabling rich interaction patterns 
                like sampling and notifications.
              </div>
            </div>
            <div class="col-md-6">
              <div class="callout">
                <strong>üîπ Language Agnostic</strong><br/>
                JSON-RPC 2.0 base ensures any programming language can implement clients and servers.
              </div>
            </div>
          </div>

        </section>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê PARTICIPANTS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <section id="participants" role="article">
          <h1>üë• Architecture Participants</h1>
          <span class="badge">components</span> <span class="badge">roles</span> <span class="badge">actors</span>

          <h2>The Three Key Participants</h2>
          <p>
            MCP architecture consists of three distinct participants, each with clear responsibilities:
          </p>

          <h3>1. MCP Hosts üñ•Ô∏è</h3>
          <div class="callout">
            <strong>Definition:</strong> Applications that want to access or provide AI capabilities using external data and tools.
          </div>
          
          <p><strong>Responsibilities:</strong></p>
          <ul>
            <li>Create and manage MCP client instances</li>
            <li>Present available tools and resources to users</li>
            <li>Request user approval for tool executions</li>
            <li>Display results from server interactions</li>
            <li>Manage the overall user experience</li>
          </ul>

          <p><strong>Examples:</strong></p>
          <ul>
            <li><strong>Claude Desktop:</strong> Desktop application providing AI chat with MCP server access</li>
            <li><strong>IDEs:</strong> Code editors like VS Code integrating AI capabilities with development tools</li>
            <li><strong>Custom AI Applications:</strong> Enterprise chatbots, customer service assistants, productivity tools</li>
          </ul>

          <div class="callout bg-gradient-blue-light">
            <strong>üí° Note:</strong> The host is responsible for the user interface and user experience. It decides 
            how to present capabilities from servers and how to interpret user intent.
          </div>

          <h3>2. MCP Clients üîå</h3>
          <div class="callout">
            <strong>Definition:</strong> Protocol-level components created by hosts to maintain 1:1 connections with servers.
          </div>
          
          <p><strong>Responsibilities:</strong></p>
          <ul>
            <li>Establish and maintain connection with a specific server</li>
            <li>Send JSON-RPC requests and handle responses</li>
            <li>Manage protocol-level features (initialization, capability negotiation)</li>
            <li>Handle notifications from servers</li>
            <li>Implement transport-specific communication logic</li>
          </ul>

          <p><strong>Key Characteristics:</strong></p>
          <table class="table table-striped">
            <thead>
              <tr>
                <th>Characteristic</th>
                <th>Details</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>Connection Model</strong></td>
                <td>One client instance per server connection</td>
              </tr>
              <tr>
                <td><strong>State Management</strong></td>
                <td>Maintains connection state and session context</td>
              </tr>
              <tr>
                <td><strong>Lifecycle</strong></td>
                <td>Lives for the duration of the server connection</td>
              </tr>
              <tr>
                <td><strong>Implementation</strong></td>
                <td>Typically created using MCP SDK libraries</td>
              </tr>
            </tbody>
          </table>

          <div class="callout bg-gradient-blue-light">
            <strong>üí° Note:</strong> Clients are protocol implementation details. End users typically don't interact 
            with clients directly‚Äîthey interact with the host application.
          </div>

          <h3>3. MCP Servers üõ†Ô∏è</h3>
          <div class="callout">
            <strong>Definition:</strong> Lightweight programs that expose specific capabilities (tools, resources, prompts) to clients.
          </div>
          
          <p><strong>Responsibilities:</strong></p>
          <ul>
            <li>Declare available capabilities during initialization</li>
            <li>Respond to client requests for tools, resources, and prompts</li>
            <li>Execute tool calls and return results</li>
            <li>Provide resource data when requested</li>
            <li>Send notifications about state changes (optional)</li>
          </ul>

          <p><strong>Server Categories:</strong></p>
          <div class="row">
            <div class="col-md-6">
              <div class="callout">
                <strong>üìÅ Data Source Servers</strong>
                <ul>
                  <li>Filesystem access</li>
                  <li>Database connectors</li>
                  <li>Cloud storage integrations</li>
                  <li>Document repositories</li>
                </ul>
              </div>
            </div>
            <div class="col-md-6">
              <div class="callout">
                <strong>üîß Tool Servers</strong>
                <ul>
                  <li>Search engines</li>
                  <li>API integrations</li>
                  <li>Code execution environments</li>
                  <li>Calculation and analytics tools</li>
                </ul>
              </div>
            </div>
          </div>
          <div class="row mt-3">
            <div class="col-md-6">
              <div class="callout">
                <strong>üìù Prompt Servers</strong>
                <ul>
                  <li>Specialized prompt templates</li>
                  <li>Domain-specific workflows</li>
                  <li>Multi-step automation sequences</li>
                </ul>
              </div>
            </div>
            <div class="col-md-6">
              <div class="callout">
                <strong>üîÄ Hybrid Servers</strong>
                <ul>
                  <li>Combined tools + resources</li>
                  <li>Full-featured integrations</li>
                  <li>Enterprise system connectors</li>
                </ul>
              </div>
            </div>
          </div>

          <h2>Interaction Flow</h2>
          <div class="mermaid">
sequenceDiagram
    participant User
    participant Host as MCP Host (Claude Desktop)
    participant Client as MCP Client
    participant Server as MCP Server (File System)
    
    User->>Host: "Read my notes file"
    Host->>Client: Request resource list
    Client->>Server: resources/list
    Server-->>Client: Available resources
    Client-->>Host: Resource list
    Host->>User: Show available files
    User->>Host: Confirm selection
    Host->>Client: Read specific resource
    Client->>Server: resources/read
    Server-->>Client: File content
    Client-->>Host: Content data
    Host->>User: Display notes content
    
    Note over User,Server: User approval required for tool execution
          </div>

          <h2>Participant Relationships</h2>
          <table class="table table-striped">
            <thead>
              <tr>
                <th>Relationship</th>
                <th>Description</th>
                <th>Cardinality</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>Host ‚Üí Clients</strong></td>
                <td>One host creates and manages multiple client instances</td>
                <td>1:N</td>
              </tr>
              <tr>
                <td><strong>Client ‚Üí Server</strong></td>
                <td>Each client maintains a dedicated connection to one server</td>
                <td>1:1</td>
              </tr>
              <tr>
                <td><strong>Server ‚Üí Clients</strong></td>
                <td>A server can handle connections from multiple clients simultaneously</td>
                <td>1:N</td>
              </tr>
              <tr>
                <td><strong>User ‚Üí Host</strong></td>
                <td>Users interact only with the host application UI</td>
                <td>N:1</td>
              </tr>
            </tbody>
          </table>

        </section>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê LAYERS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <section id="layers" role="article">
          <h1>üìö Architecture Layers</h1>
          <span class="badge">layers</span> <span class="badge">protocol</span> <span class="badge">transport</span>

          <h2>Three-Layer Architecture</h2>
          <p>
            MCP is built on a <strong>three-layer architecture</strong> that provides clear separation of concerns 
            and enables flexibility in implementation and deployment.
          </p>

          <div class="mermaid">
graph TB
    subgraph "Application Layer"
        A1[Host Application Logic]
        A2[User Interface]
        A3[Business Rules]
    end
    
    subgraph "Protocol Layer"
        P1[MCP Client/Server]
        P2[JSON-RPC Messages]
        P3[Capability Negotiation]
        P4[Request/Response Handling]
    end
    
    subgraph "Transport Layer"
        T1[STDIO]
        T2[HTTP/SSE]
        T3[Future Transports]
    end
    
    A1 --> P1
    A2 --> P1
    A3 --> P1
    P1 --> P2
    P2 --> P3
    P2 --> P4
    P3 --> T1
    P3 --> T2
    P4 --> T1
    P4 --> T2
    
    style A1 fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
    style A2 fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
    style A3 fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
    style P1 fill:#fff3e0,stroke:#f57c00,stroke-width:2px
    style P2 fill:#fff3e0,stroke:#f57c00,stroke-width:2px
    style P3 fill:#fff3e0,stroke:#f57c00,stroke-width:2px
    style P4 fill:#fff3e0,stroke:#f57c00,stroke-width:2px
    style T1 fill:#e8f5e9,stroke:#388e3c,stroke-width:2px
    style T2 fill:#e8f5e9,stroke:#388e3c,stroke-width:2px
    style T3 fill:#e8f5e9,stroke:#388e3c,stroke-width:2px
          </div>

          <h2>Layer 1: Application Layer</h2>
          <div class="callout">
            <strong>Purpose:</strong> Handles business logic, user interaction, and application-specific functionality.
          </div>

          <h3>Responsibilities:</h3>
          <ul>
            <li><strong>User Interface:</strong> Presenting information and gathering input from users</li>
            <li><strong>Business Logic:</strong> Implementing application-specific rules and workflows</li>
            <li><strong>Context Management:</strong> Deciding which servers to connect to and when</li>
            <li><strong>Result Processing:</strong> Interpreting and using data from MCP servers</li>
            <li><strong>Security Enforcement:</strong> Managing user permissions and approval workflows</li>
          </ul>

          <h3>Examples:</h3>
          <table class="table table-striped">
            <thead>
              <tr>
                <th>Application Type</th>
                <th>Application Layer Duties</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>AI Chat Application</strong></td>
                <td>Chat UI, conversation management, displaying tool results, user approval prompts</td>
              </tr>
              <tr>
                <td><strong>IDE Integration</strong></td>
                <td>Code editing, file navigation, debugging integration, code completion</td>
              </tr>
              <tr>
                <td><strong>Enterprise Dashboard</strong></td>
                <td>Data visualization, report generation, role-based access control</td>
              </tr>
            </tbody>
          </table>

          <div class="callout bg-gradient-blue-light">
            <strong>üí° Key Point:</strong> The application layer is MCP-agnostic. It doesn't need to understand 
            protocol details‚Äîit just uses MCP clients to access capabilities.
          </div>

          <h2>Layer 2: Protocol Layer</h2>
          <div class="callout">
            <strong>Purpose:</strong> Implements the MCP specification using JSON-RPC 2.0 for message exchange.
          </div>

          <h3>Core Components:</h3>

          <h4>1. Message Format (JSON-RPC 2.0)</h4>
          <p>All MCP communication uses JSON-RPC 2.0 messages:</p>
          
          <pre><code class="language-json">// Request
{
  "jsonrpc": "2.0",
  "id": 1,
  "method": "tools/call",
  "params": {
    "name": "search",
    "arguments": {
      "query": "MCP documentation"
    }
  }
}

// Response
{
  "jsonrpc": "2.0",
  "id": 1,
  "result": {
    "content": [
      {
        "type": "text",
        "text": "Found 10 results for MCP documentation..."
      }
    ]
  }
}

// Notification (no response expected)
{
  "jsonrpc": "2.0",
  "method": "notifications/resources/updated",
  "params": {
    "uri": "file:///documents/notes.txt"
  }
}</code></pre>

          <h4>2. Protocol Features</h4>
          <ul>
            <li><strong>Initialization:</strong> Capability exchange and version negotiation</li>
            <li><strong>Request/Response:</strong> Synchronous operations with IDs for matching</li>
            <li><strong>Notifications:</strong> One-way messages without responses</li>
            <li><strong>Error Handling:</strong> Standardized error codes and messages</li>
            <li><strong>Pagination:</strong> Support for large result sets</li>
          </ul>

          <h4>3. Capability Negotiation</h4>
          <p>During initialization, clients and servers exchange capability information:</p>
          
          <pre><code class="language-json">// Client capabilities
{
  "capabilities": {
    "sampling": {},
    "roots": {
      "listChanged": true
    }
  }
}

// Server capabilities
{
  "capabilities": {
    "tools": {
      "listChanged": true
    },
    "resources": {
      "subscribe": true,
      "listChanged": true
    },
    "prompts": {
      "listChanged": true
    }
  }
}</code></pre>

          <h3>Protocol Operations:</h3>
          <table class="table table-striped">
            <thead>
              <tr>
                <th>Operation Type</th>
                <th>Direction</th>
                <th>Purpose</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>tools/list</strong></td>
                <td>Client ‚Üí Server</td>
                <td>Get available tools</td>
              </tr>
              <tr>
                <td><strong>tools/call</strong></td>
                <td>Client ‚Üí Server</td>
                <td>Execute a tool</td>
              </tr>
              <tr>
                <td><strong>resources/list</strong></td>
                <td>Client ‚Üí Server</td>
                <td>Get available resources</td>
              </tr>
              <tr>
                <td><strong>resources/read</strong></td>
                <td>Client ‚Üí Server</td>
                <td>Read resource content</td>
              </tr>
              <tr>
                <td><strong>prompts/list</strong></td>
                <td>Client ‚Üí Server</td>
                <td>Get available prompts</td>
              </tr>
              <tr>
                <td><strong>prompts/get</strong></td>
                <td>Client ‚Üí Server</td>
                <td>Get prompt template</td>
              </tr>
              <tr>
                <td><strong>sampling/createMessage</strong></td>
                <td>Server ‚Üí Client</td>
                <td>Request LLM sampling</td>
              </tr>
              <tr>
                <td><strong>notifications/*</strong></td>
                <td>Bidirectional</td>
                <td>State change updates</td>
              </tr>
            </tbody>
          </table>

          <h2>Layer 3: Transport Layer</h2>
          <div class="callout">
            <strong>Purpose:</strong> Handles the actual transmission of messages between clients and servers.
          </div>

          <h3>Supported Transports:</h3>

          <h4>1. STDIO Transport</h4>
          <div class="callout bg-gradient-green-light">
            <strong>Best For:</strong> Local servers, simple integrations, development and testing
          </div>
          
          <p><strong>Characteristics:</strong></p>
          <ul>
            <li>Uses standard input/output streams</li>
            <li>Server runs as a subprocess of the client</li>
            <li>Simple process lifecycle management</li>
            <li>No network configuration required</li>
            <li>Automatic cleanup when client exits</li>
          </ul>

          <p><strong>Use Cases:</strong></p>
          <ul>
            <li>Local filesystem access</li>
            <li>Development tools and IDE integrations</li>
            <li>Desktop applications</li>
            <li>Quick prototypes and testing</li>
          </ul>

          <h4>2. HTTP with Server-Sent Events (SSE)</h4>
          <div class="callout bg-gradient-green-light">
            <strong>Best For:</strong> Remote servers, cloud deployments, web applications
          </div>
          
          <p><strong>Characteristics:</strong></p>
          <ul>
            <li>HTTP POST for client-to-server requests</li>
            <li>Server-Sent Events (SSE) for server-to-client messages</li>
            <li>Works over standard HTTP/HTTPS</li>
            <li>Firewall and proxy friendly</li>
            <li>Supports authentication and authorization</li>
          </ul>

          <p><strong>Use Cases:</strong></p>
          <ul>
            <li>Cloud-hosted MCP servers</li>
            <li>Multi-user applications</li>
            <li>Enterprise integrations with security requirements</li>
            <li>Web-based AI applications</li>
          </ul>

          <h3>Transport Comparison:</h3>
          <table class="table table-striped">
            <thead>
              <tr>
                <th>Aspect</th>
                <th>STDIO</th>
                <th>HTTP/SSE</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>Setup Complexity</strong></td>
                <td>‚úÖ Very simple</td>
                <td>‚ö†Ô∏è Moderate (requires server setup)</td>
              </tr>
              <tr>
                <td><strong>Network Required</strong></td>
                <td>‚ùå No</td>
                <td>‚úÖ Yes</td>
              </tr>
              <tr>
                <td><strong>Remote Access</strong></td>
                <td>‚ùå No</td>
                <td>‚úÖ Yes</td>
              </tr>
              <tr>
                <td><strong>Multi-Client</strong></td>
                <td>‚ùå Single client per server process</td>
                <td>‚úÖ Multiple clients supported</td>
              </tr>
              <tr>
                <td><strong>Authentication</strong></td>
                <td>‚ö†Ô∏è OS-level only</td>
                <td>‚úÖ HTTP-based auth</td>
              </tr>
              <tr>
                <td><strong>Performance</strong></td>
                <td>‚úÖ Lower latency (local)</td>
                <td>‚ö†Ô∏è Network-dependent</td>
              </tr>
            </tbody>
          </table>

          <h2>Layer Interaction Example</h2>
          <div class="mermaid">
sequenceDiagram
    participant App as Application Layer (Claude Desktop)
    participant Proto as Protocol Layer (MCP Client)
    participant Trans as Transport Layer (STDIO)
    participant Server as MCP Server
    
    App->>Proto: Call tool "search"
    Proto->>Proto: Create JSON-RPC request
    Proto->>Trans: Send message
    Trans->>Server: Write to STDIN
    Server->>Trans: Write to STDOUT
    Trans->>Proto: Receive message
    Proto->>Proto: Parse JSON-RPC response
    Proto->>App: Return tool result
    App->>App: Display to user
    
    Note over App,Server: Each layer focuses on its specific concerns
          </div>

          <h2>Benefits of Layered Architecture</h2>
          <div class="row">
            <div class="col-md-4">
              <div class="callout">
                <strong>üîÑ Flexibility</strong><br/>
                Swap transports without changing protocol or application code
              </div>
            </div>
            <div class="col-md-4">
              <div class="callout">
                <strong>üß™ Testability</strong><br/>
                Test each layer independently with mocks and stubs
              </div>
            </div>
            <div class="col-md-4">
              <div class="callout">
                <strong>üìà Evolvability</strong><br/>
                Extend capabilities at each layer without breaking others
              </div>
            </div>
          </div>

        </section>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê LIFECYCLE ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <section id="lifecycle" role="article">
          <h1>üîÑ Connection Lifecycle</h1>
          <span class="badge">lifecycle</span> <span class="badge">initialization</span> <span class="badge">state</span>

          <h2>Overview</h2>
          <p>
            An MCP connection goes through several distinct phases from initialization to termination. Understanding 
            this lifecycle is essential for building robust clients and servers.
          </p>

          <h2>Lifecycle Phases</h2>
          <div class="mermaid">
stateDiagram-v2
    [*] --> Connecting: Client initiates
    Connecting --> Initializing: Transport established
    Initializing --> Ready: Capabilities exchanged
    Ready --> Operating: Normal operation
    Operating --> Operating: Requests & notifications
    Operating --> Closing: Shutdown initiated
    Closing --> Closed: Cleanup complete
    Closed --> [*]
    
    Connecting --> Failed: Connection error
    Initializing --> Failed: Init error
    Operating --> Failed: Fatal error
    Failed --> [*]
          </div>

          <h2>Phase 1: Connecting</h2>
          <div class="callout">
            <strong>Purpose:</strong> Establish the transport-level connection between client and server
          </div>

          <h3>STDIO Transport:</h3>
          <pre><code class="language-javascript">// Client spawns server process
const serverProcess = spawn('node', ['server.js'], {
  stdio: ['pipe', 'pipe', 'inherit']
});

// Client connects to server's STDIN/STDOUT
const client = new Client({
  transport: new StdioClientTransport({
    command: 'node',
    args: ['server.js']
  })
});</code></pre>

          <h3>HTTP Transport:</h3>
          <pre><code class="language-javascript">// Client connects to HTTP endpoint
const client = new Client({
  transport: new SSEClientTransport(
    new URL('http://localhost:3000/mcp')
  )
});</code></pre>

          <h3>What Happens:</h3>
          <ul>
            <li>Transport connection is established</li>
            <li>Client and server verify they can communicate</li>
            <li>Error handling is set up</li>
          </ul>

          <h2>Phase 2: Initializing</h2>
          <div class="callout">
            <strong>Purpose:</strong> Exchange capabilities and establish protocol-level connection
          </div>

          <h3>Initialization Handshake:</h3>
          <div class="mermaid">
sequenceDiagram
    participant Client
    participant Server
    
    Client->>Server: initialize request<br/>{protocolVersion, capabilities, clientInfo}
    Server->>Server: Validate protocol version
    Server-->>Client: initialize response<br/>{protocolVersion, capabilities, serverInfo}
    Client->>Client: Validate capabilities
    Client->>Server: initialized notification
    Server->>Server: Mark connection as ready
    
    Note over Client,Server: Connection now ready for operations
          </div>

          <h3>Initialize Request:</h3>
          <pre><code class="language-json">{
  "jsonrpc": "2.0",
  "id": 1,
  "method": "initialize",
  "params": {
    "protocolVersion": "2024-11-05",
    "capabilities": {
      "sampling": {},
      "roots": {
        "listChanged": true
      }
    },
    "clientInfo": {
      "name": "ExampleClient",
      "version": "1.0.0"
    }
  }
}</code></pre>

          <h3>Initialize Response:</h3>
          <pre><code class="language-json">{
  "jsonrpc": "2.0",
  "id": 1,
  "result": {
    "protocolVersion": "2024-11-05",
    "capabilities": {
      "tools": {
        "listChanged": true
      },
      "resources": {
        "subscribe": true,
        "listChanged": true
      },
      "prompts": {
        "listChanged": true
      }
    },
    "serverInfo": {
      "name": "ExampleServer",
      "version": "1.0.0"
    }
  }
}</code></pre>

          <h3>Initialized Notification:</h3>
          <pre><code class="language-json">{
  "jsonrpc": "2.0",
  "method": "notifications/initialized"
}</code></pre>

          <h3>Key Points:</h3>
          <ul>
            <li><strong>Version Negotiation:</strong> Both parties agree on protocol version</li>
            <li><strong>Capability Declaration:</strong> Each side declares what features it supports</li>
            <li><strong>Optional Features:</strong> Clients and servers can check capabilities before using them</li>
            <li><strong>Metadata Exchange:</strong> Name and version information shared for logging/debugging</li>
          </ul>

          <h2>Phase 3: Ready / Operating</h2>
          <div class="callout">
            <strong>Purpose:</strong> Normal operation with request/response and notifications
          </div>

          <h3>Common Operations:</h3>

          <h4>Listing Capabilities:</h4>
          <pre><code class="language-javascript">// List available tools
const tools = await client.request({
  method: 'tools/list'
});

// List resources
const resources = await client.request({
  method: 'resources/list'
});

// List prompts
const prompts = await client.request({
  method: 'prompts/list'
});</code></pre>

          <h4>Using Tools:</h4>
          <pre><code class="language-javascript">// Call a tool
const result = await client.request({
  method: 'tools/call',
  params: {
    name: 'search',
    arguments: {
      query: 'MCP documentation',
      maxResults: 10
    }
  }
});</code></pre>

          <h4>Reading Resources:</h4>
          <pre><code class="language-javascript">// Read a resource
const content = await client.request({
  method: 'resources/read',
  params: {
    uri: 'file:///path/to/document.txt'
  }
});</code></pre>

          <h4>Handling Notifications:</h4>
          <pre><code class="language-javascript">// Server sends notification about resource change
client.onNotification('notifications/resources/updated', (params) => {
  console.log('Resource updated:', params.uri);
  // Refresh UI or take other action
});</code></pre>

          <h3>State Management:</h3>
          <table class="table table-striped">
            <thead>
              <tr>
                <th>Aspect</th>
                <th>Client Responsibility</th>
                <th>Server Responsibility</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>Request IDs</strong></td>
                <td>Generate unique IDs, track pending requests</td>
                <td>Echo request ID in response</td>
              </tr>
              <tr>
                <td><strong>Subscriptions</strong></td>
                <td>Manage resource subscriptions, handle updates</td>
                <td>Send notifications when subscribed resources change</td>
              </tr>
              <tr>
                <td><strong>Caching</strong></td>
                <td>Cache tool/resource lists, invalidate on notifications</td>
                <td>Send listChanged notifications when lists update</td>
              </tr>
              <tr>
                <td><strong>Error Recovery</strong></td>
                <td>Retry failed requests, reconnect if needed</td>
                <td>Return meaningful error codes and messages</td>
              </tr>
            </tbody>
          </table>

          <h2>Phase 4: Closing</h2>
          <div class="callout">
            <strong>Purpose:</strong> Gracefully shut down the connection
          </div>

          <h3>Shutdown Sequence:</h3>
          <div class="mermaid">
sequenceDiagram
    participant Client
    participant Server
    
    Client->>Client: Decide to close
    Client->>Server: Close any subscriptions
    Client->>Client: Cancel pending requests
    Client->>Server: Close transport connection
    Server->>Server: Cleanup resources
    Server->>Server: Close file handles
    Server->>Server: Disconnect from databases
    
    Note over Client,Server: Connection closed cleanly
          </div>

          <h3>Client-Side Cleanup:</h3>
          <pre><code class="language-javascript">// Graceful shutdown
async function shutdown() {
  // Unsubscribe from all resources
  for (const uri of subscribedResources) {
    await client.request({
      method: 'resources/unsubscribe',
      params: { uri }
    });
  }
  
  // Close the connection
  await client.close();
  
  // STDIO: server process terminates automatically
  // HTTP: SSE connection closes
}</code></pre>

          <h3>Server-Side Cleanup:</h3>
          <pre><code class="language-javascript">// Server cleanup on disconnect
server.on('disconnect', async () => {
  // Close database connections
  await db.close();
  
  // Close file handles
  fileHandles.forEach(fh => fh.close());
  
  // Clear caches
  cache.clear();
  
  // Log disconnect
  logger.info('Client disconnected');
});</code></pre>

          <h2>Error Handling</h2>
          <div class="callout">
            <strong>Best Practice:</strong> Handle errors at each phase appropriately
          </div>

          <div class="code-tabs">
            <ul class="nav nav-tabs" role="tablist">
              <li class="nav-item" role="presentation">
                <button class="nav-link active" id="error-connection-tab" data-bs-toggle="tab" data-bs-target="#error-connection" type="button" role="tab">Connection Errors</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" id="error-initialization-tab" data-bs-toggle="tab" data-bs-target="#error-initialization" type="button" role="tab">Initialization Errors</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" id="error-runtime-tab" data-bs-toggle="tab" data-bs-target="#error-runtime" type="button" role="tab">Runtime Errors</button>
              </li>
            </ul>
            <div class="tab-content">
              <div class="tab-pane fade show active" id="error-connection" role="tabpanel">
                <pre><code class="language-javascript">try {
  await client.connect();
} catch (error) {
  if (error.code === 'ECONNREFUSED') {
    console.error('Server not running');
  } else if (error.code === 'ETIMEDOUT') {
    console.error('Connection timeout');
  } else {
    console.error('Connection failed:', error);
  }
}</code></pre>
              </div>
              <div class="tab-pane fade" id="error-initialization" role="tabpanel">
                <pre><code class="language-javascript">try {
  await client.initialize();
} catch (error) {
  if (error.code === -32602) {
    console.error('Invalid initialization parameters');
  } else if (error.message.includes('unsupported protocol')) {
    console.error('Protocol version mismatch');
  }
}</code></pre>
              </div>
              <div class="tab-pane fade" id="error-runtime" role="tabpanel">
                <pre><code class="language-javascript">try {
  const result = await client.request({
    method: 'tools/call',
    params: { name: 'search', arguments: { query: 'test' } }
  });
} catch (error) {
  if (error.code === -32601) {
    console.error('Tool not found');
  } else if (error.code === -32603) {
    console.error('Tool execution failed:', error.message);
  }
}</code></pre>
              </div>
            </div>
          </div>

          <h2>Lifecycle Best Practices</h2>
          <div class="row">
            <div class="col-md-6">
              <div class="callout">
                <strong>‚úÖ DO</strong>
                <ul>
                  <li>Implement proper initialization sequence</li>
                  <li>Handle capability negotiation correctly</li>
                  <li>Clean up resources on disconnect</li>
                  <li>Implement reconnection logic for HTTP</li>
                  <li>Log state transitions for debugging</li>
                  <li>Set reasonable timeouts for operations</li>
                </ul>
              </div>
            </div>
            <div class="col-md-6">
              <div class="callout">
                <strong>‚ùå DON'T</strong>
                <ul>
                  <li>Skip capability negotiation</li>
                  <li>Assume all features are available</li>
                  <li>Leave connections open indefinitely</li>
                  <li>Ignore initialization errors</li>
                  <li>Send requests before initialization completes</li>
                  <li>Forget to handle disconnects</li>
                </ul>
              </div>
            </div>
          </div>

          <h2>Connection Lifecycle Summary</h2>
          <table class="table table-striped">
            <thead>
              <tr>
                <th>Phase</th>
                <th>Duration</th>
                <th>Key Activities</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>Connecting</strong></td>
                <td>1-5 seconds</td>
                <td>Transport establishment, process spawning (STDIO), HTTP connection</td>
              </tr>
              <tr>
                <td><strong>Initializing</strong></td>
                <td>1-3 seconds</td>
                <td>Protocol handshake, capability exchange, version negotiation</td>
              </tr>
              <tr>
                <td><strong>Operating</strong></td>
                <td>Variable</td>
                <td>Normal request/response, notifications, state management</td>
              </tr>
              <tr>
                <td><strong>Closing</strong></td>
                <td>1-3 seconds</td>
                <td>Unsubscribe, cleanup, transport closure</td>
              </tr>
            </tbody>
          </table>

        </section>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê SERVER PRIMITIVES ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <section id="server-primitives" role="article">
          <h1>üîß Server Primitives</h1>
          <span class="badge">primitives</span> <span class="badge">features</span> <span class="badge">capabilities</span>

          <h2>Overview</h2>
          <p>
            MCP servers expose three core <strong>primitives</strong> that enable rich interactions between AI applications 
            and external systems. Each primitive serves a distinct purpose and provides specific capabilities to clients.
          </p>

          <h2>The Three Primitives</h2>
          <div class="mermaid">
graph TB
    subgraph "MCP Server Capabilities"
        A[MCP Server]
        B[üõ†Ô∏è Tools]
        C[üìÑ Resources]
        D[üí¨ Prompts]
    end
    
    A --> B
    A --> C
    A --> D
    
    B --> E[Execute Actions<br/>Search, Calculate<br/>API Calls]
    C --> F[Provide Data<br/>Files, Databases<br/>Context]
    D --> G[Template Workflows<br/>Instructions<br/>Multi-step Tasks]
    
    style A fill:#e3f2fd,stroke:#1976d2,stroke-width:3px
    style B fill:#fff3e0,stroke:#f57c00,stroke-width:2px
    style C fill:#e8f5e9,stroke:#388e3c,stroke-width:2px
    style D fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px
    style E fill:#fff3e0,stroke:#f57c00,stroke-width:1px
    style F fill:#e8f5e9,stroke:#388e3c,stroke-width:1px
    style G fill:#f3e5f5,stroke:#7b1fa2,stroke-width:1px
          </div>

          <h2>Primitive Comparison</h2>
          <table class="table table-striped">
            <thead>
              <tr>
                <th>Primitive</th>
                <th>Purpose</th>
                <th>Direction</th>
                <th>User Approval</th>
                <th>Examples</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>üõ†Ô∏è Tools</strong></td>
                <td>Execute actions and perform operations</td>
                <td>Client ‚Üí Server</td>
                <td>‚úÖ Required</td>
                <td>Search, calculate, send email, create file</td>
              </tr>
              <tr>
                <td><strong>üìÑ Resources</strong></td>
                <td>Provide data and context</td>
                <td>Client ‚Üí Server</td>
                <td>‚ùå Not required</td>
                <td>Read file, query database, fetch URL</td>
              </tr>
              <tr>
                <td><strong>üí¨ Prompts</strong></td>
                <td>Provide templated workflows</td>
                <td>Client ‚Üí Server</td>
                <td>‚ùå Not required</td>
                <td>Code review template, analysis workflow</td>
              </tr>
            </tbody>
          </table>

          <h2>When to Use Each Primitive</h2>
          
          <h3>Use Tools When:</h3>
          <ul>
            <li>You need to <strong>perform actions</strong> that change state</li>
            <li>Operations require <strong>user approval</strong> for safety</li>
            <li>You're <strong>integrating with APIs</strong> that modify data</li>
            <li>Results depend on <strong>dynamic inputs</strong> from the AI</li>
          </ul>

          <h3>Use Resources When:</h3>
          <ul>
            <li>You need to <strong>provide context</strong> to the AI</li>
            <li>Data is <strong>read-only</strong> or doesn't require user confirmation</li>
            <li>You're exposing <strong>reference material</strong> or documentation</li>
            <li>Content is <strong>structured and URI-addressable</strong></li>
          </ul>

          <h3>Use Prompts When:</h3>
          <ul>
            <li>You have <strong>reusable workflows</strong> that users frequently need</li>
            <li>You want to provide <strong>guided interactions</strong></li>
            <li>You need <strong>parameterized templates</strong> with dynamic values</li>
            <li>You're creating <strong>domain-specific wizards</strong></li>
          </ul>

          <h2>Combining Primitives</h2>
          <p>
            Servers can expose any combination of primitives based on their functionality:
          </p>

          <div class="row">
            <div class="col-md-6">
              <div class="callout">
                <strong>üìÅ Filesystem Server</strong>
                <ul>
                  <li><strong>Resources:</strong> List and read files</li>
                  <li><strong>Tools:</strong> Create, move, delete files</li>
                  <li><strong>Prompts:</strong> File organization workflows</li>
                </ul>
              </div>
            </div>
            <div class="col-md-6">
              <div class="callout">
                <strong>üíæ Database Server</strong>
                <ul>
                  <li><strong>Resources:</strong> Query results, table schemas</li>
                  <li><strong>Tools:</strong> Execute INSERT/UPDATE/DELETE</li>
                  <li><strong>Prompts:</strong> Data analysis templates</li>
                </ul>
              </div>
            </div>
          </div>

          <h2>Discovery Pattern</h2>
          <p>All primitives follow a consistent <strong>list-then-use</strong> pattern:</p>

          <div class="mermaid">
sequenceDiagram
    participant Client
    participant Server
    
    Note over Client,Server: Discovery Phase
    Client->>Server: List available primitives
    Server-->>Client: Return list of tools/resources/prompts
    
    Note over Client,Server: Usage Phase
    Client->>Server: Use specific primitive
    Server-->>Client: Return result
    
    Note over Client,Server: Optional: Change Notifications
    Server->>Client: Notify when list changes
          </div>

          <h2>Common Patterns</h2>

          <h3>1. List Changed Notifications</h3>
          <p>Servers can notify clients when their primitive lists change:</p>
          <pre><code class="language-json">{
  "jsonrpc": "2.0",
  "method": "notifications/tools/list_changed"
}

{
  "jsonrpc": "2.0",
  "method": "notifications/resources/list_changed"
}</code></pre>

          <h3>2. Pagination</h3>
          <p>For servers with many primitives, pagination is supported:</p>
          <pre><code class="language-json">// Request with pagination
{
  "method": "resources/list",
  "params": {
    "cursor": "next_page_token"
  }
}

// Response
{
  "resources": [...],
  "nextCursor": "another_page_token"
}</code></pre>

          <h3>3. URI-Based Addressing</h3>
          <p>Resources use URIs for consistent identification:</p>
          <pre><code class="language-text">file:///path/to/document.txt
db://database-name/table-name/row-id
https://api.example.com/data/resource
custom://my-server/resource-type/id</code></pre>

        </section>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê TOOLS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <section id="tools" role="article">
          <h1>üõ†Ô∏è Tools</h1>
          <span class="badge">tools</span> <span class="badge">functions</span> <span class="badge">actions</span>

          <h2>What Are Tools?</h2>
          <p>
            <strong>Tools</strong> are functions that MCP servers expose to clients, allowing AI models to <strong>perform 
            actions</strong> and interact with external systems. Tools are the action-oriented primitive in MCP.
          </p>

          <div class="callout">
            <strong>üéØ Key Characteristic:</strong> Tools execute actions that may have side effects. Because of this, 
            <strong>user approval is required</strong> before any tool execution.
          </div>

          <h2>Tool Definition</h2>
          <p>Each tool consists of:</p>
          
          <table class="table table-striped">
            <thead>
              <tr>
                <th>Property</th>
                <th>Description</th>
                <th>Required</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>name</strong></td>
                <td>Unique identifier for the tool</td>
                <td>‚úÖ Yes</td>
              </tr>
              <tr>
                <td><strong>description</strong></td>
                <td>Human-readable explanation of what the tool does</td>
                <td>‚úÖ Yes</td>
              </tr>
              <tr>
                <td><strong>inputSchema</strong></td>
                <td>JSON Schema defining required and optional parameters</td>
                <td>‚úÖ Yes</td>
              </tr>
            </tbody>
          </table>

          <h2>Tool Lifecycle</h2>
          <div class="mermaid">
sequenceDiagram
    participant User
    participant Host
    participant Client
    participant Server
    
    Note over Client,Server: 1. Discovery
    Client->>Server: tools/list
    Server-->>Client: List of available tools
    Client-->>Host: Tool definitions
    
    Note over User,Host: 2. AI Decision
    User->>Host: "Search for MCP docs"
    Host->>Host: LLM decides to use "search" tool
    
    Note over User,Host: 3. User Approval
    Host->>User: Request approval for tool execution
    User->>Host: Approve
    
    Note over Client,Server: 4. Execution
    Host->>Client: Call tool with arguments
    Client->>Server: tools/call
    Server->>Server: Execute tool logic
    Server-->>Client: Tool result
    Client-->>Host: Result content
    Host->>User: Display results
          </div>

          <h2>Example: Search Tool</h2>

          <div class="code-tabs">
            <ul class="nav nav-tabs" role="tablist">
              <li class="nav-item" role="presentation">
                <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#search-tool-definition" type="button" role="tab">Tool Definition</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#search-tool-request" type="button" role="tab">Tool Call Request</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#search-tool-response" type="button" role="tab">Tool Call Response</button>
              </li>
            </ul>
            <div class="tab-content">
              <div class="tab-pane fade show active" id="search-tool-definition" role="tabpanel">
                <pre><code class="language-json">{
  "name": "search",
  "description": "Search the web for information about a query",
  "inputSchema": {
    "type": "object",
    "properties": {
      "query": {
        "type": "string",
        "description": "The search query"
      },
      "maxResults": {
        "type": "number",
        "description": "Maximum number of results to return",
        "default": 10
      }
    },
    "required": ["query"]
  }
}</code></pre>
              </div>
              <div class="tab-pane fade" id="search-tool-request" role="tabpanel">
                <pre><code class="language-json">{
  "jsonrpc": "2.0",
  "id": 1,
  "method": "tools/call",
  "params": {
    "name": "search",
    "arguments": {
      "query": "Model Context Protocol documentation",
      "maxResults": 5
    }
  }
}</code></pre>
              </div>
              <div class="tab-pane fade" id="search-tool-response" role="tabpanel">
                <pre><code class="language-json">{
  "jsonrpc": "2.0",
  "id": 1,
  "result": {
    "content": [
      {
        "type": "text",
        "text": "Found 5 results:\n1. MCP Official Documentation - https://modelcontextprotocol.io\n..."
      }
    ],
    "isError": false
  }
}</code></pre>
              </div>
            </div>
          </div>

          <h2>Tool Response Types</h2>
          <p>Tools can return different content types:</p>

          <div class="code-tabs">
            <ul class="nav nav-tabs" role="tablist">
              <li class="nav-item" role="presentation">
                <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#tool-resp-text" type="button" role="tab">Text Content</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#tool-resp-image" type="button" role="tab">Image Content</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#tool-resp-resource" type="button" role="tab">Resource References</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#tool-resp-multiple" type="button" role="tab">Multiple Content Items</button>
              </li>
            </ul>
            <div class="tab-content">
              <div class="tab-pane fade show active" id="tool-resp-text" role="tabpanel">
                <pre><code class="language-json">{
  "content": [
    {
      "type": "text",
      "text": "Operation completed successfully"
    }
  ]
}</code></pre>
              </div>
              <div class="tab-pane fade" id="tool-resp-image" role="tabpanel">
                <pre><code class="language-json">{
  "content": [
    {
      "type": "image",
      "data": "base64-encoded-image-data",
      "mimeType": "image/png"
    }
  ]
}</code></pre>
              </div>
              <div class="tab-pane fade" id="tool-resp-resource" role="tabpanel">
                <pre><code class="language-json">{
  "content": [
    {
      "type": "resource",
      "resource": {
        "uri": "file:///created/file.txt",
        "mimeType": "text/plain",
        "text": "File content here"
      }
    }
  ]
}</code></pre>
              </div>
              <div class="tab-pane fade" id="tool-resp-multiple" role="tabpanel">
                <pre><code class="language-json">{
  "content": [
    {
      "type": "text",
      "text": "Analysis complete. Here's the chart:"
    },
    {
      "type": "image",
      "data": "base64-chart-data",
      "mimeType": "image/png"
    }
  ]
}</code></pre>
              </div>
            </div>
          </div>

          <h2>Built-in Tool Patterns</h2>

          <div class="code-tabs">
            <ul class="nav nav-tabs" role="tablist">
              <li class="nav-item" role="presentation">
                <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#tool-pattern-file" type="button" role="tab">File Operations</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#tool-pattern-api" type="button" role="tab">API Integration</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#tool-pattern-data" type="button" role="tab">Data Processing</button>
              </li>
            </ul>
            <div class="tab-content">
              <div class="tab-pane fade show active" id="tool-pattern-file" role="tabpanel">
                <pre><code class="language-javascript">// Example: File creation tool
{
  name: "create_file",
  description: "Create a new file with specified content",
  inputSchema: {
    type: "object",
    properties: {
      path: { type: "string", description: "File path" },
      content: { type: "string", description: "File content" },
      overwrite: { type: "boolean", default: false }
    },
    required: ["path", "content"]
  }
}</code></pre>
              </div>
              <div class="tab-pane fade" id="tool-pattern-api" role="tabpanel">
                <pre><code class="language-javascript">// Example: API call tool
{
  name: "fetch_weather",
  description: "Get current weather for a location",
  inputSchema: {
    type: "object",
    properties: {
      location: { type: "string", description: "City name or coordinates" },
      units: { 
        type: "string", 
        enum: ["metric", "imperial"],
        default: "metric"
      }
    },
    required: ["location"]
  }
}</code></pre>
              </div>
              <div class="tab-pane fade" id="tool-pattern-data" role="tabpanel">
                <pre><code class="language-javascript">// Example: Data analysis tool
{
  name: "analyze_data",
  description: "Perform statistical analysis on a dataset",
  inputSchema: {
    type: "object",
    properties: {
      data: { 
        type: "array", 
        items: { type: "number" },
        description: "Data points to analyze"
      },
      operation: {
        type: "string",
        enum: ["mean", "median", "std", "summary"],
        description: "Type of analysis"
      }
    },
    required: ["data", "operation"]
  }
}</code></pre>
              </div>
            </div>
          </div>

          <h2>Error Handling</h2>
          <p>Tools should return errors when operations fail:</p>

          <h3>Successful Execution:</h3>
          <pre><code class="language-json">{
  "content": [...],
  "isError": false
}</code></pre>

          <h3>Failed Execution:</h3>
          <pre><code class="language-json">{
  "content": [
    {
      "type": "text",
      "text": "Error: File not found at path /invalid/path"
    }
  ],
  "isError": true
}</code></pre>

          <h2>Best Practices for Tool Design</h2>

          <div class="row">
            <div class="col-md-6">
              <div class="callout">
                <strong>‚úÖ DO</strong>
                <ul>
                  <li>Use clear, descriptive tool names</li>
                  <li>Provide detailed descriptions</li>
                  <li>Define comprehensive input schemas</li>
                  <li>Include parameter descriptions</li>
                  <li>Set sensible defaults</li>
                  <li>Return structured, informative results</li>
                  <li>Handle errors gracefully</li>
                  <li>Keep tools focused (single responsibility)</li>
                </ul>
              </div>
            </div>
            <div class="col-md-6">
              <div class="callout">
                <strong>‚ùå DON'T</strong>
                <ul>
                  <li>Use ambiguous tool names</li>
                  <li>Skip input validation</li>
                  <li>Create overly complex tools</li>
                  <li>Perform destructive operations without safety checks</li>
                  <li>Return unstructured error messages</li>
                  <li>Ignore timeout considerations</li>
                  <li>Make tools too general-purpose</li>
                </ul>
              </div>
            </div>
          </div>

          <h2>Security Considerations</h2>
          <div class="callout bg-gradient-red">
            <strong>‚ö†Ô∏è Critical Security Points:</strong>
            <ul>
              <li><strong>User Approval Required:</strong> All tool calls must be approved by the user</li>
              <li><strong>Input Validation:</strong> Always validate tool arguments against the schema</li>
              <li><strong>Sandboxing:</strong> Tools should operate within appropriate security boundaries</li>
              <li><strong>Audit Logging:</strong> Log all tool executions for security review</li>
              <li><strong>Rate Limiting:</strong> Implement rate limits to prevent abuse</li>
              <li><strong>Access Control:</strong> Verify permissions before executing operations</li>
            </ul>
          </div>

          <h2>Implementation Example</h2>
          <pre><code class="language-typescript">// Server-side tool implementation (TypeScript SDK)
server.setRequestHandler(ListToolsRequestSchema, async () => {
  return {
    tools: [
      {
        name: "search",
        description: "Search for information",
        inputSchema: {
          type: "object",
          properties: {
            query: {
              type: "string",
              description: "Search query"
            }
          },
          required: ["query"]
        }
      }
    ]
  };
});

server.setRequestHandler(CallToolRequestSchema, async (request) => {
  if (request.params.name === "search") {
    const query = request.params.arguments?.query;
    
    // Validate input
    if (!query || typeof query !== 'string') {
      return {
        content: [{
          type: "text",
          text: "Error: Invalid query parameter"
        }],
        isError: true
      };
    }
    
    // Execute search
    const results = await performSearch(query);
    
    return {
      content: [{
        type: "text",
        text: `Found ${results.length} results: ${results.join(', ')}`
      }],
      isError: false
    };
  }
  
  throw new Error(`Unknown tool: ${request.params.name}`);
});</code></pre>

        </section>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê RESOURCES PRIMITIVE ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <section id="mcp-resources" role="article">
          <h1>üìÑ Resources</h1>
          <span class="badge">resources</span> <span class="badge">data</span> <span class="badge">context</span>

          <h2>What Are Resources?</h2>
          <p>
            <strong>Resources</strong> are data sources that MCP servers expose to clients. They represent any kind of 
            <strong>data or context</strong> that an AI model might need to access‚Äîfiles, database queries, API responses, 
            or any other structured information.
          </p>

          <div class="callout">
            <strong>üéØ Key Characteristic:</strong> Resources are <strong>read-only</strong> from the client's perspective. 
            They provide context and data without requiring user approval.
          </div>

          <h2>Resource Definition</h2>
          <p>Each resource consists of:</p>
          
          <table class="table table-striped">
            <thead>
              <tr>
                <th>Property</th>
                <th>Description</th>
                <th>Required</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>uri</strong></td>
                <td>Unique identifier for the resource (URI format)</td>
                <td>‚úÖ Yes</td>
              </tr>
              <tr>
                <td><strong>name</strong></td>
                <td>Human-readable name</td>
                <td>‚úÖ Yes</td>
              </tr>
              <tr>
                <td><strong>description</strong></td>
                <td>Explanation of what the resource contains</td>
                <td>‚ùå Optional</td>
              </tr>
              <tr>
                <td><strong>mimeType</strong></td>
                <td>Content type (e.g., text/plain, application/json)</td>
                <td>‚ùå Optional</td>
              </tr>
            </tbody>
          </table>

          <h2>Resource Lifecycle</h2>
          <div class="mermaid">
sequenceDiagram
    participant Client
    participant Server
    
    Note over Client,Server: 1. Discovery
    Client->>Server: resources/list
    Server-->>Client: List of available resources
    
    Note over Client,Server: 2. Reading
    Client->>Server: resources/read<br/>{uri: "file:///doc.txt"}
    Server->>Server: Fetch resource content
    Server-->>Client: Resource content
    
    Note over Client,Server: 3. Optional: Subscriptions
    Client->>Server: resources/subscribe<br/>{uri: "file:///doc.txt"}
    Server-->>Client: Subscription confirmed
    
    Note over Client,Server: 4. Change Notifications
    Server->>Client: notifications/resources/updated<br/>{uri: "file:///doc.txt"}
          </div>

          <h2>URI Schemes</h2>
          <p>Resources use URIs for identification. Common schemes include:</p>

          <h3>File Resources:</h3>
          <pre><code class="language-text">file:///absolute/path/to/file.txt
file:///C:/Users/Documents/notes.md
file:///{workspace}/src/main.rs</code></pre>

          <h3>Custom Schemes:</h3>
          <pre><code class="language-text">db://database-name/table-name/row-id
api://service-name/endpoint/resource-id
repo://github.com/user/repo/blob/main/README.md
note://notion/page-id</code></pre>

          <h3>HTTP Resources:</h3>
          <pre><code class="language-text">https://api.example.com/data/users/123
http://internal-service/config/settings</code></pre>

          <h2>Example: Filesystem Resources</h2>

          <div class="code-tabs">
            <ul class="nav nav-tabs" role="tablist">
              <li class="nav-item" role="presentation">
                <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#fs-resource-list" type="button" role="tab">Resource List</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#fs-read-request" type="button" role="tab">Read Request</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#fs-read-response" type="button" role="tab">Read Response</button>
              </li>
            </ul>
            <div class="tab-content">
              <div class="tab-pane fade show active" id="fs-resource-list" role="tabpanel">
                <pre><code class="language-json">{
  "resources": [
    {
      "uri": "file:///home/user/documents/notes.txt",
      "name": "Personal Notes",
      "description": "Daily notes and reminders",
      "mimeType": "text/plain"
    },
    {
      "uri": "file:///home/user/projects/config.json",
      "name": "Project Configuration",
      "description": "Application configuration settings",
      "mimeType": "application/json"
    }
  ]
}</code></pre>
              </div>
              <div class="tab-pane fade" id="fs-read-request" role="tabpanel">
                <pre><code class="language-json">{
  "jsonrpc": "2.0",
  "id": 1,
  "method": "resources/read",
  "params": {
    "uri": "file:///home/user/documents/notes.txt"
  }
}</code></pre>
              </div>
              <div class="tab-pane fade" id="fs-read-response" role="tabpanel">
                <pre><code class="language-json">{
  "jsonrpc": "2.0",
  "id": 1,
  "result": {
    "contents": [
      {
        "uri": "file:///home/user/documents/notes.txt",
        "mimeType": "text/plain",
        "text": "Meeting at 3pm\nBuy groceries\nFinish report"
      }
    ]
  }
}</code></pre>
              </div>
            </div>
          </div>

          <h2>Resource Content Types</h2>

          <div class="code-tabs">
            <ul class="nav nav-tabs" role="tablist">
              <li class="nav-item" role="presentation">
                <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#resource-text" type="button" role="tab">Text Content</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#resource-binary" type="button" role="tab">Binary Content (Base64)</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#resource-json" type="button" role="tab">JSON Data</button>
              </li>
            </ul>
            <div class="tab-content">
              <div class="tab-pane fade show active" id="resource-text" role="tabpanel">
                <pre><code class="language-json">{
  "uri": "file:///document.txt",
  "mimeType": "text/plain",
  "text": "This is text content"
}</code></pre>
              </div>
              <div class="tab-pane fade" id="resource-binary" role="tabpanel">
                <pre><code class="language-json">{
  "uri": "file:///image.png",
  "mimeType": "image/png",
  "blob": "iVBORw0KGgoAAAANSUhEUgA..."
}</code></pre>
              </div>
              <div class="tab-pane fade" id="resource-json" role="tabpanel">
                <pre><code class="language-json">{
  "uri": "db://users/123",
  "mimeType": "application/json",
  "text": "{\"id\": 123, \"name\": \"John\", \"role\": \"admin\"}"
}</code></pre>
              </div>
            </div>
          </div>

          <h2>Resource Templates</h2>
          <p>
            Resources can use <strong>URI templates</strong> to represent dynamic collections:
          </p>

          <h3>Template Definition:</h3>
          <pre><code class="language-json">{
  "resourceTemplates": [
    {
      "uriTemplate": "file:///{path}",
      "name": "File Read",
      "description": "Read any file by providing its path",
      "mimeType": "text/plain"
    },
    {
      "uriTemplate": "db://{database}/{table}/{id}",
      "name": "Database Row",
      "description": "Access a specific database row",
      "mimeType": "application/json"
    }
  ]
}</code></pre>

          <h3>Using Templates:</h3>
          <pre><code class="language-json">// Client reads using template
{
  "method": "resources/read",
  "params": {
    "uri": "file:///home/user/custom.txt"  // Matches template
  }
}

{
  "method": "resources/read",
  "params": {
    "uri": "db://mydb/users/456"  // Matches template
  }
}</code></pre>

          <h2>Resource Subscriptions</h2>
          <p>
            Clients can <strong>subscribe</strong> to resources to receive notifications when they change:
          </p>

          <div class="code-tabs">
            <ul class="nav nav-tabs" role="tablist">
              <li class="nav-item" role="presentation">
                <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#sub-subscribe" type="button" role="tab">Subscribe Request</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#sub-notification" type="button" role="tab">Update Notification</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#sub-unsubscribe" type="button" role="tab">Unsubscribe Request</button>
              </li>
            </ul>
            <div class="tab-content">
              <div class="tab-pane fade show active" id="sub-subscribe" role="tabpanel">
                <pre><code class="language-json">{
  "jsonrpc": "2.0",
  "id": 1,
  "method": "resources/subscribe",
  "params": {
    "uri": "file:///home/user/documents/notes.txt"
  }
}</code></pre>
              </div>
              <div class="tab-pane fade" id="sub-notification" role="tabpanel">
                <pre><code class="language-json">{
  "jsonrpc": "2.0",
  "method": "notifications/resources/updated",
  "params": {
    "uri": "file:///home/user/documents/notes.txt"
  }
}</code></pre>
              </div>
              <div class="tab-pane fade" id="sub-unsubscribe" role="tabpanel">
                <pre><code class="language-json">{
  "jsonrpc": "2.0",
  "id": 2,
  "method": "resources/unsubscribe",
  "params": {
    "uri": "file:///home/user/documents/notes.txt"
  }
}</code></pre>
              </div>
            </div>
          </div>

          <h2>Common Resource Patterns</h2>

          <div class="code-tabs">
            <ul class="nav nav-tabs" role="tablist">
              <li class="nav-item" role="presentation">
                <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#resource-pattern-static" type="button" role="tab">Static File Resources</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#resource-pattern-dynamic" type="button" role="tab">Dynamic Database Resources</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#resource-pattern-api" type="button" role="tab">API Resources</button>
              </li>
            </ul>
            <div class="tab-content">
              <div class="tab-pane fade show active" id="resource-pattern-static" role="tabpanel">
                <pre><code class="language-typescript">// Server exposes specific files
server.setRequestHandler(ListResourcesRequestSchema, async () => {
  return {
    resources: [
      {
        uri: "file:///app/config.json",
        name: "App Configuration",
        mimeType: "application/json"
      },
      {
        uri: "file:///app/README.md",
        name: "Documentation",
        mimeType: "text/markdown"
      }
    ]
  };
});</code></pre>
              </div>
              <div class="tab-pane fade" id="resource-pattern-dynamic" role="tabpanel">
                <pre><code class="language-typescript">// Server queries database dynamically
server.setRequestHandler(ListResourcesRequestSchema, async () => {
  const tables = await db.listTables();
  
  return {
    resources: tables.map(table => ({
      uri: `db://myapp/${table}`,
      name: `Table: ${table}`,
      description: `Access ${table} data`,
      mimeType: "application/json"
    }))
  };
});</code></pre>
              </div>
              <div class="tab-pane fade" id="resource-pattern-api" role="tabpanel">
                <pre><code class="language-typescript">// Server wraps external API
server.setRequestHandler(ReadResourceRequestSchema, async (request) => {
  const uri = request.params.uri;
  
  if (uri.startsWith("api://github/")) {
    const path = uri.replace("api://github/", "");
    const response = await fetch(`https://api.github.com/${path}`);
    const data = await response.json();
    
    return {
      contents: [{
        uri: uri,
        mimeType: "application/json",
        text: JSON.stringify(data, null, 2)
      }]
    };
  }
});</code></pre>
              </div>
            </div>
          </div>

          <h2>Best Practices for Resources</h2>

          <div class="row">
            <div class="col-md-6">
              <div class="callout">
                <strong>‚úÖ DO</strong>
                <ul>
                  <li>Use consistent URI schemes</li>
                  <li>Provide descriptive names and descriptions</li>
                  <li>Specify appropriate MIME types</li>
                  <li>Implement resource templates for collections</li>
                  <li>Send update notifications for subscribed resources</li>
                  <li>Handle missing resources gracefully</li>
                  <li>Cache resource listings when appropriate</li>
                  <li>Document your custom URI schemes</li>
                </ul>
              </div>
            </div>
            <div class="col-md-6">
              <div class="callout">
                <strong>‚ùå DON'T</strong>
                <ul>
                  <li>Use non-standard URI formats</li>
                  <li>Return sensitive data without authorization</li>
                  <li>Make resource content too large (consider pagination)</li>
                  <li>Change resource URIs frequently</li>
                  <li>Forget to handle encoding properly</li>
                  <li>Ignore subscription requests</li>
                  <li>Expose system paths directly</li>
                </ul>
              </div>
            </div>
          </div>

          <h2>Resources vs Tools</h2>
          <table class="table table-striped">
            <thead>
              <tr>
                <th>Aspect</th>
                <th>Resources</th>
                <th>Tools</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>Purpose</strong></td>
                <td>Provide data/context</td>
                <td>Perform actions</td>
              </tr>
              <tr>
                <td><strong>Side Effects</strong></td>
                <td>‚ùå No (read-only)</td>
                <td>‚úÖ Yes (can modify state)</td>
              </tr>
              <tr>
                <td><strong>User Approval</strong></td>
                <td>‚ùå Not required</td>
                <td>‚úÖ Required</td>
              </tr>
              <tr>
                <td><strong>Identification</strong></td>
                <td>URI-based</td>
                <td>Name-based</td>
              </tr>
              <tr>
                <td><strong>Subscriptions</strong></td>
                <td>‚úÖ Supported</td>
                <td>‚ùå Not applicable</td>
              </tr>
              <tr>
                <td><strong>Examples</strong></td>
                <td>Files, database queries, API responses</td>
                <td>Search, create file, send email</td>
              </tr>
            </tbody>
          </table>

          <h2>Implementation Example</h2>
          <pre><code class="language-typescript">// Complete resource implementation
const resources: Map&lt;string, ResourceContent&gt; = new Map();

server.setRequestHandler(ListResourcesRequestSchema, async () => {
  return {
    resources: [
      {
        uri: "file:///config.json",
        name: "Configuration",
        description: "Application settings",
        mimeType: "application/json"
      }
    ],
    resourceTemplates: [
      {
        uriTemplate: "file:///{path}",
        name: "Dynamic File",
        description: "Read any file by path"
      }
    ]
  };
});

server.setRequestHandler(ReadResourceRequestSchema, async (request) => {
  const uri = request.params.uri;
  
  // Handle static resources
  if (uri === "file:///config.json") {
    const config = await fs.readFile("config.json", "utf-8");
    return {
      contents: [{
        uri: uri,
        mimeType: "application/json",
        text: config
      }]
    };
  }
  
  // Handle template-based resources
  if (uri.startsWith("file:///")) {
    const path = uri.replace("file:///", "");
    const content = await fs.readFile(path, "utf-8");
    return {
      contents: [{
        uri: uri,
        mimeType: "text/plain",
        text: content
      }]
    };
  }
  
  throw new Error(`Resource not found: ${uri}`);
});

// Handle subscriptions
server.setRequestHandler(SubscribeRequestSchema, async (request) => {
  const uri = request.params.uri;
  // Add to subscription list
  subscriptions.add(uri);
  return {};
});

// Watch for changes and notify
fs.watch("config.json", () => {
  if (subscriptions.has("file:///config.json")) {
    server.notification({
      method: "notifications/resources/updated",
      params: { uri: "file:///config.json" }
    });
  }
});</code></pre>

        </section>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê PROMPTS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <section id="prompts" role="article">
          <h1>üí¨ Prompts</h1>
          <span class="badge">prompts</span> <span class="badge">templates</span> <span class="badge">instructions</span>

          <h2>What Are Prompts?</h2>
          <p>
            <strong>Prompts</strong> are reusable <strong>template workflows</strong> that MCP servers expose to clients. 
            They enable servers to provide pre-written prompt templates and instructions that can be used to guide 
            AI interactions in specific, domain-appropriate ways.
          </p>

          <div class="callout">
            <strong>üéØ Key Characteristic:</strong> Prompts are <strong>parameterized templates</strong> that combine 
            instructions with dynamic arguments to create specialized workflows.
          </div>

          <h2>Prompt Definition</h2>
          <p>Each prompt consists of:</p>
          
          <table class="table table-striped">
            <thead>
              <tr>
                <th>Property</th>
                <th>Description</th>
                <th>Required</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>name</strong></td>
                <td>Unique identifier for the prompt</td>
                <td>‚úÖ Yes</td>
              </tr>
              <tr>
                <td><strong>description</strong></td>
                <td>Human-readable explanation of the prompt's purpose</td>
                <td>‚ùå Optional</td>
              </tr>
              <tr>
                <td><strong>arguments</strong></td>
                <td>Array of required or optional parameters</td>
                <td>‚ùå Optional</td>
              </tr>
            </tbody>
          </table>

          <h2>Prompt Lifecycle</h2>
          <div class="mermaid">
sequenceDiagram
    participant User
    participant Host
    participant Client
    participant Server
    
    Note over Client,Server: 1. Discovery
    Client->>Server: prompts/list
    Server-->>Client: List of available prompts
    Client-->>Host: Prompt definitions
    
    Note over User,Host: 2. User Selection
    User->>Host: Select "code_review" prompt
    Host->>User: Request prompt arguments
    User->>Host: Provide file path
    
    Note over Client,Server: 3. Retrieve Prompt
    Host->>Client: Get prompt with arguments
    Client->>Server: prompts/get<br/>{name: "code_review", arguments: {...}}
    Server->>Server: Generate prompt from template
    Server-->>Client: Filled prompt messages
    Client-->>Host: Prompt content
    
    Note over User,Host: 4. Use Prompt
    Host->>Host: Send prompt to LLM
    Host->>User: Display AI response
          </div>

          <h2>Example: Code Review Prompt</h2>

          <div class="code-tabs">
            <ul class="nav nav-tabs" role="tablist">
              <li class="nav-item" role="presentation">
                <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#prompt-definition" type="button" role="tab">Prompt Definition</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#prompt-request" type="button" role="tab">Get Prompt Request</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#prompt-response" type="button" role="tab">Get Prompt Response</button>
              </li>
            </ul>
            <div class="tab-content">
              <div class="tab-pane fade show active" id="prompt-definition" role="tabpanel">
                <pre><code class="language-json">{
  "name": "code_review",
  "description": "Perform a comprehensive code review",
  "arguments": [
    {
      "name": "file_path",
      "description": "Path to the file to review",
      "required": true
    },
    {
      "name": "focus_area",
      "description": "Specific area to focus on (security, performance, etc.)",
      "required": false
    }
  ]
}</code></pre>
              </div>
              <div class="tab-pane fade" id="prompt-request" role="tabpanel">
                <pre><code class="language-json">{
  "jsonrpc": "2.0",
  "id": 1,
  "method": "prompts/get",
  "params": {
    "name": "code_review",
    "arguments": {
      "file_path": "/src/auth.ts",
      "focus_area": "security"
    }
  }
}</code></pre>
              </div>
              <div class="tab-pane fade" id="prompt-response" role="tabpanel">
                <pre><code class="language-json">{
  "jsonrpc": "2.0",
  "id": 1,
  "result": {
    "description": "Code review for /src/auth.ts focusing on security",
    "messages": [
      {
        "role": "user",
        "content": {
          "type": "text",
          "text": "Please review the following code with a focus on security:\n\n[File content would be here]\n\nAnalyze for:\n- Authentication vulnerabilities\n- Authorization issues\n- Input validation\n- Secure data handling\n- Common security anti-patterns"
        }
      }
    ]
  }
}</code></pre>
              </div>
            </div>
          </div>

          <h2>Prompt Message Types</h2>

          <div class="code-tabs">
            <ul class="nav nav-tabs" role="tablist">
              <li class="nav-item" role="presentation">
                <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#prompt-msg-user" type="button" role="tab">User Messages</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#prompt-msg-assistant" type="button" role="tab">Assistant Messages (Few-Shot)</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#prompt-msg-multipart" type="button" role="tab">Multi-Part Messages</button>
              </li>
            </ul>
            <div class="tab-content">
              <div class="tab-pane fade show active" id="prompt-msg-user" role="tabpanel">
                <pre><code class="language-json">{
  "role": "user",
  "content": {
    "type": "text",
    "text": "Analyze this code for performance issues..."
  }
}</code></pre>
              </div>
              <div class="tab-pane fade" id="prompt-msg-assistant" role="tabpanel">
                <pre><code class="language-json">{
  "messages": [
    {
      "role": "user",
      "content": {
        "type": "text",
        "text": "Explain this function: function add(a, b) { return a + b; }"
      }
    },
    {
      "role": "assistant",
      "content": {
        "type": "text",
        "text": "This is a simple addition function that takes two parameters and returns their sum."
      }
    },
    {
      "role": "user",
      "content": {
        "type": "text",
        "text": "Now explain this function: [actual code to analyze]"
      }
    }
  ]
}</code></pre>
              </div>
              <div class="tab-pane fade" id="prompt-msg-multipart" role="tabpanel">
                <pre><code class="language-json">{
  "role": "user",
  "content": {
    "type": "text",
    "text": "Review this code and this image of the architecture diagram together..."
  }
}</code></pre>
              </div>
            </div>
          </div>

          <h2>Common Prompt Patterns</h2>

          <div class="code-tabs">
            <ul class="nav nav-tabs" role="tablist">
              <li class="nav-item" role="presentation">
                <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#prompt-pattern-analysis" type="button" role="tab">Analysis Prompts</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#prompt-pattern-generation" type="button" role="tab">Generation Prompts</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#prompt-pattern-transform" type="button" role="tab">Transformation Prompts</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#prompt-pattern-workflow" type="button" role="tab">Interactive Workflow</button>
              </li>
            </ul>
            <div class="tab-content">
              <div class="tab-pane fade show active" id="prompt-pattern-analysis" role="tabpanel">
                <pre><code class="language-typescript">// Prompt for code analysis
{
  name: "analyze_code",
  description: "Analyze code for quality, bugs, and improvements",
  arguments: [
    { name: "code", description: "Code to analyze", required: true },
    { name: "language", description: "Programming language", required: true }
  ]
}

// Generated prompt:
{
  messages: [{
    role: "user",
    content: {
      type: "text",
      text: `Analyze this ${language} code for:
- Potential bugs
- Code quality issues
- Performance concerns
- Best practice violations
- Suggested improvements

Code:
${code}`
    }
  }]
}</code></pre>
              </div>
              <div class="tab-pane fade" id="prompt-pattern-generation" role="tabpanel">
                <pre><code class="language-typescript">// Prompt for test generation
{
  name: "generate_tests",
  description: "Generate unit tests for a function",
  arguments: [
    { name: "function_code", description: "Function to test", required: true },
    { name: "framework", description: "Test framework (jest, pytest, etc.)", required: false }
  ]
}

// Generated prompt:
{
  messages: [{
    role: "user",
    content: {
      type: "text",
      text: `Generate comprehensive unit tests for this function using ${framework}:

${function_code}

Include:
- Happy path tests
- Edge cases
- Error cases
- Boundary conditions`
    }
  }]
}</code></pre>
              </div>
              <div class="tab-pane fade" id="prompt-pattern-transform" role="tabpanel">
                <pre><code class="language-typescript">// Prompt for refactoring
{
  name: "refactor_code",
  description: "Refactor code to improve quality",
  arguments: [
    { name: "code", description: "Code to refactor", required: true },
    { name: "goal", description: "Refactoring goal", required: true }
  ]
}

// Generated prompt:
{
  messages: [{
    role: "user",
    content: {
      type: "text",
      text: `Refactor this code to ${goal}:

${code}

Maintain:
- Existing functionality
- API compatibility
- Test coverage

Focus on:
- Clean code principles
- SOLID principles
- Readability and maintainability`
    }
  }]
}</code></pre>
              </div>
              <div class="tab-pane fade" id="prompt-pattern-workflow" role="tabpanel">
                <pre><code class="language-typescript">// Prompt for guided debugging
{
  name: "debug_assistant",
  description: "Interactive debugging workflow",
  arguments: [
    { name: "error_message", description: "Error encountered", required: true },
    { name: "code_context", description: "Related code", required: false }
  ]
}

// Multi-turn prompt with examples:
{
  messages: [
    {
      role: "user",
      content: {
        type: "text",
        text: "I'm getting this error: TypeError: undefined is not a function"
      }
    },
    {
      role: "assistant",
      content: {
        type: "text",
        text: "Let's debug this step by step. Can you show me the code where the error occurs?"
      }
    },
    {
      role: "user",
      content: {
        type: "text",
        text: `I'm encountering: ${error_message}\n\nCode context:\n${code_context}`
      }
    }
  ]
}</code></pre>
              </div>
            </div>
          </div>

          <h2>Prompt Arguments</h2>

          <h3>Argument Definition:</h3>
          <pre><code class="language-json">{
  "name": "file_path",
  "description": "Path to the file to process",
  "required": true
}

{
  "name": "options",
  "description": "Processing options (comma-separated)",
  "required": false
}</code></pre>

          <h3>Using Arguments:</h3>
          <pre><code class="language-typescript">// Server-side prompt generation
server.setRequestHandler(GetPromptRequestSchema, async (request) => {
  const { name, arguments: args } = request.params;
  
  if (name === "code_review") {
    const filePath = args?.file_path;
    const focusArea = args?.focus_area || "general quality";
    
    // Read file content
    const code = await fs.readFile(filePath, 'utf-8');
    
    return {
      messages: [{
        role: "user",
        content: {
          type: "text",
          text: `Review this code focusing on ${focusArea}:\n\n${code}`
        }
      }]
    };
  }
});</code></pre>

          <h2>Dynamic Prompts</h2>
          <p>Prompts can incorporate dynamic data from resources or external sources:</p>

          <pre><code class="language-typescript">// Prompt that uses live data
server.setRequestHandler(GetPromptRequestSchema, async (request) => {
  if (request.params.name === "summarize_project") {
    // Gather project context dynamically
    const files = await getProjectFiles();
    const recentCommits = await getGitCommits(10);
    const issues = await getOpenIssues();
    
    return {
      messages: [{
        role: "user",
        content: {
          type: "text",
          text: `Summarize this project:

Files: ${files.length} total
Recent Activity: ${recentCommits.length} commits
Open Issues: ${issues.length}

Provide:
- Project overview
- Recent changes
- Current focus areas
- Suggested next steps`
        }
      }]
    };
  }
});</code></pre>

          <h2>Prompts with Embedded Resources</h2>
          <p>Prompts can reference resources to include their content:</p>

          <pre><code class="language-json">{
  "messages": [
    {
      "role": "user",
      "content": {
        "type": "resource",
        "resource": {
          "uri": "file:///project/README.md",
          "mimeType": "text/markdown",
          "text": "[README content here]"
        }
      }
    },
    {
      "role": "user",
      "content": {
        "type": "text",
        "text": "Based on this README, suggest improvements to documentation"
      }
    }
  ]
}</code></pre>

          <h2>Best Practices for Prompts</h2>

          <div class="row">
            <div class="col-md-6">
              <div class="callout">
                <strong>‚úÖ DO</strong>
                <ul>
                  <li>Create focused, single-purpose prompts</li>
                  <li>Provide clear descriptions and argument docs</li>
                  <li>Use few-shot examples when appropriate</li>
                  <li>Validate argument values</li>
                  <li>Include context and instructions</li>
                  <li>Make prompts domain-specific</li>
                  <li>Test prompts with various inputs</li>
                  <li>Keep prompts maintainable and versioned</li>
                </ul>
              </div>
            </div>
            <div class="col-md-6">
              <div class="callout">
                <strong>‚ùå DON'T</strong>
                <ul>
                  <li>Create overly generic prompts</li>
                  <li>Hardcode values that should be arguments</li>
                  <li>Make prompts too long or complex</li>
                  <li>Ignore error handling for missing arguments</li>
                  <li>Use prompts as a replacement for tools</li>
                  <li>Include sensitive data in prompt templates</li>
                  <li>Forget to document expected outcomes</li>
                </ul>
              </div>
            </div>
          </div>

          <h2>Prompts vs Tools vs Resources</h2>
          <table class="table table-striped">
            <thead>
              <tr>
                <th>Aspect</th>
                <th>Prompts</th>
                <th>Tools</th>
                <th>Resources</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>Purpose</strong></td>
                <td>Guide AI interactions</td>
                <td>Perform actions</td>
                <td>Provide data</td>
              </tr>
              <tr>
                <td><strong>Output</strong></td>
                <td>Message templates</td>
                <td>Execution results</td>
                <td>Data content</td>
              </tr>
              <tr>
                <td><strong>Parameters</strong></td>
                <td>Named arguments</td>
                <td>JSON Schema validated</td>
                <td>URI-based</td>
              </tr>
              <tr>
                <td><strong>Use Case</strong></td>
                <td>Workflows, templates</td>
                <td>Actions, modifications</td>
                <td>Context, information</td>
              </tr>
              <tr>
                <td><strong>Examples</strong></td>
                <td>Code review, analysis</td>
                <td>Search, create file</td>
                <td>Files, database data</td>
              </tr>
            </tbody>
          </table>

          <h2>Implementation Example</h2>
          <pre><code class="language-typescript">// Complete prompt implementation
const prompts = [
  {
    name: "code_review",
    description: "Comprehensive code review",
    arguments: [
      { name: "file_path", description: "File to review", required: true },
      { name: "focus", description: "Review focus area", required: false }
    ]
  },
  {
    name: "explain_code",
    description: "Explain how code works",
    arguments: [
      { name: "code", description: "Code to explain", required: true },
      { name: "audience", description: "Target audience level", required: false }
    ]
  }
];

server.setRequestHandler(ListPromptsRequestSchema, async () => {
  return { prompts };
});

server.setRequestHandler(GetPromptRequestSchema, async (request) => {
  const { name, arguments: args } = request.params;
  
  if (name === "code_review") {
    const filePath = args?.file_path;
    const focus = args?.focus || "general code quality";
    
    if (!filePath) {
      throw new Error("file_path argument is required");
    }
    
    const code = await fs.readFile(filePath, 'utf-8');
    const fileName = path.basename(filePath);
    
    return {
      description: `Code review for ${fileName}`,
      messages: [
        {
          role: "user",
          content: {
            type: "text",
            text: `Please perform a thorough code review of ${fileName} with focus on ${focus}.

Code:
\`\`\`
${code}
\`\`\`

Review for:
- Code quality and clarity
- Potential bugs or issues
- Performance considerations
- Security concerns
- Best practice adherence
- Suggested improvements

Provide specific, actionable feedback.`
          }
        }
      ]
    };
  }
  
  if (name === "explain_code") {
    const code = args?.code;
    const audience = args?.audience || "intermediate developers";
    
    return {
      description: `Explain code for ${audience}`,
      messages: [
        {
          role: "user",
          content: {
            type: "text",
            text: `Explain this code for ${audience}:

\`\`\`
${code}
\`\`\`

Include:
- What the code does
- How it works
- Key concepts used
- Any potential gotchas`
          }
        }
      ]
    };
  }
  
  throw new Error(`Unknown prompt: ${name}`);
});</code></pre>

        </section>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê CLIENT FEATURES ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <section id="client-features" role="article">
          <h1>üíª Client Features</h1>
          <span class="badge">client</span> <span class="badge">features</span> <span class="badge">capabilities</span>

          <h2>Overview</h2>
          <p>
            While servers expose tools, resources, and prompts to clients, <strong>clients also provide capabilities</strong> 
            that servers can leverage. These client features enable richer, more interactive patterns and allow servers to 
            access host-level functionality.
          </p>

          <div class="callout">
            <strong>üîÑ Bidirectional Protocol:</strong> MCP is not just client-to-server requests. Servers can also 
            make requests to clients, creating powerful bidirectional interaction patterns.
          </div>

          <h2>Three Client Features</h2>
          <div class="mermaid">
graph TB
    subgraph "MCP Client Capabilities"
        A[MCP Client]
        B[üé≤ Sampling]
        C[‚ùì Elicitation]
        D[üìÅ Roots]
    end
    
    A --> B
    A --> C
    A --> D
    
    B --> E[Request LLM Inference<br/>AI Model Access<br/>Server-initiated AI]
    C --> F[Gather User Input<br/>Interactive Prompts<br/>Confirmations]
    D --> G[Filesystem Context<br/>Directory Bounds<br/>Workspace Info]
    
    style A fill:#e3f2fd,stroke:#1976d2,stroke-width:3px
    style B fill:#fff3e0,stroke:#f57c00,stroke-width:2px
    style C fill:#e8f5e9,stroke:#388e3c,stroke-width:2px
    style D fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px
    style E fill:#fff3e0,stroke:#f57c00,stroke-width:1px
    style F fill:#e8f5e9,stroke:#388e3c,stroke-width:1px
    style G fill:#f3e5f5,stroke:#7b1fa2,stroke-width:1px
          </div>

          <h2>Feature Comparison</h2>
          <table class="table table-striped">
            <thead>
              <tr>
                <th>Feature</th>
                <th>Purpose</th>
                <th>Direction</th>
                <th>Use Cases</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>üé≤ Sampling</strong></td>
                <td>Access to LLM inference capabilities</td>
                <td>Server ‚Üí Client</td>
                <td>AI-powered analysis, generation, decision-making</td>
              </tr>
              <tr>
                <td><strong>‚ùì Elicitation</strong></td>
                <td>Interactive user input gathering</td>
                <td>Server ‚Üí Client</td>
                <td>Configuration, confirmations, guided workflows</td>
              </tr>
              <tr>
                <td><strong>üìÅ Roots</strong></td>
                <td>Filesystem boundaries and context</td>
                <td>Client ‚Üí Server</td>
                <td>Safe file operations, workspace awareness</td>
              </tr>
            </tbody>
          </table>

          <h2>Why Client Features Matter</h2>

          <h3>1. Enable Smarter Servers</h3>
          <p>
            With sampling, servers can leverage AI capabilities without bundling their own models. This enables:
          </p>
          <ul>
            <li>Lightweight servers that access powerful AI through the client</li>
            <li>Consistent AI experience across all servers</li>
            <li>Reduced complexity and resource requirements</li>
          </ul>

          <h3>2. Interactive Workflows</h3>
          <p>
            Elicitation allows servers to create interactive experiences:
          </p>
          <ul>
            <li>Guided configuration wizards</li>
            <li>Step-by-step data collection</li>
            <li>User confirmations for critical operations</li>
          </ul>

          <h3>3. Safe File Operations</h3>
          <p>
            Roots provide context boundaries, enabling:
          </p>
          <ul>
            <li>Servers to respect workspace boundaries</li>
            <li>Safe file operations within defined scopes</li>
            <li>Better understanding of project structure</li>
          </ul>

          <h2>Capability Declaration</h2>
          <p>Clients declare their capabilities during initialization:</p>

          <h3>Full Client Capabilities:</h3>
          <pre><code class="language-json">{
  "capabilities": {
    "sampling": {},
    "roots": {
      "listChanged": true
    },
    "experimental": {
      "elicitation": {}
    }
  },
  "clientInfo": {
    "name": "ExampleClient",
    "version": "1.0.0"
  }
}</code></pre>

          <h3>Limited Client (No Sampling):</h3>
          <pre><code class="language-json">{
  "capabilities": {
    "roots": {
      "listChanged": true
    }
  },
  "clientInfo": {
    "name": "BasicClient",
    "version": "1.0.0"
  }
}</code></pre>

          <h2>Feature Detection Pattern</h2>
          <p>Servers should check client capabilities before using features:</p>

          <pre><code class="language-typescript">// Server checks if client supports sampling
if (clientCapabilities.sampling) {
  // Use sampling to analyze data
  const result = await client.request({
    method: 'sampling/createMessage',
    params: {
      messages: [...],
      maxTokens: 1000
    }
  });
} else {
  // Fallback: use simple heuristics instead
  const result = analyzeWithHeuristics(data);
}</code></pre>

          <h2>Client vs Server Primitives</h2>
          <table class="table table-striped">
            <thead>
              <tr>
                <th>Aspect</th>
                <th>Server Primitives</th>
                <th>Client Features</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>Direction</strong></td>
                <td>Client requests from server</td>
                <td>Server requests from client</td>
              </tr>
              <tr>
                <td><strong>Purpose</strong></td>
                <td>Expose domain capabilities</td>
                <td>Access host capabilities</td>
              </tr>
              <tr>
                <td><strong>Examples</strong></td>
                <td>Tools, resources, prompts</td>
                <td>Sampling, elicitation, roots</td>
              </tr>
              <tr>
                <td><strong>Who Implements</strong></td>
                <td>Server developers</td>
                <td>Client/host developers</td>
              </tr>
            </tbody>
          </table>

          <h2>Design Patterns</h2>

          <h3>1. AI-Augmented Tool</h3>
          <pre><code class="language-typescript">// Tool that uses sampling for intelligent analysis
server.setRequestHandler(CallToolRequestSchema, async (request) => {
  if (request.params.name === "analyze_code") {
    const code = request.params.arguments?.code;
    
    // Use client's LLM for analysis
    if (clientCapabilities.sampling) {
      const analysis = await client.request({
        method: 'sampling/createMessage',
        params: {
          messages: [{
            role: 'user',
            content: {
              type: 'text',
              text: `Analyze this code for bugs:\n${code}`
            }
          }],
          maxTokens: 500
        }
      });
      
      return { content: analysis.content };
    }
  }
});</code></pre>

          <h3>2. Interactive Resource</h3>
          <pre><code class="language-typescript">// Resource that uses elicitation for configuration
server.setRequestHandler(ReadResourceRequestSchema, async (request) => {
  if (request.params.uri === "config://database") {
    // Ask user for database credentials
    const credentials = await client.request({
      method: 'elicitation/prompt',
      params: {
        message: 'Enter database connection details',
        fields: [
          { name: 'host', type: 'string' },
          { name: 'port', type: 'number' },
          { name: 'password', type: 'password' }
        ]
      }
    });
    
    // Return configured resource
    return {
      contents: [{
        uri: request.params.uri,
        mimeType: 'application/json',
        text: JSON.stringify(credentials)
      }]
    };
  }
});</code></pre>

          <h3>3. Workspace-Aware Operations</h3>
          <pre><code class="language-typescript">// Tool that respects root boundaries
server.setRequestHandler(CallToolRequestSchema, async (request) => {
  if (request.params.name === "create_file") {
    const filePath = request.params.arguments?.path;
    
    // Get workspace roots
    const rootsResult = await client.request({
      method: 'roots/list'
    });
    
    // Verify file is within workspace
    const isInWorkspace = rootsResult.roots.some(root => 
      filePath.startsWith(root.uri)
    );
    
    if (!isInWorkspace) {
      return {
        content: [{
          type: 'text',
          text: 'Error: Cannot create files outside workspace'
        }],
        isError: true
      };
    }
    
    // Proceed with file creation...
  }
});</code></pre>

        </section>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê SAMPLING ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <section id="sampling" role="article">
          <h1>üé≤ Sampling</h1>
          <span class="badge">sampling</span> <span class="badge">LLM</span> <span class="badge">AI</span>

          <h2>What is Sampling?</h2>
          <p>
            <strong>Sampling</strong> allows MCP servers to request <strong>LLM completions</strong> from the client's 
            AI model. This enables servers to leverage AI capabilities without running their own models, creating a 
            powerful pattern for building intelligent, AI-augmented tools.
          </p>

          <div class="callout">
            <strong>üéØ Key Benefit:</strong> Servers can access the same LLM that the user is interacting with, 
            ensuring consistent AI capabilities and user experience across all tools.
          </div>

          <h2>How Sampling Works</h2>
          <div class="mermaid">
sequenceDiagram
    participant User
    participant Host
    participant Client
    participant Server
    
    User->>Host: "Analyze this code"
    Host->>Client: Call analyze_code tool
    Client->>Server: tools/call {name: "analyze_code"}
    
    Note over Server: Server needs AI capabilities
    
    Server->>Client: sampling/createMessage<br/>{messages: [...]}
    Client->>Host: Request LLM inference
    Host->>Host: Call LLM with messages
    Host-->>Client: LLM response
    Client-->>Server: Sampling result
    
    Server->>Server: Process AI analysis
    Server-->>Client: Tool result
    Client-->>Host: Final result
    Host->>User: Display analysis
          </div>

          <h2>Sampling Request</h2>
          <p>Servers initiate sampling requests using the <code>sampling/createMessage</code> method:</p>

          <h3>Basic Request:</h3>
          <pre><code class="language-json">{
  "jsonrpc": "2.0",
  "id": 1,
  "method": "sampling/createMessage",
  "params": {
    "messages": [
      {
        "role": "user",
        "content": {
          "type": "text",
          "text": "Explain what this Python function does:\n\ndef fibonacci(n):\n    if n <= 1:\n        return n\n    return fibonacci(n-1) + fibonacci(n-2)"
        }
      }
    ],
    "maxTokens": 500
  }
}</code></pre>

          <h3>Response:</h3>
          <pre><code class="language-json">{
  "jsonrpc": "2.0",
  "id": 1,
  "result": {
    "role": "assistant",
    "content": {
      "type": "text",
      "text": "This function calculates the nth Fibonacci number using recursion. It has a base case for n <= 1, and recursively calls itself for larger values..."
    },
    "model": "claude-3-5-sonnet-20241022",
    "stopReason": "end_turn"
  }
}</code></pre>

          <h2>Sampling Parameters</h2>
          <table class="table table-striped">
            <thead>
              <tr>
                <th>Parameter</th>
                <th>Type</th>
                <th>Description</th>
                <th>Required</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>messages</strong></td>
                <td>Array</td>
                <td>Conversation messages (user/assistant)</td>
                <td>‚úÖ Yes</td>
              </tr>
              <tr>
                <td><strong>maxTokens</strong></td>
                <td>Number</td>
                <td>Maximum tokens to generate</td>
                <td>‚úÖ Yes</td>
              </tr>
              <tr>
                <td><strong>temperature</strong></td>
                <td>Number</td>
                <td>Randomness (0.0-1.0, default varies by client)</td>
                <td>‚ùå Optional</td>
              </tr>
              <tr>
                <td><strong>stopSequences</strong></td>
                <td>Array</td>
                <td>Sequences that stop generation</td>
                <td>‚ùå Optional</td>
              </tr>
              <tr>
                <td><strong>systemPrompt</strong></td>
                <td>String</td>
                <td>System-level instructions</td>
                <td>‚ùå Optional</td>
              </tr>
              <tr>
                <td><strong>modelPreferences</strong></td>
                <td>Object</td>
                <td>Hints about preferred model characteristics</td>
                <td>‚ùå Optional</td>
              </tr>
            </tbody>
          </table>

          <h2>Message Formats</h2>

          <h3>User Messages:</h3>
          <pre><code class="language-json">{
  "role": "user",
  "content": {
    "type": "text",
    "text": "What is the capital of France?"
  }
}</code></pre>

          <h3>Assistant Messages (for context):</h3>
          <pre><code class="language-json">{
  "role": "assistant",
  "content": {
    "type": "text",
    "text": "The capital of France is Paris."
  }
}</code></pre>

          <h3>Multi-Turn Conversation:</h3>
          <pre><code class="language-json">{
  "messages": [
    {
      "role": "user",
      "content": {
        "type": "text",
        "text": "What is 15 * 24?"
      }
    },
    {
      "role": "assistant",
      "content": {
        "type": "text",
        "text": "15 * 24 = 360"
      }
    },
    {
      "role": "user",
      "content": {
        "type": "text",
        "text": "Now divide that by 4"
      }
    }
  ],
  "maxTokens": 100
}</code></pre>

          <h2>Common Use Cases</h2>

          <div class="code-tabs">
            <ul class="nav nav-tabs" role="tablist">
              <li class="nav-item" role="presentation">
                <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#sampling-code-analysis" type="button" role="tab">Code Analysis</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#sampling-nlp" type="button" role="tab">Natural Language Processing</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#sampling-content-gen" type="button" role="tab">Content Generation</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#sampling-decision" type="button" role="tab">Decision Making</button>
              </li>
            </ul>
            <div class="tab-content">
              <div class="tab-pane fade show active" id="sampling-code-analysis" role="tabpanel">
                <pre><code class="language-typescript">// Server analyzes code using client's LLM
async function analyzeCode(code: string, language: string) {
  const result = await client.request({
    method: 'sampling/createMessage',
    params: {
      messages: [{
        role: 'user',
        content: {
          type: 'text',
          text: `Analyze this ${language} code for potential bugs and improvements:\n\n${code}`
        }
      }],
      maxTokens: 1000,
      systemPrompt: 'You are an expert code reviewer. Provide specific, actionable feedback.'
    }
  });
  
  return result.content.text;
}</code></pre>
              </div>
              <div class="tab-pane fade" id="sampling-nlp" role="tabpanel">
                <pre><code class="language-typescript">// Extract structured data from unstructured text
async function extractEntityData(text: string) {
  const result = await client.request({
    method: 'sampling/createMessage',
    params: {
      messages: [{
        role: 'user',
        content: {
          type: 'text',
          text: `Extract person names, dates, and locations from this text. Return as JSON:\n\n${text}`
        }
      }],
      maxTokens: 500,
      stopSequences: ['\n\n']
    }
  });
  
  return JSON.parse(result.content.text);
}</code></pre>
              </div>
              <div class="tab-pane fade" id="sampling-content-gen" role="tabpanel">
                <pre><code class="language-typescript">// Generate documentation from code
async function generateDocumentation(functionCode: string) {
  const result = await client.request({
    method: 'sampling/createMessage',
    params: {
      messages: [{
        role: 'user',
        content: {
          type: 'text',
          text: `Generate API documentation for this function:\n\n${functionCode}\n\nInclude: description, parameters, return value, and usage example.`
        }
      }],
      maxTokens: 800,
      temperature: 0.3  // Lower temperature for more consistent output
    }
  });
  
  return result.content.text;
}</code></pre>
              </div>
              <div class="tab-pane fade" id="sampling-decision" role="tabpanel">
                <pre><code class="language-typescript">// Intelligent classification
async function classifyIssue(issueDescription: string) {
  const result = await client.request({
    method: 'sampling/createMessage',
    params: {
      messages: [{
        role: 'user',
        content: {
          type: 'text',
          text: `Classify this issue as: bug, feature, documentation, or question.\n\nIssue: ${issueDescription}\n\nRespond with only one word.`
        }
      }],
      maxTokens: 10,
      temperature: 0.0
    }
  });
  
  return result.content.text.trim().toLowerCase();
}</code></pre>
              </div>
            </div>
          </div>

          <h2>Model Preferences</h2>
          <p>Servers can hint at desired model characteristics:</p>

          <pre><code class="language-json">{
  "method": "sampling/createMessage",
  "params": {
    "messages": [...],
    "maxTokens": 500,
    "modelPreferences": {
      "hints": [
        {
          "name": "speed"
        }
      ],
      "intelligencePriority": 0.5,
      "speedPriority": 0.8
    }
  }
}</code></pre>

          <h3>Preference Hints:</h3>
          <ul>
            <li><strong>speed:</strong> Prefer faster models</li>
            <li><strong>intelligence:</strong> Prefer more capable models</li>
            <li><strong>cost:</strong> Prefer cheaper models</li>
          </ul>

          <div class="callout bg-gradient-blue-light">
            <strong>üí° Note:</strong> Model preferences are hints only. The client may use any available model based on 
            user settings, availability, and other factors.
          </div>

          <h2>Response Fields</h2>
          <table class="table table-striped">
            <thead>
              <tr>
                <th>Field</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>role</strong></td>
                <td>Always "assistant" for sampling responses</td>
              </tr>
              <tr>
                <td><strong>content</strong></td>
                <td>The generated text or content</td>
              </tr>
              <tr>
                <td><strong>model</strong></td>
                <td>Model identifier that was used (e.g., "claude-3-5-sonnet-20241022")</td>
              </tr>
              <tr>
                <td><strong>stopReason</strong></td>
                <td>Why generation stopped: "end_turn", "max_tokens", "stop_sequence"</td>
              </tr>
            </tbody>
          </table>

          <h2>Best Practices</h2>

          <div class="row">
            <div class="col-md-6">
              <div class="callout">
                <strong>‚úÖ DO</strong>
                <ul>
                  <li>Check if client supports sampling before using</li>
                  <li>Set appropriate maxTokens limits</li>
                  <li>Use system prompts for consistent behavior</li>
                  <li>Provide clear, specific instructions</li>
                  <li>Use lower temperatures for deterministic tasks</li>
                  <li>Handle sampling errors gracefully</li>
                  <li>Consider cost implications of sampling</li>
                  <li>Provide fallbacks for non-sampling clients</li>
                </ul>
              </div>
            </div>
            <div class="col-md-6">
              <div class="callout">
                <strong>‚ùå DON'T</strong>
                <ul>
                  <li>Assume sampling is always available</li>
                  <li>Use excessive maxTokens values</li>
                  <li>Make too many sampling requests in sequence</li>
                  <li>Rely on sampling for critical logic</li>
                  <li>Send sensitive data without user consent</li>
                  <li>Ignore stopReason in responses</li>
                  <li>Use sampling for simple tasks that don't need AI</li>
                </ul>
              </div>
            </div>
          </div>

          <h2>Error Handling</h2>
          <pre><code class="language-typescript">async function safeSampling(messages, maxTokens) {
  // Check capability
  if (!clientCapabilities.sampling) {
    throw new Error('Sampling not supported by this client');
  }
  
  try {
    const result = await client.request({
      method: 'sampling/createMessage',
      params: { messages, maxTokens }
    });
    
    // Check stop reason
    if (result.stopReason === 'max_tokens') {
      console.warn('Response may be truncated');
    }
    
    return result;
  } catch (error) {
    if (error.code === -32603) {
      // Internal error - model unavailable, etc.
      console.error('Sampling failed:', error.message);
      // Provide fallback
      return { content: { text: '[AI analysis unavailable]' } };
    }
    throw error;
  }
}</code></pre>

          <h2>Complete Implementation Example</h2>
          <pre><code class="language-typescript">// Server with AI-powered code review tool
import { Server } from '@modelcontextprotocol/sdk/server/index.js';
import { StdioServerTransport } from '@modelcontextprotocol/sdk/server/stdio.js';

const server = new Server({
  name: 'ai-code-reviewer',
  version: '1.0.0'
}, {
  capabilities: {}
});

let clientCapabilities: any = null;

// Store client capabilities on initialization
server.setRequestHandler(InitializeRequestSchema, async (request) => {
  clientCapabilities = request.params.capabilities;
  return {
    capabilities: {},
    serverInfo: {
      name: 'ai-code-reviewer',
      version: '1.0.0'
    }
  };
});

// Implement AI-powered code review tool
server.setRequestHandler(ListToolsRequestSchema, async () => {
  return {
    tools: [{
      name: 'review_code',
      description: 'AI-powered code review',
      inputSchema: {
        type: 'object',
        properties: {
          code: { type: 'string', description: 'Code to review' },
          language: { type: 'string', description: 'Programming language' },
          focus: { type: 'string', description: 'Review focus (optional)' }
        },
        required: ['code', 'language']
      }
    }]
  };
});

server.setRequestHandler(CallToolRequestSchema, async (request) => {
  if (request.params.name === 'review_code') {
    const { code, language, focus } = request.params.arguments;
    
    if (!clientCapabilities?.sampling) {
      return {
        content: [{
          type: 'text',
          text: 'AI-powered review requires a client with sampling support'
        }],
        isError: true
      };
    }
    
    try {
      const reviewPrompt = focus
        ? `Review this ${language} code focusing on ${focus}:`
        : `Perform a comprehensive code review of this ${language} code:`;
      
      const result = await server.request({
        method: 'sampling/createMessage',
        params: {
          messages: [{
            role: 'user',
            content: {
              type: 'text',
              text: `${reviewPrompt}\n\n\`\`\`${language}\n${code}\n\`\`\`\n\nProvide specific, actionable feedback.`
            }
          }],
          maxTokens: 1000,
          systemPrompt: 'You are an expert code reviewer. Focus on bugs, performance, security, and best practices.'
        }
      });
      
      return {
        content: [{
          type: 'text',
          text: result.content.text
        }],
        isError: false
      };
    } catch (error) {
      return {
        content: [{
          type: 'text',
          text: `Review failed: ${error.message}`
        }],
        isError: true
      };
    }
  }
  
  throw new Error(`Unknown tool: ${request.params.name}`);
});

const transport = new StdioServerTransport();
await server.connect(transport);</code></pre>

        </section>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê ELICITATION ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <section id="elicitation" role="article">
          <h1>‚ùì Elicitation</h1>
          <span class="badge">elicitation</span> <span class="badge">input</span> <span class="badge">interaction</span>

          <h2>What is Elicitation?</h2>
          <p>
            <strong>Elicitation</strong> is an <strong>experimental feature</strong> that allows MCP servers to 
            interactively gather input from users through the client. This enables servers to create guided workflows, 
            configuration wizards, and interactive data collection experiences.
          </p>

          <div class="callout bg-gradient-blue-light">
            <strong>‚ö†Ô∏è Experimental Feature:</strong> Elicitation is currently experimental and may change in future 
            versions of the MCP protocol. Check client capabilities before using.
          </div>

          <h2>How Elicitation Works</h2>
          <div class="mermaid">
sequenceDiagram
    participant User
    participant Host
    participant Client
    participant Server
    
    User->>Host: Request server operation
    Host->>Client: Forward request
    Client->>Server: Operation initiated
    
    Note over Server: Server needs user input
    
    Server->>Client: elicitation/prompt<br/>{message, fields}
    Client->>Host: Display input form
    Host->>User: Show interactive prompt
    User->>Host: Provide input
    Host-->>Client: User responses
    Client-->>Server: Input data
    
    Server->>Server: Process with user input
    Server-->>Client: Complete operation
    Client-->>Host: Result
    Host->>User: Display result
          </div>

          <h2>Use Cases</h2>

          <h3>1. Configuration Wizards</h3>
          <p>Guide users through complex configuration processes:</p>
          <ul>
            <li>Database connection setup</li>
            <li>API key configuration</li>
            <li>Deployment settings</li>
            <li>Service credentials</li>
          </ul>

          <h3>2. Interactive Data Collection</h3>
          <p>Gather structured information from users:</p>
          <ul>
            <li>Form filling and validation</li>
            <li>Multi-step data entry</li>
            <li>User preferences</li>
            <li>Survey responses</li>
          </ul>

          <h3>3. Confirmation Dialogs</h3>
          <p>Request user approval for critical operations:</p>
          <ul>
            <li>Destructive actions (delete, overwrite)</li>
            <li>Financial transactions</li>
            <li>Privacy-sensitive operations</li>
            <li>Batch operations</li>
          </ul>

          <h3>4. Dynamic Tool Configuration</h3>
          <p>Adapt tool behavior based on user input:</p>
          <ul>
            <li>Choose processing options</li>
            <li>Select output formats</li>
            <li>Customize behavior </li>
            <li>Pick from available alternatives</li>
          </ul>

          <h2>Elicitation Request Format</h2>
          <p>While the exact API is experimental, the general pattern involves:</p>

          <pre><code class="language-json">{
  "jsonrpc": "2.0",
  "id": 1,
  "method": "elicitation/prompt",
  "params": {
    "message": "Enter database connection details",
    "fields": [
      {
        "name": "host",
        "type": "string",
        "label": "Database Host",
        "required": true,
        "defaultValue": "localhost"
      },
      {
        "name": "port",
        "type": "number",
        "label": "Port",
        "required": true,
        "defaultValue": 5432
      },
      {
        "name": "database",
        "type": "string",
        "label": "Database Name",
        "required": true
      },
      {
        "name": "username",
        "type": "string",
        "label": "Username",
        "required": true
      },
      {
        "name": "password",
        "type": "password",
        "label": "Password",
        "required": true
      }
    ]
  }
}</code></pre>

          <h2>Response Format</h2>
          <pre><code class="language-json">{
  "jsonrpc": "2.0",
  "id": 1,
  "result": {
    "values": {
      "host": "db.example.com",
      "port": 5432,
      "database": "myapp_production",
      "username": "app_user",
      "password": "[REDACTED]"
    }
  }
}</code></pre>

          <h2>Field Types</h2>
          <table class="table table-striped">
            <thead>
              <tr>
                <th>Type</th>
                <th>Description</th>
                <th>Rendering</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>string</strong></td>
                <td>Text input</td>
                <td>Single-line text field</td>
              </tr>
              <tr>
                <td><strong>password</strong></td>
                <td>Sensitive text input</td>
                <td>Masked text field</td>
              </tr>
              <tr>
                <td><strong>number</strong></td>
                <td>Numeric input</td>
                <td>Number field with validation</td>
              </tr>
              <tr>
                <td><strong>boolean</strong></td>
                <td>Yes/no choice</td>
                <td>Checkbox or toggle</td>
              </tr>
              <tr>
                <td><strong>select</strong></td>
                <td>Choose from options</td>
                <td>Dropdown or radio buttons</td>
              </tr>
              <tr>
                <td><strong>multiline</strong></td>
                <td>Long text input</td>
                <td>Text area</td>
              </tr>
            </tbody>
          </table>

          <h2>Example: Database Configuration Tool</h2>
          <pre><code class="language-typescript">// Tool that uses elicitation for configuration
server.setRequestHandler(CallToolRequestSchema, async (request) => {
  if (request.params.name === 'configure_database') {
    
    // Check if client supports elicitation
    if (!clientCapabilities?.experimental?.elicitation) {
      return {
        content: [{
          type: 'text',
          text: 'This tool requires elicitation support'
        }],
        isError: true
      };
    }
    
    // Ask user for database configuration
    const configResult = await client.request({
      method: 'elicitation/prompt',
      params: {
        message: 'Configure database connection',
        fields: [
          {
            name: 'host',
            type: 'string',
            label: 'Host',
            required: true,
            defaultValue: 'localhost'
          },
          {
            name: 'port',
            type: 'number',
            label: 'Port',
            required: true,
            defaultValue: 5432
          },
          {
            name: 'ssl',
            type: 'boolean',
            label: 'Use SSL',
            defaultValue: true
          }
        ]
      }
    });
    
    const config = configResult.values;
    
    // Test connection with provided config
    try {
      await testDatabaseConnection(config);
      
      return {
        content: [{
          type: 'text',
          text: `Successfully connected to ${config.host}:${config.port}`
        }]
      };
    } catch (error) {
      return {
        content: [{
          type: 'text',
          text: `Connection failed: ${error.message}`
        }],
        isError: true
      };
    }
  }
});</code></pre>

          <h2>Example: Confirmation Dialog</h2>
          <pre><code class="language-typescript">// Tool that asks for confirmation before destructive action
server.setRequestHandler(CallToolRequestSchema, async (request) => {
  if (request.params.name === 'delete_files') {
    const files = request.params.arguments?.files || [];
    
    if (clientCapabilities?.experimental?.elicitation) {
      // Ask for confirmation
      const confirmation = await client.request({
        method: 'elicitation/prompt',
        params: {
          message: `Delete ${files.length} files? This cannot be undone.`,
          fields: [{
            name: 'confirm',
            type: 'boolean',
            label: 'I understand this is permanent',
            required: true
          }]
        }
      });
      
      if (!confirmation.values.confirm) {
        return {
          content: [{
            type: 'text',
            text: 'Deletion cancelled by user'
          }]
        };
      }
    }
    
    // Proceed with deletion
    await deleteFiles(files);
    
    return {
      content: [{
        type: 'text',
        text: `Deleted ${files.length} files`
      }]
    };
  }
});</code></pre>

          <h2>Example: Multi-Step Workflow</h2>
          <pre><code class="language-typescript">// Complex workflow with multiple elicitation steps
async function deployApplication() {
  // Step 1: Choose deployment target
  const targetResult = await client.request({
    method: 'elicitation/prompt',
    params: {
      message: 'Step 1: Select deployment target',
      fields: [{
        name: 'environment',
        type: 'select',
        label: 'Environment',
        options: ['development', 'staging', 'production'],
        required: true
      }]
    }
  });
  
  const environment = targetResult.values.environment;
  
  // Step 2: Configure deployment options
  const optionsResult = await client.request({
    method: 'elicitation/prompt',
    params: {
      message: `Step 2: Configure ${environment} deployment`,
      fields: [
        {
          name: 'instances',
          type: 'number',
          label: 'Number of instances',
          defaultValue: environment === 'production' ? 3 : 1
        },
        {
          name: 'autoScale',
          type: 'boolean',
          label: 'Enable auto-scaling',
          defaultValue: environment === 'production'
        }
      ]
    }
  });
  
  // Step 3: Final confirmation
  const confirmResult = await client.request({
    method: 'elicitation/prompt',
    params: {
      message: `Deploy to ${environment} with ${optionsResult.values.instances} instances?`,
      fields: [{
        name: 'confirmed',
        type: 'boolean',
        label: 'Proceed with deployment',
        required: true
      }]
    }
  });
  
  if (confirmResult.values.confirmed) {
    // Execute deployment
    await deploy(environment, optionsResult.values);
    return 'Deployment successful';
  } else {
    return 'Deployment cancelled';
  }
}</code></pre>

          <h2>Best Practices</h2>

          <div class="row">
            <div class="col-md-6">
              <div class="callout">
                <strong>‚úÖ DO</strong>
                <ul>
                  <li>Check for elicitation capability first</li>
                  <li>Provide clear, descriptive field labels</li>
                  <li>Set sensible default values</li>
                  <li>Validate user input</li>
                  <li>Provide helpful error messages</li>
                  <li>Keep forms concise and focused</li>
                  <li>Use appropriate field types</li>
                  <li>Group related fields logically</li>
                </ul>
              </div>
            </div>
            <div class="col-md-6">
              <div class="callout">
                <strong>‚ùå DON'T</strong>
                <ul>
                  <li>Use elicitation for non-essential input</li>
                  <li>Create excessively long forms</li>
                  <li>Ask for information you already have</li>
                  <li>Store sensitive data unnecessarily</li>
                  <li>Overuse elicitation in a single workflow</li>
                  <li>Assume elicitation is always available</li>
                  <li>Skip providing fallback behavior</li>
                </ul>
              </div>
            </div>
          </div>

          <h2>Limitations</h2>
          <div class="callout bg-gradient-red">
            <strong>‚ö†Ô∏è Important Considerations:</strong>
            <ul>
              <li><strong>Experimental Status:</strong> API may change in future versions</li>
              <li><strong>Client Support:</strong> Not all clients implement elicitation</li>
              <li><strong>User Experience:</strong> Interrupts workflow flow, use sparingly</li>
              <li><strong>Context Loss:</strong> Server state must be maintained across elicitation calls</li>
              <li><strong>Validation:</strong> Complex validation may need multiple round-trips</li>
            </ul>
          </div>

        </section>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê ROOTS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <section id="roots" role="article">
          <h1>üìÅ Roots</h1>
          <span class="badge">roots</span> <span class="badge">filesystem</span> <span class="badge">boundaries</span>

          <h2>What are Roots?</h2>
          <p>
            <strong>Roots</strong> define the <strong>filesystem boundaries</strong> or workspace contexts that the client 
            operates within. They provide servers with information about where they should operate and help establish 
            safe boundaries for file operations.
          </p>

          <div class="callout">
            <strong>üéØ Key Purpose:</strong> Roots help servers understand the user's working context and prevent operations 
            outside of authorized directories.
          </div>

          <h2>Why Roots Matter</h2>

          <h3>1. Security & Safety</h3>
          <ul>
            <li>Prevent accidental file operations outside project boundaries</li>
            <li>Establish trust boundaries for server operations</li>
            <li>Reduce risk of destructive actions</li>
            <li>Provide sandboxing for file-based tools</li>
          </ul>

          <h3>2. Context Awareness</h3>
          <ul>
            <li>Understand the user's current workspace</li>
            <li>Find project configuration files</li>
            <li>Locate relevant source code or documents</li>
            <li>Provide workspace-relative paths</li>
          </ul>

          <h3>3. Multi-Project Support</h3>
          <ul>
            <li>Handle multiple open projects or workspaces</li>
            <li>Distinguish between different code repositories</li>
            <li>Manage polyrepo or monorepo structures</li>
          </ul>

          <h2>Listing Roots</h2>
          <p>Servers can request the list of roots from the client:</p>

          <h3>Request:</h3>
          <pre><code class="language-json">{
  "jsonrpc": "2.0",
  "id": 1,
  "method": "roots/list"
}</code></pre>

          <h3>Response:</h3>
          <pre><code class="language-json">{
  "jsonrpc": "2.0",
  "id": 1,
  "result": {
    "roots": [
      {
        "uri": "file:///home/user/projects/my-app",
        "name": "My Application"
      },
      {
        "uri": "file:///home/user/projects/shared-lib",
        "name": "Shared Library"
      }
    ]
  }
}</code></pre>

          <h2>Root Structure</h2>
          <table class="table table-striped">
            <thead>
              <tr>
                <th>Property</th>
                <th>Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>uri</strong></td>
                <td>String</td>
                <td>URI of the root directory (typically file:// scheme)</td>
              </tr>
              <tr>
                <td><strong>name</strong></td>
                <td>String</td>
                <td>Human-readable name for the root (optional)</td>
              </tr>
            </tbody>
          </table>

          <h2>Root Change Notifications</h2>
          <p>
            Clients can notify servers when roots change (e.g., user opens or closes a workspace):
          </p>

          <h3>Client Declares Support:</h3>
          <pre><code class="language-json">{
  "capabilities": {
    "roots": {
      "listChanged": true
    }
  }
}</code></pre>

          <h3>Notification:</h3>
          <pre><code class="language-json">{
  "jsonrpc": "2.0",
  "method": "notifications/roots/list_changed"
}</code></pre>

          <h3>Server Response:</h3>
          <pre><code class="language-typescript">// Server handles root changes
server.onNotification('notifications/roots/list_changed', async () => {
  // Re-fetch roots
  const rootsResult = await client.request({
    method: 'roots/list'
  });
  
  // Update server state
  currentRoots = rootsResult.roots;
  
  // Re-scan for project files, update caches, etc.
  await refreshProjectContext();
});</code></pre>

          <h2>Common Use Cases</h2>

          <div class="code-tabs">
            <ul class="nav nav-tabs" role="tablist">
              <li class="nav-item" role="presentation">
                <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#roots-validate" type="button" role="tab">Validating File Paths</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#roots-find" type="button" role="tab">Finding Project Files</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#roots-relative" type="button" role="tab">Workspace-Relative Operations</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#roots-multi" type="button" role="tab">Multi-Root Workspace Handling</button>
              </li>
            </ul>
            <div class="tab-content">
              <div class="tab-pane fade show active" id="roots-validate" role="tabpanel">
                <pre><code class="language-typescript">// Check if a path is within workspace roots
async function isPathInWorkspace(filePath: string): Promise&lt;boolean&gt; {
  const rootsResult = await client.request({
    method: 'roots/list'
  });
  
  const roots = rootsResult.roots.map(r => r.uri.replace('file://', ''));
  
  return roots.some(root => filePath.startsWith(root));
}

// Use in tool:
server.setRequestHandler(CallToolRequestSchema, async (request) => {
  if (request.params.name === 'create_file') {
    const filePath = request.params.arguments?.path;
    
    if (!await isPathInWorkspace(filePath)) {
      return {
        content: [{
          type: 'text',
          text: 'Error: Cannot create files outside workspace'
        }],
        isError: true
      };
    }
    
    // Safe to proceed
    await fs.writeFile(filePath, content);
  }
});</code></pre>
              </div>
              <div class="tab-pane fade" id="roots-find" role="tabpanel">
                <pre><code class="language-typescript">// Locate configuration files in roots
async function findConfigFiles(filename: string): Promise&lt;string[]&gt; {
  const rootsResult = await client.request({
    method: 'roots/list'
  });
  
  const configFiles: string[] = [];
  
  for (const root of rootsResult.roots) {
    const rootPath = root.uri.replace('file://', '');
    const configPath = path.join(rootPath, filename);
    
    if (await fs.pathExists(configPath)) {
      configFiles.push(configPath);
    }
  }
  
  return configFiles;
}

// Usage:
const packageJsons = await findConfigFiles('package.json');
const tsConfigs = await findConfigFiles('tsconfig.json');</code></pre>
              </div>
              <div class="tab-pane fade" id="roots-relative" role="tabpanel">
                <pre><code class="language-typescript">// Find which root a file belongs to
async function findRootForFile(filePath: string) {
  const rootsResult = await client.request({
    method: 'roots/list'
  });
  
  for (const root of rootsResult.roots) {
    const rootPath = root.uri.replace('file://', '');
    if (filePath.startsWith(rootPath)) {
      return root;
    }
  }
  
  return null;
}

// Get relative path from root
function getRelativePath(filePath: string, root: any): string {
  const rootPath = root.uri.replace('file://', '');
  return path.relative(rootPath, filePath);
}</code></pre>
              </div>
              <div class="tab-pane fade" id="roots-multi" role="tabpanel">
                <pre><code class="language-typescript">// Organize resources by workspace root
server.setRequestHandler(ListResourcesRequestSchema, async () => {
  const rootsResult = await client.request({
    method: 'roots/list'
  });
  
  const resources = [];
  
  for (const root of rootsResult.roots) {
    const rootPath = root.uri.replace('file://', '');
    const files = await scanDirectory(rootPath);
    
    for (const file of files) {
      resources.push({
        uri: `file://${file}`,
        name: `${root.name}: ${path.relative(rootPath, file)}`,
        mimeType: getMimeType(file)
      });
    }
  }
  
  return { resources };
});</code></pre>
              </div>
            </div>
          </div>

          <h2>Example: Workspace-Aware File Tool</h2>
          <pre><code class="language-typescript">// Complete example of root-aware file operations
import { Server } from '@modelcontextprotocol/sdk/server/index.js';
import * as path from 'path';
import * as fs from 'fs/promises';

const server = new Server({
  name: 'workspace-file-tools',
  version: '1.0.0'
}, {
  capabilities: {}
});

let currentRoots: any[] = [];

// Fetch roots on startup
server.setRequestHandler(InitializeRequestSchema, async (request) => {
  const rootsResult = await server.request({
    method: 'roots/list'
  });
  currentRoots = rootsResult.roots;
  
  return {
    capabilities: {},
    serverInfo: { name: 'workspace-file-tools', version: '1.0.0' }
  };
});

// Update roots when they change
server.onNotification('notifications/roots/list_changed', async () => {
  const rootsResult = await server.request({
    method: 'roots/list'
  });
  currentRoots = rootsResult.roots;
  console.log('Workspace roots updated:', currentRoots);
});

// Helper: Check if path is in workspace
function isInWorkspace(filePath: string): boolean {
  return currentRoots.some(root => {
    const rootPath = root.uri.replace('file://', '');
    return filePath.startsWith(rootPath);
  });
}

// Implement safe file creation tool
server.setRequestHandler(ListToolsRequestSchema, async () => {
  return {
    tools: [{
      name: 'create_workspace_file',
      description: 'Create a file within the workspace',
      inputSchema: {
        type: 'object',
        properties: {
          relativePath: {
            type: 'string',
            description: 'Path relative to a workspace root'
          },
          content: {
            type: 'string',
            description: 'File content'
          },
          root: {
            type: 'string',
            description: 'Workspace root name (optional, uses first root if not specified)'
          }
        },
        required: ['relativePath', 'content']
      }
    }]
  };
});

server.setRequestHandler(CallToolRequestSchema, async (request) => {
  if (request.params.name === 'create_workspace_file') {
    const { relativePath, content, root: rootName } = request.params.arguments;
    
    // Find target root
    let targetRoot = currentRoots[0];
    if (rootName) {
      targetRoot = currentRoots.find(r => r.name === rootName);
      if (!targetRoot) {
        return {
          content: [{
            type: 'text',
            text: `Error: Workspace root '${rootName}' not found`
          }],
          isError: true
        };
      }
    }
    
    // Build full path
    const rootPath = targetRoot.uri.replace('file://', '');
    const fullPath = path.join(rootPath, relativePath);
    
    // Verify still in workspace (prevent path traversal)
    if (!isInWorkspace(fullPath)) {
      return {
        content: [{
          type: 'text',
          text: 'Error: Path escapes workspace boundaries'
        }],
        isError: true
      };
    }
    
    // Create file
    await fs.mkdir(path.dirname(fullPath), { recursive: true });
    await fs.writeFile(fullPath, content, 'utf-8');
    
    return {
      content: [{
        type: 'text',
        text: `Created file: ${relativePath} in ${targetRoot.name}`
      }]
    };
  }
  
  throw new Error(`Unknown tool: ${request.params.name}`);
});</code></pre>

          <h2>Best Practices</h2>

          <div class="row">
            <div class="col-md-6">
              <div class="callout">
                <strong>‚úÖ DO</strong>
                <ul>
                  <li>Fetch roots during initialization</li>
                  <li>Listen for roots/list_changed notifications</li>
                  <li>Validate file paths against roots</li>
                  <li>Use relative paths when communicating with users</li>
                  <li>Handle multiple roots gracefully</li>
                  <li>Sanitize paths to prevent traversal attacks</li>
                  <li>Cache roots list locally</li>
                  <li>Provide meaningful error messages for out-of-bounds paths</li>
                </ul>
              </div>
            </div>
            <div class="col-md-6">
              <div class="callout">
                <strong>‚ùå DON'T</strong>
                <ul>
                  <li>Assume roots never change</li>
                  <li>Allow operations outside roots without user approval</li>
                  <li>Hardcode filesystem paths</li>
                  <li>Ignore root boundaries for "convenience"</li>
                  <li>Expose absolute paths to users unnecessarily</li>
                  <li>Forget to handle path traversal attempts</li>
                  <li>Assume only one root exists</li>
                </ul>
              </div>
            </div>
          </div>

          <h2>Roots vs Resources</h2>
          <table class="table table-striped">
            <thead>
              <tr>
                <th>Aspect</th>
                <th>Roots</th>
                <th>Resources</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>Direction</strong></td>
                <td>Server requests from client</td>
                <td>Client requests from server</td>
              </tr>
              <tr>
                <td><strong>Purpose</strong></td>
                <td>Define workspace boundaries</td>
                <td>Provide data/context</td>
              </tr>
              <tr>
                <td><strong>Mutability</strong></td>
                <td>Can change during session</td>
                <td>Depends on server implementation</td>
              </tr>
              <tr>
                <td><strong>Scope</strong></td>
                <td>Filesystem directories</td>
                <td>Any URI-addressable content</td>
              </tr>
            </tbody>
          </table>

        </section>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê TRANSPORTS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <section id="transports" role="article">
          <h1>üöÄ Transports</h1>
          <span class="badge">transport</span> <span class="badge">communication</span> <span class="badge">protocols</span>

          <h2>What are Transports?</h2>
          <p>
            <strong>Transports</strong> define how MCP messages are physically transmitted between clients and servers. 
            The transport layer sits below the JSON-RPC protocol layer and handles the actual delivery of messages, 
            connection management, and communication channels.
          </p>

          <div class="callout">
            <strong>üéØ Key Concept:</strong> The transport layer is independent of the protocol layer. The same MCP 
            protocol works over different transports, allowing flexibility in deployment scenarios.
          </div>

          <h2>Transport Layers in MCP Stack</h2>
          <div class="mermaid">
graph TB
    subgraph "MCP Architecture"
        A[Application Layer]
        B[Protocol Layer<br/>JSON-RPC 2.0]
        C[Transport Layer]
        D[Physical Connection]
    end
    
    A --> B
    B --> C
    C --> D
    
    subgraph "Transport Options"
        E[STDIO]
        F[HTTP/SSE]
        G[Future Transports]
    end
    
    C -.-> E
    C -.-> F
    C -.-> G
    
    E --> H[Process stdin/stdout]
    F --> I[HTTP requests<br/>SSE responses]
    G --> J[WebSocket, gRPC, etc.]
    
    style A fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
    style B fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px
    style C fill:#fff3e0,stroke:#f57c00,stroke-width:3px
    style D fill:#e8f5e9,stroke:#388e3c,stroke-width:2px
    style E fill:#fff9e6,stroke:#f9a825,stroke-width:2px
    style F fill:#e6f7ff,stroke:#0288d1,stroke-width:2px
    style G fill:#f0f0f0,stroke:#757575,stroke-width:2px,stroke-dasharray: 5 5
          </div>

          <h2>Supported Transports</h2>
          <table class="table table-striped">
            <thead>
              <tr>
                <th>Transport</th>
                <th>Use Case</th>
                <th>Connection Type</th>
                <th>Bidirectional</th>
                <th>Complexity</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>üì° STDIO</strong></td>
                <td>Local process communication</td>
                <td>stdin/stdout pipes</td>
                <td>‚úÖ Yes</td>
                <td>Low</td>
              </tr>
              <tr>
                <td><strong>üåê HTTP/SSE</strong></td>
                <td>Remote network communication</td>
                <td>HTTP + Server-Sent Events</td>
                <td>‚úÖ Yes</td>
                <td>Medium</td>
              </tr>
              <tr>
                <td><strong>üîÆ Future</strong></td>
                <td>WebSocket, gRPC, custom</td>
                <td>Various</td>
                <td>‚úÖ Expected</td>
                <td>Varies</td>
              </tr>
            </tbody>
          </table>

          <h2>STDIO vs HTTP Comparison</h2>

          <div class="row">
            <div class="col-md-6">
              <h3>üì° STDIO Transport</h3>
              <div class="callout bg-gradient-orange">
                <strong>Best For: Local integrations</strong>
                
                <h4>Advantages:</h4>
                <ul>
                  <li>‚úÖ Simple process spawning model</li>
                  <li>‚úÖ No network configuration required</li>
                  <li>‚úÖ Automatic process isolation</li>
                  <li>‚úÖ Built-in security (process boundaries)</li>
                  <li>‚úÖ Low latency for local operations</li>
                  <li>‚úÖ Easy debugging (pipe inspection)</li>
                </ul>

                <h4>Limitations:</h4>
                <ul>
                  <li>‚ùå Local machine only</li>
                  <li>‚ùå One client per server process</li>
                  <li>‚ùå Process lifecycle coupling</li>
                  <li>‚ùå No load balancing</li>
                </ul>

                <h4>Typical Use Cases:</h4>
                <ul>
                  <li>IDE integrations</li>
                  <li>CLI tools</li>
                  <li>Desktop applications</li>
                  <li>Development/testing</li>
                </ul>
              </div>
            </div>

            <div class="col-md-6">
              <h3>üåê HTTP/SSE Transport</h3>
              <div class="callout bg-gradient-blue-light">
                <strong>Best For: Remote/networked deployments</strong>
                
                <h4>Advantages:</h4>
                <ul>
                  <li>‚úÖ Remote server access</li>
                  <li>‚úÖ Multiple concurrent clients</li>
                  <li>‚úÖ Standard web infrastructure</li>
                  <li>‚úÖ Load balancing support</li>
                  <li>‚úÖ Proxy/firewall friendly</li>
                  <li>‚úÖ TLS/SSL encryption</li>
                </ul>

                <h4>Limitations:</h4>
                <ul>
                  <li>‚ùå More complex setup</li>
                  <li>‚ùå Network latency</li>
                  <li>‚ùå Requires HTTP server</li>
                  <li>‚ùå Connection management overhead</li>
                </ul>

                <h4>Typical Use Cases:</h4>
                <ul>
                  <li>Cloud-hosted servers</li>
                  <li>Multi-user applications</li>
                  <li>Web integrations</li>
                  <li>Production deployments</li>
                </ul>
              </div>
            </div>
          </div>

          <h2>Message Flow Comparison</h2>
          <div class="mermaid">
sequenceDiagram
    participant C1 as Client
    participant S1 as STDIO Server
    
    Note over C1,S1: STDIO Transport
    C1->>S1: spawn process
    activate S1
    C1->>S1: write to stdin
    S1-->>C1: read from stdout
    C1->>S1: bidirectional messages
    S1-->>C1: over stdin/stdout
    C1->>S1: close stdin
    deactivate S1
    
    participant C2 as Client
    participant H as HTTP Server
    
    Note over C2,H: HTTP/SSE Transport
    C2->>H: POST /sse (establish SSE)
    activate H
    H-->>C2: SSE stream opened
    C2->>H: POST /message (request)
    H-->>C2: SSE: response event
    C2->>H: POST /message (request)
    H-->>C2: SSE: response event
    C2->>H: Close SSE connection
    deactivate H
          </div>

          <h2>Choosing a Transport</h2>

          <h3>Use STDIO When:</h3>
          <ul>
            <li>Your client and server run on the same machine</li>
            <li>You need simple deployment and configuration</li>
            <li>Building IDE extensions or desktop tools</li>
            <li>Process isolation is important</li>
            <li>You want automatic lifecycle management</li>
            <li>Network access is unavailable or restricted</li>
          </ul>

          <h3>Use HTTP/SSE When:</h3>
          <ul>
            <li>Server needs to be accessed remotely</li>
            <li>Multiple clients need to share one server</li>
            <li>Building web applications or services</li>
            <li>Deploying to cloud infrastructure</li>
            <li>You need load balancing or high availability</li>
            <li>Integration with existing HTTP services</li>
          </ul>

          <h2>Transport Independence</h2>
          <p>
            One of MCP's key design principles is <strong>transport independence</strong>. The same server code can 
            work with different transports:
          </p>

          <pre><code class="language-typescript">// Same server logic works with any transport
const server = new Server({
  name: 'example-server',
  version: '1.0.0'
}, {
  capabilities: {
    tools: {}
  }
});

// Define your server logic once
server.setRequestHandler(ListToolsRequestSchema, async () => {
  return {
    tools: [/* ... */]
  };
});

// Use with STDIO transport
const stdioTransport = new StdioServerTransport();
await server.connect(stdioTransport);

// OR use with HTTP transport (same server!)
const httpTransport = new HttpServerTransport({
  port: 3000,
  path: '/mcp'
});
await server.connect(httpTransport);</code></pre>

          <h2>Transport Capabilities</h2>
          <p>Both transports support all MCP features:</p>

          <table class="table table-striped">
            <thead>
              <tr>
                <th>Feature</th>
                <th>STDIO</th>
                <th>HTTP/SSE</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Client-initiated requests</td>
                <td>‚úÖ Yes</td>
                <td>‚úÖ Yes</td>
              </tr>
              <tr>
                <td>Server-initiated requests</td>
                <td>‚úÖ Yes</td>
                <td>‚úÖ Yes (via SSE)</td>
              </tr>
              <tr>
                <td>Notifications</td>
                <td>‚úÖ Yes</td>
                <td>‚úÖ Yes</td>
              </tr>
              <tr>
                <td>Subscriptions</td>
                <td>‚úÖ Yes</td>
                <td>‚úÖ Yes</td>
              </tr>
              <tr>
                <td>Streaming responses</td>
                <td>‚úÖ Yes</td>
                <td>‚úÖ Yes</td>
              </tr>
              <tr>
                <td>Binary data</td>
                <td>‚úÖ Yes (base64)</td>
                <td>‚úÖ Yes (base64)</td>
              </tr>
            </tbody>
          </table>

          <h2>Performance Considerations</h2>

          <h3>STDIO Performance:</h3>
          <ul>
            <li><strong>Latency:</strong> Very low (in-process pipe)</li>
            <li><strong>Throughput:</strong> High (OS-level IPC)</li>
            <li><strong>Overhead:</strong> Process spawn time only</li>
            <li><strong>Scalability:</strong> One process per client</li>
          </ul>

          <h3>HTTP/SSE Performance:</h3>
          <ul>
            <li><strong>Latency:</strong> Network-dependent</li>
            <li><strong>Throughput:</strong> Limited by network bandwidth</li>
            <li><strong>Overhead:</strong> HTTP parsing, connection management</li>
            <li><strong>Scalability:</strong> Many clients per server (with proper architecture)</li>
          </ul>

          <h2>Security Considerations</h2>

          <div class="row">
            <div class="col-md-6">
              <div class="callout">
                <strong>üîí STDIO Security:</strong>
                <ul>
                  <li>Process isolation provides security boundary</li>
                  <li>OS-level permissions control access</li>
                  <li>No network exposure</li>
                  <li>Limited to local machine threats</li>
                  <li>Trust based on process ownership</li>
                </ul>
              </div>
            </div>
            <div class="col-md-6">
              <div class="callout">
                <strong>üåê HTTP/SSE Security:</strong>
                <ul>
                  <li>Requires authentication mechanism</li>
                  <li>Use TLS for encryption</li>
                  <li>Network firewall configuration</li>
                  <li>CORS and origin validation</li>
                  <li>Rate limiting and DDoS protection</li>
                  <li>API key or OAuth integration</li>
                </ul>
              </div>
            </div>
          </div>

          <h2>Future Transports</h2>
          <p>
            MCP is designed to be transport-agnostic. Future versions may support additional transports:
          </p>

          <ul>
            <li><strong>WebSocket:</strong> Full-duplex web communication</li>
            <li><strong>gRPC:</strong> High-performance RPC framework</li>
            <li><strong>Unix Domain Sockets:</strong> Local high-speed IPC</li>
            <li><strong>Message Queues:</strong> RabbitMQ, Kafka integration</li>
            <li><strong>Custom Transports:</strong> Application-specific protocols</li>
          </ul>

          <div class="callout bg-gradient-blue-light">
            <strong>üí° Extensibility:</strong> The MCP SDK is designed to allow custom transport implementations. 
            You can create your own transport by implementing the transport interface.
          </div>

        </section>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê STDIO TRANSPORT ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <section id="stdio-transport" role="article">
          <h1>üì° STDIO Transport</h1>
          <span class="badge">stdio</span> <span class="badge">local</span> <span class="badge">process</span>

          <h2>What is STDIO Transport?</h2>
          <p>
            <strong>STDIO (Standard Input/Output) transport</strong> enables MCP communication through process 
            stdin and stdout streams. The client spawns the server as a child process and exchanges JSON-RPC 
            messages through standard Unix/Windows pipes.
          </p>

          <div class="callout">
            <strong>üéØ Perfect For:</strong> Local integrations where client and server run on the same machine, 
            such as IDE extensions, CLI tools, and desktop applications.
          </div>

          <h2>How STDIO Transport Works</h2>
          <div class="mermaid">
sequenceDiagram
    participant Client
    participant OS
    participant Server Process
    
    Note over Client: User initiates connection
    Client->>OS: spawn server process
    OS->>Server Process: create process<br/>with stdin/stdout pipes
    activate Server Process
    
    Note over Client,Server Process: Initialization
    Client->>Server Process: initialize (via stdin)
    Server Process-->>Client: initialized (via stdout)
    
    Note over Client,Server Process: Normal Operations
    Client->>Server Process: tools/list
    Server Process-->>Client: tools list
    
    Client->>Server Process: tools/call
    Server Process-->>Client: result
    
    Note over Server Process,Client: Server-initiated request
    Server Process->>Client: sampling/createMessage
    Client-->>Server Process: sampling result
    
    Note over Client,Server Process: Shutdown
    Client->>Server Process: close stdin (EOF)
    Server Process->>Server Process: cleanup
    deactivate Server Process
    Server Process-->>Client: process exits
          </div>

          <h2>Message Format</h2>
          <p>
            Messages are sent as <strong>newline-delimited JSON</strong> (JSON-RPC 2.0 objects):
          </p>

          <h3>Client ‚Üí Server (stdin):</h3>
          <pre><code class="language-json">{"jsonrpc":"2.0","id":1,"method":"tools/list"}
</code></pre>

          <h3>Server ‚Üí Client (stdout):</h3>
          <pre><code class="language-json">{"jsonrpc":"2.0","id":1,"result":{"tools":[{"name":"read_file","description":"Read a file"}]}}
</code></pre>

          <div class="callout bg-gradient-orange">
            <strong>‚ö†Ô∏è Important:</strong> Each message must be a <strong>single line</strong> terminated by a newline 
            character (<code>\n</code>). Multi-line JSON is not supported.
          </div>

          <h2>Client-Side Implementation</h2>

          <h3>Basic STDIO Client:</h3>
          <pre><code class="language-typescript">import { Client } from '@modelcontextprotocol/sdk/client/index.js';
import { StdioClientTransport } from '@modelcontextprotocol/sdk/client/stdio.js';

// Create client with STDIO transport
const transport = new StdioClientTransport({
  command: 'python',              // Server executable
  args: ['server.py'],            // Server arguments
  env: {                          // Environment variables
    ...process.env,
    CUSTOM_VAR: 'value'
  }
});

const client = new Client({
  name: 'example-client',
  version: '1.0.0'
}, {
  capabilities: {}
});

// Connect (spawns server process)
await client.connect(transport);

// Use the client
const tools = await client.request(
  { method: 'tools/list' },
  ListToolsResultSchema
);

console.log('Available tools:', tools);

// Cleanup (closes stdin, terminates server)
await client.close();</code></pre>

          <h3>Advanced Configuration:</h3>
          <pre><code class="language-typescript">const transport = new StdioClientTransport({
  command: 'node',
  args: ['dist/server.js', '--verbose'],
  
  // Working directory for server process
  cwd: '/path/to/server',
  
  // Environment variables
  env: {
    ...process.env,
    NODE_ENV: 'production',
    LOG_LEVEL: 'debug'
  },
  
  // Stdio configuration
  stderr: 'inherit',  // Show server errors in client console
  
  // Process spawn options
  shell: false,       // Don't use shell (more secure)
  windowsHide: true   // Hide console window on Windows
});</code></pre>

          <h2>Server-Side Implementation</h2>

          <h3>Basic STDIO Server:</h3>
          <pre><code class="language-typescript">import { Server } from '@modelcontextprotocol/sdk/server/index.js';
import { StdioServerTransport } from '@modelcontextprotocol/sdk/server/stdio.js';

const server = new Server({
  name: 'example-server',
  version: '1.0.0'
}, {
  capabilities: {
    tools: {}
  }
});

// Implement your server logic
server.setRequestHandler(ListToolsRequestSchema, async () => {
  return {
    tools: [{
      name: 'example_tool',
      description: 'An example tool',
      inputSchema: {
        type: 'object',
        properties: {}
      }
    }]
  };
});

// Create STDIO transport and connect
const transport = new StdioServerTransport();
await server.connect(transport);

// Server now reads from stdin and writes to stdout
// Runs until stdin closes (EOF)</code></pre>

          <h3>With Error Handling:</h3>
          <pre><code class="language-typescript">import { Server } from '@modelcontextprotocol/sdk/server/index.js';
import { StdioServerTransport } from '@modelcontextprotocol/sdk/server/stdio.js';

const server = new Server({
  name: 'robust-server',
  version: '1.0.0'
}, {
  capabilities: { tools: {} }
});

// Setup handlers...
server.setRequestHandler(ListToolsRequestSchema, async () => ({
  tools: [/* ... */]
}));

// Error handling
server.onerror = (error) => {
  console.error('[MCP Error]', error);
};

process.on('SIGINT', async () => {
  await server.close();
  process.exit(0);
});

process.on('SIGTERM', async () => {
  await server.close();
  process.exit(0);
});

// Connect
try {
  const transport = new StdioServerTransport();
  await server.connect(transport);
  console.error('Server started successfully'); // Log to stderr, not stdout!
} catch (error) {
  console.error('Failed to start server:', error);
  process.exit(1);
}</code></pre>

          <div class="callout bg-gradient-red">
            <strong>‚ö†Ô∏è Critical:</strong> Never write to <code>stdout</code> except for MCP messages! Use 
            <code>stderr</code> for logs, debugging, and error messages.
          </div>

          <h2>Process Lifecycle</h2>

          <h3>Startup Sequence:</h3>
          <ol>
            <li>Client spawns server process</li>
            <li>Client waits for process to be ready</li>
            <li>Client sends <code>initialize</code> request</li>
            <li>Server responds with <code>initialized</code></li>
            <li>Normal communication begins</li>
          </ol>

          <h3>Shutdown Sequence:</h3>
          <ol>
            <li>Client closes stdin (sends EOF)</li>
            <li>Server detects EOF and begins cleanup</li>
            <li>Server closes any open resources</li>
            <li>Server process exits</li>
            <li>Client detects process termination</li>
          </ol>

          <div class="mermaid">
stateDiagram-v2
    [*] --> Spawning: Client spawns process
    Spawning --> Initializing: Process started
    Initializing --> Ready: initialize/initialized
    Ready --> Operating: Normal operations
    Operating --> Operating: Requests/responses
    Operating --> Closing: stdin closed (EOF)
    Closing --> Terminated: Process exits
    Terminated --> [*]
    
    Operating --> Error: Fatal error
    Error --> Terminated
          </div>

          <h2>Common Patterns</h2>

          <h3>1. Multi-Language Server:</h3>
          <pre><code class="language-typescript">// TypeScript client connecting to Python server
const transport = new StdioClientTransport({
  command: 'python',
  args: ['-m', 'my_mcp_server']
});

// Or Node.js server
const transport = new StdioClientTransport({
  command: 'node',
  args: ['server.js']
});

// Or compiled executable
const transport = new StdioClientTransport({
  command: './my-server',
  args: ['--config', 'config.json']
});</code></pre>

          <h3>2. Development vs Production:</h3>
          <pre><code class="language-typescript">const isDev = process.env.NODE_ENV === 'development';

const transport = new StdioClientTransport({
  command: isDev ? 'ts-node' : 'node',
  args: isDev ? ['src/server.ts'] : ['dist/server.js'],
  env: {
    ...process.env,
    LOG_LEVEL: isDev ? 'debug' : 'info'
  },
  stderr: isDev ? 'inherit' : 'pipe'  // Show logs in dev
});</code></pre>

          <h3>3. Server with Configuration File:</h3>
          <pre><code class="language-typescript">const transport = new StdioClientTransport({
  command: 'my-server',
  args: [
    '--config', path.join(configDir, 'server-config.json'),
    '--workspace', workspacePath,
    '--verbose'
  ],
  cwd: workspacePath
});</code></pre>

          <h2>Debugging STDIO Servers</h2>

          <div class="code-tabs">
            <ul class="nav nav-tabs" role="tablist">
              <li class="nav-item" role="presentation">
                <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#debug-stderr" type="button" role="tab">Log to stderr</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#debug-capture" type="button" role="tab">Capture stderr in client</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#debug-message" type="button" role="tab">Message logging</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#debug-external" type="button" role="tab">External Inspection</button>
              </li>
            </ul>
            <div class="tab-content">
              <div class="tab-pane fade show active" id="debug-stderr" role="tabpanel">
                <pre><code class="language-typescript">// Server debug logging
console.error('[DEBUG] Received request:', request.method);
console.error('[DEBUG] Processing tool call:', toolName);
console.error('[DEBUG] Returning result:', result);</code></pre>
              </div>
              <div class="tab-pane fade" id="debug-capture" role="tabpanel">
                <pre><code class="language-typescript">const transport = new StdioClientTransport({
  command: 'node',
  args: ['server.js'],
  stderr: 'inherit'  // Show server logs in client terminal
});</code></pre>
              </div>
              <div class="tab-pane fade" id="debug-message" role="tabpanel">
                <pre><code class="language-typescript">const server = new Server(/* ... */);

// Log all messages (to stderr)
const originalConnect = server.connect.bind(server);
server.connect = async (transport) => {
  transport.onmessage = (message) => {
    console.error('üì• Received:', JSON.stringify(message));
  };
  
  transport.send = ((originalSend) => {
    return (message) => {
      console.error('üì§ Sending:', JSON.stringify(message));
      return originalSend(message);
    };
  })(transport.send);
  
  return originalConnect(transport);
};</code></pre>
              </div>
              <div class="tab-pane fade" id="debug-external" role="tabpanel">
                <pre><code class="language-bash"># Run server manually and inspect stdio
$ node server.js
# Type JSON-RPC messages manually:
{"jsonrpc":"2.0","id":1,"method":"initialize","params":{"protocolVersion":"2024-11-05","capabilities":{},"clientInfo":{"name":"test","version":"1.0.0"}}}
# See responses in stdout</code></pre>
              </div>
            </div>
          </div>

          <h2>Best Practices</h2>

          <div class="row">
            <div class="col-md-6">
              <div class="callout">
                <strong>‚úÖ DO</strong>
                <ul>
                  <li>Log to stderr, never stdout</li>
                  <li>Handle SIGINT/SIGTERM gracefully</li>
                  <li>Validate server executable exists before spawning</li>
                  <li>Set appropriate timeouts for initialization</li>
                  <li>Use absolute paths for executables</li>
                  <li>Clean up resources on shutdown</li>
                  <li>Handle process exit codes</li>
                  <li>Set working directory appropriately</li>
                </ul>
              </div>
            </div>
            <div class="col-md-6">
              <div class="callout">
                <strong>‚ùå DON'T</strong>
                <ul>
                  <li>Write to stdout except MCP messages</li>
                  <li>Use stdout for debugging or logging</li>
                  <li>Send multi-line JSON</li>
                  <li>Forget to handle process termination</li>
                  <li>Leave child processes orphaned</li>
                  <li>Ignore stderr output (may contain errors)</li>
                  <li>Hardcode paths without validation</li>
                  <li>Forget to set appropriate environment</li>
                </ul>
              </div>
            </div>
          </div>

          <h2>Troubleshooting</h2>

          <h3>Problem: Server process won't start</h3>
          <ul>
            <li>Check executable path is correct and absolute</li>
            <li>Verify executable has execute permissions</li>
            <li>Check environment variables are set correctly</li>
            <li>Ensure all dependencies are installed</li>
            <li>Look at stderr output for error messages</li>
          </ul>

          <h3>Problem: Messages not being received</h3>
          <ul>
            <li>Verify each message ends with <code>\n</code></li>
            <li>Ensure no extraneous output on stdout</li>
            <li>Check JSON is valid and compact (no formatting)</li>
            <li>Confirm using JSON-RPC 2.0 format</li>
          </ul>

          <h3>Problem: Server process hangs</h3>
          <ul>
            <li>Check for deadlocks in request handlers</li>
            <li>Ensure async operations complete</li>
            <li>Verify no blocking I/O on main thread</li>
            <li>Look for uncaught promise rejections</li>
          </ul>

          <h3>Problem: Process doesn't terminate cleanly</h3>
          <ul>
            <li>Implement proper signal handlers (SIGINT/SIGTERM)</li>
            <li>Close all resources in shutdown handler</li>
            <li>Await any pending operations</li>
            <li>Set shutdown timeout if needed</li>
          </ul>

          <h2>Performance Tips</h2>

          <h3>Fast Startup:</h3>
          <ul>
            <li>Minimize server startup time (avoid heavy initialization)</li>
            <li>Lazy-load dependencies when possible</li>
            <li>Use compiled languages for very fast startup</li>
            <li>Consider keeping server process alive for repeated use</li>
          </ul>

          <h3>Efficient Communication:</h3>
          <ul>
            <li>Keep messages compact (minimize JSON size)</li>
            <li>Batch operations when possible</li>
            <li>Use appropriate buffer sizes</li>
            <li>Process messages asynchronously</li>
          </ul>

          <h3>Resource Management:</h3>
          <ul>
            <li>Limit concurrent operations</li>
            <li>Clean up resources promptly</li>
            <li>Monitor memory usage</li>
            <li>Implement request queuing if needed</li>
          </ul>

        </section>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê HTTP TRANSPORT ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <section id="http-transport" role="article">
          <h1>üåê HTTP Transport</h1>
          <span class="badge">http</span> <span class="badge">remote</span> <span class="badge">REST</span>

          <h2>What is HTTP Transport?</h2>
          <p>
            <strong>HTTP with Server-Sent Events (SSE) transport</strong> enables MCP communication over HTTP, 
            allowing remote server access and supporting multiple concurrent clients. This transport uses 
            <strong>HTTP POST</strong> for client-to-server requests and <strong>Server-Sent Events</strong> 
            for server-to-client messages.
          </p>

          <div class="callout">
            <strong>üéØ Perfect For:</strong> Cloud deployments, web applications, multi-user scenarios, and 
            production environments requiring scalability and remote access.
          </div>

          <h2>How HTTP Transport Works</h2>
          <div class="mermaid">
sequenceDiagram
    participant Client
    participant HTTP Server
    participant MCP Server
    
    Note over Client,MCP Server: Establish Connection
    Client->>HTTP Server: GET /sse
    activate HTTP Server
    HTTP Server-->>Client: SSE stream opened<br/>(Content-Type: text/event-stream)
    
    Note over Client,MCP Server: Client ‚Üí Server Requests
    Client->>HTTP Server: POST /message<br/>{method: "initialize"}
    HTTP Server->>MCP Server: Forward request
    MCP Server-->>HTTP Server: Response
    HTTP Server-->>Client: SSE event: response
    
    Client->>HTTP Server: POST /message<br/>{method: "tools/list"}
    HTTP Server->>MCP Server: Forward request
    MCP Server-->>HTTP Server: Tools list
    HTTP Server-->>Client: SSE event: response
    
    Note over Client,MCP Server: Server ‚Üí Client Requests
    MCP Server->>HTTP Server: sampling/createMessage
    HTTP Server-->>Client: SSE event: request
    Client->>HTTP Server: POST /message<br/>Response to sampling
    HTTP Server->>MCP Server: Forward response
    
    Note over Client,MCP Server: Close Connection
    Client->>HTTP Server: Close SSE connection
    deactivate HTTP Server
          </div>

          <h2>Transport Architecture</h2>

          <h3>Dual-Channel Design:</h3>
          <ul>
            <li><strong>HTTP POST:</strong> Client sends requests and responses to server</li>
            <li><strong>Server-Sent Events (SSE):</strong> Server sends requests, responses, and notifications to client</li>
          </ul>

          <div class="mermaid">
graph LR
    subgraph "Client"
        A[MCP Client]
        B[HTTP Client]
    end
    
    subgraph "Server"
        C[HTTP Endpoint]
        D[SSE Endpoint]
        E[MCP Server]
    end
    
    A -->|Requests| B
    B -->|POST /message| C
    C --> E
    
    E --> D
    D -->|SSE Stream| B
    B -->|Events| A
    
    style A fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
    style E fill:#fff3e0,stroke:#f57c00,stroke-width:2px
    style C fill:#e8f5e9,stroke:#388e3c,stroke-width:2px
    style D fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px
          </div>

          <h2>Endpoints</h2>

          <h3>1. SSE Endpoint (GET /sse)</h3>
          <p>Establishes a persistent Server-Sent Events connection for server-to-client messages.</p>

          <h4>Request:</h4>
          <pre><code class="language-http">GET /sse HTTP/1.1
Host: mcp-server.example.com
Accept: text/event-stream
Cache-Control: no-cache</code></pre>

          <h4>Response:</h4>
          <pre><code class="language-http">HTTP/1.1 200 OK
Content-Type: text/event-stream
Cache-Control: no-cache
Connection: keep-alive

event: message
data: {"jsonrpc":"2.0","method":"notifications/initialized"}

event: message
data: {"jsonrpc":"2.0","id":1,"result":{"tools":[]}}
</code></pre>

          <h3>2. Message Endpoint (POST /message)</h3>
          <p>Receives client-to-server requests and responses.</p>

          <h4>Request:</h4>
          <pre><code class="language-http">POST /message HTTP/1.1
Host: mcp-server.example.com
Content-Type: application/json

{
  "jsonrpc": "2.0",
  "id": 1,
  "method": "tools/list"
}</code></pre>

          <h4>Response:</h4>
          <pre><code class="language-http">HTTP/1.1 202 Accepted

(Response will arrive via SSE stream)</code></pre>

          <h2>Server-Side Implementation</h2>

          <div class="code-tabs">
            <ul class="nav nav-tabs" role="tablist">
              <li class="nav-item" role="presentation">
                <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#http-server-basic" type="button" role="tab">Basic HTTP Server</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#http-server-auth" type="button" role="tab">With Authentication</button>
              </li>
            </ul>
            <div class="tab-content">
              <div class="tab-pane fade show active" id="http-server-basic" role="tabpanel">
                <pre><code class="language-typescript">import express from 'express';
import { Server } from '@modelcontextprotocol/sdk/server/index.js';
import { SSEServerTransport } from '@modelcontextprotocol/sdk/server/sse.js';

const app = express();
app.use(express.json());

const server = new Server({
  name: 'http-example-server',
  version: '1.0.0'
}, {
  capabilities: {
    tools: {}
  }
});

// Implement server logic
server.setRequestHandler(ListToolsRequestSchema, async () => {
  return {
    tools: [{
      name: 'example',
      description: 'Example tool',
      inputSchema: { type: 'object', properties: {} }
    }]
  };
});

// SSE endpoint
app.get('/sse', async (req, res) => {
  console.log('Client connected to SSE');
  
  const transport = new SSEServerTransport('/message', res);
  await server.connect(transport);
  
  req.on('close', () => {
    console.log('Client disconnected');
  });
});

// Message endpoint
app.post('/message', async (req, res) => {
  // Transport handles the message
  res.status(202).end();
});

const PORT = process.env.PORT || 3000;
app.listen(PORT, () => {
  console.log(`MCP HTTP server listening on port ${PORT}`);
});</code></pre>
              </div>
              <div class="tab-pane fade" id="http-server-auth" role="tabpanel">
                <pre><code class="language-typescript">import express from 'express';
import { Server } from '@modelcontextprotocol/sdk/server/index.js';
import { SSEServerTransport } from '@modelcontextprotocol/sdk/server/sse.js';

const app = express();
app.use(express.json());

// Authentication middleware
const authenticate = (req, res, next) => {
  const apiKey = req.headers['x-api-key'];
  
  if (!apiKey || !isValidApiKey(apiKey)) {
    return res.status(401).json({ error: 'Unauthorized' });
  }
  
  req.user = getUserFromApiKey(apiKey);
  next();
};

// Apply auth to all MCP endpoints
app.use(['/sse', '/message'], authenticate);

// SSE endpoint
app.get('/sse', async (req, res) => {
  console.log(`User ${req.user.id} connected`);
  
  const transport = new SSEServerTransport('/message', res);
  
  // Create user-specific server instance
  const userServer = createServerForUser(req.user);
  await userServer.connect(transport);
  
  req.on('close', () => {
    console.log(`User ${req.user.id} disconnected`);
  });
});

app.post('/message', async (req, res) => {
  res.status(202).end();
});

app.listen(3000);</code></pre>
              </div>
            </div>
          </div>

          <h2>Client-Side Implementation</h2>

          <div class="code-tabs">
            <ul class="nav nav-tabs" role="tablist">
              <li class="nav-item" role="presentation">
                <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#client-basic" type="button" role="tab">Basic Client</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#client-headers" type="button" role="tab">Custom Headers</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#client-browser" type="button" role="tab">Browser-Based</button>
              </li>
            </ul>
            <div class="tab-content">
              <div class="tab-pane fade show active" id="client-basic" role="tabpanel">
                <pre><code class="language-typescript">import { Client } from '@modelcontextprotocol/sdk/client/index.js';
import { SSEClientTransport } from '@modelcontextprotocol/sdk/client/sse.js';

const client = new Client({
  name: 'http-client',
  version: '1.0.0'
}, {
  capabilities: {}
});

const transport = new SSEClientTransport(
  new URL('http://localhost:3000/sse')
);

await client.connect(transport);

// Use the client
const tools = await client.request(
  { method: 'tools/list' },
  ListToolsResultSchema
);

console.log('Tools:', tools);

// Cleanup
await client.close();</code></pre>
              </div>
              <div class="tab-pane fade" id="client-headers" role="tabpanel">
                <pre><code class="language-typescript">const transport = new SSEClientTransport(
  new URL('https://mcp-server.example.com/sse'),
  {
    headers: {
      'X-API-Key': process.env.API_KEY,
      'User-Agent': 'MyMCPClient/1.0'
    }
  }
);

await client.connect(transport);</code></pre>
              </div>
              <div class="tab-pane fade" id="client-browser" role="tabpanel">
                <pre><code class="language-typescript">// Client running in browser
import { Client } from '@modelcontextprotocol/sdk/client/index.js';
import { SSEClientTransport } from '@modelcontextprotocol/sdk/client/sse.js';

const client = new Client({
  name: 'browser-client',
  version: '1.0.0'
}, {
  capabilities: {
    sampling: {}  // Browser can provide sampling
  }
});

const transport = new SSEClientTransport(
  new URL('https://api.example.com/mcp/sse')
);

await client.connect(transport);

// Now browser can communicate with remote MCP server
const result = await client.request({
  method: 'tools/call',
  params: {
    name: 'search_documents',
    arguments: { query: 'annual report' }
  }
}, CallToolResultSchema);</code></pre>
              </div>
            </div>
          </div>

          <h2>SSE Message Format</h2>

          <h3>Event Structure:</h3>
          <pre><code class="language-text">event: message
data: {"jsonrpc":"2.0","id":1,"result":{...}}

event: message
data: {"jsonrpc":"2.0","method":"notifications/progress","params":{...}}

event: endpoint
data: /message
</code></pre>

          <h3>Event Types:</h3>
          <table class="table table-striped">
            <thead>
              <tr>
                <th>Event Type</th>
                <th>Purpose</th>
                <th>Data Content</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>message</strong></td>
                <td>JSON-RPC messages from server</td>
                <td>JSON-RPC 2.0 object</td>
              </tr>
              <tr>
                <td><strong>endpoint</strong></td>
                <td>Inform client of message endpoint</td>
                <td>URL path (e.g., "/message")</td>
              </tr>
            </tbody>
          </table>

          <h2>Connection Management</h2>

          <h3>Connection Lifecycle:</h3>
          <ol>
            <li>Client opens SSE connection (GET /sse)</li>
            <li>Server sends <code>endpoint</code> event</li>
            <li>Client sends <code>initialize</code> via POST</li>
            <li>Server responds via SSE</li>
            <li>Bidirectional communication continues</li>
            <li>Client closes SSE connection or times out</li>
          </ol>

          <div class="code-tabs">
            <ul class="nav nav-tabs" role="tablist">
              <li class="nav-item" role="presentation">
                <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#conn-heartbeat" type="button" role="tab">Heartbeat/Keep-Alive</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#conn-reconnect" type="button" role="tab">Reconnection Strategy</button>
              </li>
            </ul>
            <div class="tab-content">
              <div class="tab-pane fade show active" id="conn-heartbeat" role="tabpanel">
                <pre><code class="language-typescript">// Server heartbeat
app.get('/sse', async (req, res) => {
  const transport = new SSEServerTransport('/message', res);
  await server.connect(transport);
  
  // Send keep-alive comments every 30 seconds
  const heartbeat = setInterval(() => {
    res.write(': heartbeat\n\n');
  }, 30000);
  
  req.on('close', () => {
    clearInterval(heartbeat);
  });
});</code></pre>
              </div>
              <div class="tab-pane fade" id="conn-reconnect" role="tabpanel">
                <pre><code class="language-typescript">// Client with auto-reconnect
async function connectWithRetry(maxRetries = 5) {
  let retries = 0;
  
  while (retries < maxRetries) {
    try {
      const transport = new SSEClientTransport(
        new URL('http://localhost:3000/sse')
      );
      
      await client.connect(transport);
      console.log('Connected successfully');
      return;
      
    } catch (error) {
      retries++;
      console.error(`Connection failed (${retries}/${maxRetries}):`, error);
      
      if (retries < maxRetries) {
        const delay = Math.min(1000 * Math.pow(2, retries), 30000);
        await new Promise(resolve => setTimeout(resolve, delay));
      }
    }
  }
  
  throw new Error('Failed to connect after max retries');
}</code></pre>
              </div>
            </div>
          </div>

          <h2>Load Balancing & Scaling</h2>

          <div class="code-tabs">
            <ul class="nav nav-tabs" role="tablist">
              <li class="nav-item" role="presentation">
                <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#lb-stateless" type="button" role="tab">Stateless Design</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#lb-session" type="button" role="tab">Session Management</button>
              </li>
            </ul>
            <div class="tab-content">
              <div class="tab-pane fade show active" id="lb-stateless" role="tabpanel">
                <pre><code class="language-typescript">// Each SSE connection gets independent server instance
app.get('/sse', async (req, res) => {
  // Create new server for this connection
  const server = new Server({
    name: 'scalable-server',
    version: '1.0.0'
  }, {
    capabilities: { tools: {} }
  });
  
  // Setup handlers
  setupServerHandlers(server);
  
  // Connect
  const transport = new SSEServerTransport('/message', res);
  await server.connect(transport);
});</code></pre>
              </div>
              <div class="tab-pane fade" id="lb-session" role="tabpanel">
                <pre><code class="language-typescript">// Track active sessions
const sessions = new Map();

app.get('/sse', async (req, res) => {
  const sessionId = generateSessionId();
  
  const server = new Server(/* ... */);
  setupServerHandlers(server);
  
  const transport = new SSEServerTransport('/message', res);
  await server.connect(transport);
  
  // Store session
  sessions.set(sessionId, { server, transport, user: req.user });
  
  // Cleanup on disconnect
  req.on('close', () => {
    sessions.delete(sessionId);
    console.log(`Session ${sessionId} closed. Active: ${sessions.size}`);
  });
  
  // Set session cookie
  res.cookie('mcp_session', sessionId, { httpOnly: true });
});</code></pre>
              </div>
            </div>
          </div>

          <h2>Security Best Practices</h2>

          <div class="row">
            <div class="col-md-6">
              <div class="callout">
                <strong>üîí Essential Security:</strong>
                <ul>
                  <li><strong>Use HTTPS/TLS</strong> in production</li>
                  <li><strong>Implement authentication</strong> (API keys, OAuth, JWT)</li>
                  <li><strong>Validate CORS</strong> for browser clients</li>
                  <li><strong>Rate limiting</strong> to prevent abuse</li>
                  <li><strong>Input validation</strong> on all requests</li>
                  <li><strong>Timeout connections</strong> to prevent resource exhaustion</li>
                </ul>
              </div>
            </div>
            <div class="col-md-6">
              <div class="callout">
                <strong>üõ°Ô∏è Advanced Security:</strong>
                <ul>
                  <li>API versioning and deprecation</li>
                  <li>Request signing and verification</li>
                  <li>IP whitelisting for sensitive servers</li>
                  <li>Audit logging for all operations</li>
                  <li>DDoS protection</li>
                  <li>Web Application Firewall (WAF)</li>
                </ul>
              </div>
            </div>
          </div>

          <h3>CORS Configuration:</h3>
          <pre><code class="language-typescript">import cors from 'cors';

// Configure CORS
app.use(cors({
  origin: [
    'https://app.example.com',
    'https://admin.example.com'
  ],
  credentials: true,
  methods: ['GET', 'POST'],
  allowedHeaders: ['Content-Type', 'X-API-Key']
}));</code></pre>

          <h3>Rate Limiting:</h3>
          <pre><code class="language-typescript">import rateLimit from 'express-rate-limit';

const limiter = rateLimit({
  windowMs: 15 * 60 * 1000,  // 15 minutes
  max: 100,                   // Limit each IP to 100 requests per window
  message: 'Too many requests, please try again later'
});

app.use(['/sse', '/message'], limiter);</code></pre>

          <h2>Best Practices</h2>

          <div class="row">
            <div class="col-md-6">
              <div class="callout">
                <strong>‚úÖ DO</strong>
                <ul>
                  <li>Use HTTPS in production</li>
                  <li>Implement proper authentication</li>
                  <li>Set connection timeouts</li>
                  <li>Handle reconnections gracefully</li>
                  <li>Log all connections and errors</li>
                  <li>Monitor active connections</li>
                  <li>Implement health check endpoints</li>
                  <li>Use load balancers for scaling</li>
                  <li>Validate all input data</li>
                </ul>
              </div>
            </div>
            <div class="col-md-6">
              <div class="callout">
                <strong>‚ùå DON'T</strong>
                <ul>
                  <li>Use HTTP without TLS in production</li>
                  <li>Allow unauthenticated connections</li>
                  <li>Keep connections open indefinitely</li>
                  <li>Ignore CORS configuration</li>
                  <li>Store sensitive data in cookies</li>
                  <li>Expose internal errors to clients</li>
                  <li>Forget to clean up resources</li>
                  <li>Skip rate limiting</li>
                  <li>Share state between connections unsafely</li>
                </ul>
              </div>
            </div>
          </div>

          <h2>Monitoring & Observability</h2>

          <h3>Health Check Endpoint:</h3>
          <pre><code class="language-typescript">app.get('/health', (req, res) => {
  res.json({
    status: 'healthy',
    activeConnections: sessions.size,
    uptime: process.uptime(),
    memory: process.memoryUsage()
  });
});

// Readiness check
app.get('/ready', (req, res) => {
  const isReady = checkDatabaseConnection() && checkExternalServices();
  res.status(isReady ? 200 : 503).json({ ready: isReady });
});</code></pre>

          <h3>Metrics Collection:</h3>
          <pre><code class="language-typescript">// Track metrics
let metrics = {
  totalConnections: 0,
  activeConnections: 0,
  totalRequests: 0,
  errors: 0
};

app.get('/sse', async (req, res) => {
  metrics.totalConnections++;
  metrics.activeConnections++;
  
  // ... connection logic ...
  
  req.on('close', () => {
    metrics.activeConnections--;
  });
});

app.post('/message', async (req, res) => {
  metrics.totalRequests++;
  // ... handle message ...
});

// Metrics endpoint (for Prometheus, etc.)
app.get('/metrics', (req, res) => {
  res.json(metrics);
});</code></pre>

          <h2>Troubleshooting</h2>

          <h3>SSE Connection Issues:</h3>
          <ul>
            <li>Check CORS configuration for browser clients</li>
            <li>Verify firewall allows long-lived connections</li>
            <li>Check proxy/load balancer SSE support</li>
            <li>Ensure Content-Type is text/event-stream</li>
            <li>Disable response buffering</li>
          </ul>

          <h3>Message Delivery Problems:</h3>
          <ul>
            <li>Verify POST endpoint matches SSE endpoint path</li>
            <li>Check request/response correlation (ID matching)</li>
            <li>Ensure JSON is valid</li>
            <li>Monitor for connection drops</li>
          </ul>

          <h3>Performance Issues:</h3>
          <ul>
            <li>Monitor active connection count</li>
            <li>Check for memory leaks (connection cleanup)</li>
            <li>Optimize message size</li>
            <li>Use connection pooling for external resources</li>
            <li>Consider horizontal scaling</li>
          </ul>

        </section>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê BUILDING WITH MCP ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <section id="building" role="article">
          <h1>üë®‚Äçüíª Building with MCP</h1>
          <span class="badge">development</span> <span class="badge">building</span> <span class="badge">implementation</span>

          <h2>Getting Started</h2>
          <p>
            Building with the <strong>Model Context Protocol (MCP)</strong> involves creating either servers 
            (to expose capabilities) or clients (to consume capabilities), or both. The MCP ecosystem provides 
            SDKs, tools, and best practices to make development straightforward and productive.
          </p>

          <div class="callout">
            <strong>üéØ Development Path:</strong> Most developers start by building MCP servers to expose their 
            domain-specific capabilities, then integrate existing MCP clients (like Claude Desktop) to consume them.
          </div>

          <h2>What Can You Build?</h2>

          <div class="row">
            <div class="col-md-6">
              <h3>üñ•Ô∏è MCP Servers</h3>
              <div class="callout bg-gradient-blue-light">
                <p><strong>Expose capabilities to AI applications</strong></p>
                
                <h4>Common Server Types:</h4>
                <ul>
                  <li><strong>Data Access:</strong> Databases, APIs, file systems</li>
                  <li><strong>Tool Providers:</strong> Code execution, analysis, transformations</li>
                  <li><strong>Knowledge Bases:</strong> Documentation, wikis, archives</li>
                  <li><strong>Service Integrations:</strong> Slack, GitHub, Jira, etc.</li>
                  <li><strong>Domain Experts:</strong> Industry-specific logic and data</li>
                </ul>

                <h4>Example Use Cases:</h4>
                <ul>
                  <li>Database query server for business intelligence</li>
                  <li>Git operations server for code management</li>
                  <li>Documentation search server for developer help</li>
                  <li>Kubernetes management server for DevOps</li>
                </ul>
              </div>
            </div>

            <div class="col-md-6">
              <h3>üíª MCP Clients</h3>
              <div class="callout bg-gradient-orange">
                <p><strong>Consume capabilities from MCP servers</strong></p>
                
                <h4>Common Client Types:</h4>
                <ul>
                  <li><strong>AI Assistants:</strong> Chat interfaces with AI models</li>
                  <li><strong>IDEs/Editors:</strong> VS Code, JetBrains extensions</li>
                  <li><strong>CLI Tools:</strong> Command-line interfaces</li>
                  <li><strong>Web Apps:</strong> Browser-based applications</li>
                  <li><strong>Automation:</strong> Scripts, workflows, agents</li>
                </ul>

                <h4>Example Use Cases:</h4>
                <ul>
                  <li>Custom AI chat application</li>
                  <li>IDE extension with AI capabilities</li>
                  <li>Workflow automation tool</li>
                  <li>Multi-server orchestration platform</li>
                </ul>
              </div>
            </div>
          </div>

          <h2>Development Architecture</h2>
          <div class="mermaid">
graph TB
    subgraph "Your MCP Server"
        S1[Server Implementation]
        S2[Tool Handlers]
        S3[Resource Handlers]
        S4[Prompt Templates]
        S5[Transport Layer]
    end
    
    subgraph "MCP SDK"
        SDK1[Server SDK]
        SDK2[Protocol Layer]
        SDK3[Type Definitions]
    end
    
    subgraph "Your MCP Client"
        C1[Client Implementation]
        C2[Server Manager]
        C3[UI/Interface]
        C4[Request Handler]
        C5[Transport Layer]
    end
    
    subgraph "MCP SDK"
        SDK4[Client SDK]
        SDK5[Protocol Layer]
        SDK6[Type Definitions]
    end
    
    S1 --> S2
    S1 --> S3
    S1 --> S4
    S1 --> SDK1
    SDK1 --> SDK2
    SDK2 --> SDK3
    SDK2 --> S5
    
    C1 --> C2
    C1 --> C3
    C1 --> C4
    C1 --> SDK4
    SDK4 --> SDK5
    SDK5 --> SDK6
    SDK5 --> C5
    
    S5 <-->|JSON-RPC| C5
    
    style S1 fill:#fff3e0,stroke:#f57c00,stroke-width:3px
    style C1 fill:#e3f2fd,stroke:#1976d2,stroke-width:3px
    style SDK1 fill:#e8f5e9,stroke:#388e3c,stroke-width:2px
    style SDK4 fill:#e8f5e9,stroke:#388e3c,stroke-width:2px
          </div>

          <h2>Language Support</h2>
          <table class="table table-striped">
            <thead>
              <tr>
                <th>Language</th>
                <th>Official SDK</th>
                <th>Maturity</th>
                <th>Use For</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>TypeScript/JavaScript</strong></td>
                <td>‚úÖ Yes</td>
                <td>üü¢ Stable</td>
                <td>Servers, clients, web apps, Node.js tools</td>
              </tr>
              <tr>
                <td><strong>Python</strong></td>
                <td>‚úÖ Yes</td>
                <td>üü¢ Stable</td>
                <td>Data science, ML, automation, scripts</td>
              </tr>
              <tr>
                <td><strong>Go</strong></td>
                <td>üîÑ Community</td>
                <td>üü° Beta</td>
                <td>High-performance servers, CLI tools</td>
              </tr>
              <tr>
                <td><strong>Rust</strong></td>
                <td>üîÑ Community</td>
                <td>üü° Beta</td>
                <td>Systems programming, embedded, performance</td>
              </tr>
              <tr>
                <td><strong>Java/Kotlin</strong></td>
                <td>üîÑ Community</td>
                <td>üü° Beta</td>
                <td>Enterprise applications, Android</td>
              </tr>
              <tr>
                <td><strong>C#/.NET</strong></td>
                <td>üîÑ Community</td>
                <td>üü° Beta</td>
                <td>Windows apps, enterprise, Unity</td>
              </tr>
            </tbody>
          </table>

          <h2>Quick Start Options</h2>

          <h3>1. Use Official Templates</h3>
          <pre><code class="language-bash"># TypeScript server template
npx create-mcp-server my-server
cd my-server
npm install
npm run dev

# Python server template
pip install mcp
mcp create-server my-server
cd my-server
python server.py</code></pre>

          <h3>2. Clone Example Servers</h3>
          <pre><code class="language-bash"># Official examples repository
git clone https://github.com/modelcontextprotocol/servers.git
cd servers/src/filesystem
npm install
npm run build</code></pre>

          <h3>3. Start from Scratch</h3>
          <pre><code class="language-bash"># TypeScript
npm init -y
npm install @modelcontextprotocol/sdk

# Python
pip install mcp</code></pre>

          <h2>Development Workflow</h2>

          <h3>Server Development Cycle:</h3>
          <ol>
            <li><strong>Define Capabilities:</strong> Decide what tools, resources, or prompts to expose</li>
            <li><strong>Choose Transport:</strong> STDIO for local, HTTP for remote</li>
            <li><strong>Implement Handlers:</strong> Write tool/resource/prompt logic</li>
            <li><strong>Add Error Handling:</strong> Handle edge cases gracefully</li>
            <li><strong>Test Locally:</strong> Use MCP Inspector or test client</li>
            <li><strong>Add Documentation:</strong> Clear descriptions for all capabilities</li>
            <li><strong>Deploy:</strong> Package and distribute (npm, PyPI, Docker, etc.)</li>
          </ol>

          <h3>Client Development Cycle:</h3>
          <ol>
            <li><strong>Define Use Case:</strong> What will users do with the client?</li>
            <li><strong>Choose UI Framework:</strong> CLI, GUI, web, or programmatic</li>
            <li><strong>Implement Server Manager:</strong> Connect to multiple servers</li>
            <li><strong>Handle Capabilities:</strong> Discover and use server features</li>
            <li><strong>Add User Interface:</strong> Present tools/resources to users</li>
            <li><strong>Implement Sampling:</strong> If using AI models</li>
            <li><strong>Test & Deploy:</strong> Verify with real servers</li>
          </ol>

          <h2>Development Tools</h2>

          <div class="row">
            <div class="col-md-6">
              <div class="callout">
                <strong>üîß Essential Tools:</strong>
                <ul>
                  <li><strong>MCP Inspector:</strong> Debug and test servers interactively</li>
                  <li><strong>Type Definitions:</strong> Full TypeScript/Python types</li>
                  <li><strong>Example Servers:</strong> Reference implementations</li>
                  <li><strong>Test Utilities:</strong> Unit and integration testing</li>
                  <li><strong>VS Code Extension:</strong> MCP development support</li>
                </ul>
              </div>
            </div>
            <div class="col-md-6">
              <div class="callout">
                <strong>üìö Documentation:</strong>
                <ul>
                  <li><strong>API Reference:</strong> Complete SDK documentation</li>
                  <li><strong>Tutorials:</strong> Step-by-step guides</li>
                  <li><strong>Best Practices:</strong> Production-ready patterns</li>
                  <li><strong>Community Examples:</strong> Real-world implementations</li>
                  <li><strong>Specification:</strong> Protocol details</li>
                </ul>
              </div>
            </div>
          </div>

          <h2>Testing Your Implementation</h2>

          <h3>Server Testing:</h3>
          <pre><code class="language-typescript">// Test with MCP Inspector
import { StdioClientTransport } from '@modelcontextprotocol/sdk/client/stdio.js';

const transport = new StdioClientTransport({
  command: 'node',
  args: ['dist/server.js']
});

// Or test programmatically
import { Client } from '@modelcontextprotocol/sdk/client/index.js';

const client = new Client({ name: 'test' }, { capabilities: {} });
await client.connect(transport);

// Test tool listing
const tools = await client.request({ method: 'tools/list' });
console.log('Available tools:', tools);

// Test tool execution
const result = await client.request({
  method: 'tools/call',
  params: {
    name: 'my_tool',
    arguments: { input: 'test' }
  }
});
console.log('Tool result:', result);</code></pre>

          <h3>Client Testing:</h3>
          <pre><code class="language-typescript">// Test with mock server
import { Server } from '@modelcontextprotocol/sdk/server/index.js';

const mockServer = new Server(
  { name: 'mock', version: '1.0.0' },
  { capabilities: { tools: {} } }
);

mockServer.setRequestHandler(ListToolsRequestSchema, async () => ({
  tools: [{ name: 'test_tool', description: 'Test', inputSchema: {} }]
}));

// Connect your client to mock server
// Verify client handles server capabilities correctly</code></pre>

          <h2>Deployment Strategies</h2>

          <h3>Server Deployment:</h3>
          <table class="table table-striped">
            <thead>
              <tr>
                <th>Method</th>
                <th>Transport</th>
                <th>Best For</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>npm Package</strong></td>
                <td>STDIO</td>
                <td>Node.js tools, IDE extensions</td>
              </tr>
              <tr>
                <td><strong>PyPI Package</strong></td>
                <td>STDIO</td>
                <td>Python tools, data science workflows</td>
              </tr>
              <tr>
                <td><strong>Docker Container</strong></td>
                <td>HTTP</td>
                <td>Cloud deployments, microservices</td>
              </tr>
              <tr>
                <td><strong>Compiled Binary</strong></td>
                <td>STDIO</td>
                <td>Standalone tools, no runtime dependencies</td>
              </tr>
              <tr>
                <td><strong>Cloud Function</strong></td>
                <td>HTTP</td>
                <td>Serverless, on-demand execution</td>
              </tr>
            </tbody>
          </table>

          <h3>Client Deployment:</h3>
          <ul>
            <li><strong>Desktop App:</strong> Electron, Tauri, native frameworks</li>
            <li><strong>Web App:</strong> React, Vue, Svelte with HTTP transport</li>
            <li><strong>CLI Tool:</strong> Distributed via package managers</li>
            <li><strong>IDE Extension:</strong> VS Code, JetBrains marketplace</li>
            <li><strong>Mobile App:</strong> React Native, Flutter, native</li>
          </ul>

          <h2>Best Practices Overview</h2>

          <div class="row">
            <div class="col-md-4">
              <div class="callout">
                <strong>üèóÔ∏è Architecture:</strong>
                <ul>
                  <li>Single responsibility per server</li>
                  <li>Stateless when possible</li>
                  <li>Clear error boundaries</li>
                  <li>Graceful degradation</li>
                  <li>Transport independence</li>
                </ul>
              </div>
            </div>
            <div class="col-md-4">
              <div class="callout">
                <strong>üîí Security:</strong>
                <ul>
                  <li>Validate all inputs</li>
                  <li>Sanitize outputs</li>
                  <li>Use authentication (HTTP)</li>
                  <li>Respect user permissions</li>
                  <li>Never trust client data</li>
                </ul>
              </div>
            </div>
            <div class="col-md-4">
              <div class="callout">
                <strong>‚ö° Performance:</strong>
                <ul>
                  <li>Async operations</li>
                  <li>Efficient data structures</li>
                  <li>Caching strategies</li>
                  <li>Resource pooling</li>
                  <li>Lazy loading</li>
                </ul>
              </div>
            </div>
          </div>

          <h2>Common Patterns</h2>

          <div class="code-tabs">
            <ul class="nav nav-tabs" role="tablist">
              <li class="nav-item" role="presentation">
                <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#pattern-adapter" type="button" role="tab">Adapter Pattern</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#pattern-gateway" type="button" role="tab">Gateway Pattern</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#pattern-plugin" type="button" role="tab">Plugin Pattern</button>
              </li>
            </ul>
            <div class="tab-content">
              <div class="tab-pane fade show active" id="pattern-adapter" role="tabpanel">
                <pre><code class="language-typescript">// Wrap REST API as MCP server
server.setRequestHandler(CallToolRequestSchema, async (request) => {
  if (request.params.name === 'search_api') {
    const query = request.params.arguments?.query;
    
    // Call existing API
    const response = await fetch(
      `https://api.example.com/search?q=${encodeURIComponent(query)}`
    );
    const data = await response.json();
    
    // Return as MCP tool result
    return {
      content: [{
        type: 'text',
        text: JSON.stringify(data, null, 2)
      }]
    };
  }
});</code></pre>
              </div>
              <div class="tab-pane fade" id="pattern-gateway" role="tabpanel">
                <pre><code class="language-typescript">// One server, multiple backends
server.setRequestHandler(ListToolsRequestSchema, async () => ({
  tools: [
    { name: 'github_search', description: 'Search GitHub', ... },
    { name: 'slack_send', description: 'Send Slack message', ... },
    { name: 'jira_create', description: 'Create Jira ticket', ... }
  ]
}));

server.setRequestHandler(CallToolRequestSchema, async (request) => {
  switch (request.params.name) {
    case 'github_search':
      return await callGitHubAPI(request.params.arguments);
    case 'slack_send':
      return await callSlackAPI(request.params.arguments);
    case 'jira_create':
      return await callJiraAPI(request.params.arguments);
  }
});</code></pre>
              </div>
              <div class="tab-pane fade" id="pattern-plugin" role="tabpanel">
                <pre><code class="language-typescript">// Load plugins dynamically
interface MCPPlugin {
  name: string;
  tools: Tool[];
  handleToolCall: (name: string, args: any) => Promise&lt;any&gt;;
}

const plugins: MCPPlugin[] = [
  await import('./plugins/database.js'),
  await import('./plugins/filesystem.js'),
  await import('./plugins/git.js')
];

server.setRequestHandler(ListToolsRequestSchema, async () => ({
  tools: plugins.flatMap(p => p.tools)
}));

server.setRequestHandler(CallToolRequestSchema, async (request) => {
  const plugin = plugins.find(p => 
    p.tools.some(t => t.name === request.params.name)
  );
  
  if (plugin) {
    return await plugin.handleToolCall(
      request.params.name,
      request.params.arguments
    );
  }
});</code></pre>
              </div>
            </div>
          </div>

        </section>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê BUILDING SERVERS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <section id="building-servers" role="article">
          <h1>üñ•Ô∏è Building Servers</h1>
          <span class="badge">server</span> <span class="badge">development</span> <span class="badge">SDK</span>

          <h2>Server Architecture</h2>
          <p>
            An <strong>MCP server</strong> exposes capabilities (tools, resources, prompts) to clients via the 
            Model Context Protocol. Servers are typically lightweight, focused applications that provide access 
            to specific data sources or functionality.
          </p>

          <div class="callout">
            <strong>üéØ Server Philosophy:</strong> Each server should do one thing well. Rather than building a 
            monolithic server, create focused servers that can be composed together by clients.
          </div>

          <h2>Minimal Server Example</h2>

          <div class="code-tabs">
            <ul class="nav nav-tabs" role="tablist">
              <li class="nav-item" role="presentation">
                <button class="nav-link active" id="server-typescript-tab" data-bs-toggle="tab" data-bs-target="#server-typescript" type="button" role="tab">TypeScript/Node.js</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" id="server-python-tab" data-bs-toggle="tab" data-bs-target="#server-python" type="button" role="tab">Python</button>
              </li>
            </ul>
            <div class="tab-content">
              <div class="tab-pane fade show active" id="server-typescript" role="tabpanel">
                <pre><code class="language-typescript">#!/usr/bin/env node
import { Server } from '@modelcontextprotocol/sdk/server/index.js';
import { StdioServerTransport } from '@modelcontextprotocol/sdk/server/stdio.js';
import {
  CallToolRequestSchema,
  ListToolsRequestSchema,
} from '@modelcontextprotocol/sdk/types.js';

// Create server
const server = new Server(
  {
    name: 'example-server',
    version: '1.0.0',
  },
  {
    capabilities: {
      tools: {},
    },
  }
);

// List available tools
server.setRequestHandler(ListToolsRequestSchema, async () => {
  return {
    tools: [
      {
        name: 'echo',
        description: 'Echoes back the input message',
        inputSchema: {
          type: 'object',
          properties: {
            message: {
              type: 'string',
              description: 'Message to echo',
            },
          },
          required: ['message'],
        },
      },
    ],
  };
});

// Handle tool calls
server.setRequestHandler(CallToolRequestSchema, async (request) => {
  if (request.params.name === 'echo') {
    const message = request.params.arguments?.message;
    return {
      content: [
        {
          type: 'text',
          text: `Echo: ${message}`,
        },
      ],
    };
  }
  
  throw new Error(`Unknown tool: ${request.params.name}`);
});

// Start server
async function main() {
  const transport = new StdioServerTransport();
  await server.connect(transport);
  console.error('Example MCP server running on stdio');
}

main().catch((error) => {
  console.error('Server error:', error);
  process.exit(1);
});</code></pre>
              </div>
              <div class="tab-pane fade" id="server-python" role="tabpanel">
                <pre><code class="language-python">#!/usr/bin/env python3
from mcp.server import Server
from mcp.server.stdio import stdio_server
from mcp.types import Tool, TextContent

# Create server
server = Server("example-server")

# Define tools
@server.list_tools()
async def list_tools():
    return [
        Tool(
            name="echo",
            description="Echoes back the input message",
            inputSchema={
                "type": "object",
                "properties": {
                    "message": {
                        "type": "string",
                        "description": "Message to echo"
                    }
                },
                "required": ["message"]
            }
        )
    ]

# Handle tool calls
@server.call_tool()
async def call_tool(name: str, arguments: dict):
    if name == "echo":
        message = arguments.get("message", "")
        return [TextContent(type="text", text=f"Echo: {message}")]
    
    raise ValueError(f"Unknown tool: {name}")

# Run server
if __name__ == "__main__":
    import asyncio
    asyncio.run(stdio_server(server))</code></pre>
              </div>
            </div>
          </div>

          <h2>Implementing Tools</h2>

          <h3>Tool Definition Structure:</h3>
          <pre><code class="language-typescript">interface Tool {
  name: string;              // Unique identifier (use snake_case)
  description: string;       // Clear, concise description
  inputSchema: JSONSchema;   // JSON Schema for parameters
}</code></pre>

          <h3>Good Tool Design:</h3>
          <pre><code class="language-typescript">// ‚úÖ GOOD: Clear, focused, well-documented
{
  name: 'search_files',
  description: 'Search for files by name or content within a directory. Supports glob patterns and regex.',
  inputSchema: {
    type: 'object',
    properties: {
      directory: {
        type: 'string',
        description: 'Directory to search (absolute path)'
      },
      pattern: {
        type: 'string',
        description: 'Search pattern (glob or regex)'
      },
      searchContent: {
        type: 'boolean',
        description: 'Whether to search file contents (default: false)',
        default: false
      }
    },
    required: ['directory', 'pattern']
  }
}

// ‚ùå BAD: Vague, unclear requirements
{
  name: 'search',
  description: 'Searches',
  inputSchema: {
    type: 'object',
    properties: {
      query: { type: 'string' }
    }
  }
}</code></pre>

          <h3>Tool Handler Best Practices:</h3>
          <pre><code class="language-typescript">server.setRequestHandler(CallToolRequestSchema, async (request) => {
  const { name, arguments: args } = request.params;
  
  try {
    // 1. Validate tool exists
    if (name === 'read_file') {
      
      // 2. Validate required arguments
      if (!args?.path) {
        return {
          content: [{
            type: 'text',
            text: 'Error: path is required'
          }],
          isError: true
        };
      }
      
      // 3. Sanitize inputs
      const safePath = sanitizePath(args.path);
      
      // 4. Check permissions/constraints
      if (!isPathAllowed(safePath)) {
        return {
          content: [{
            type: 'text',
            text: 'Error: Access denied to this path'
          }],
          isError: true
        };
      }
      
      // 5. Perform operation
      const content = await fs.readFile(safePath, 'utf-8');
      
      // 6. Return structured result
      return {
        content: [{
          type: 'text',
          text: content
        }]
      };
      
    }
    
    // Unknown tool
    throw new Error(`Unknown tool: ${name}`);
    
  } catch (error) {
    // 7. Handle errors gracefully
    console.error(`Tool ${name} error:`, error);
    return {
      content: [{
        type: 'text',
        text: `Error: ${error.message}`
      }],
      isError: true
    };
  }
});</code></pre>

          <h2>Implementing Resources</h2>

          <div class="code-tabs">
            <ul class="nav nav-tabs" role="tablist">
              <li class="nav-item" role="presentation">
                <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#impl-resource-listing" type="button" role="tab">Resource Listing</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#impl-resource-reading" type="button" role="tab">Resource Reading</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#impl-resource-subscriptions" type="button" role="tab">Resource Subscriptions</button>
              </li>
            </ul>
            <div class="tab-content">
              <div class="tab-pane fade show active" id="impl-resource-listing" role="tabpanel">
                <pre><code class="language-typescript">import { ListResourcesRequestSchema } from '@modelcontextprotocol/sdk/types.js';

server.setRequestHandler(ListResourcesRequestSchema, async () => {
  return {
    resources: [
      {
        uri: 'file:///project/README.md',
        name: 'Project README',
        description: 'Project documentation',
        mimeType: 'text/markdown'
      },
      {
        uri: 'config://database',
        name: 'Database Configuration',
        description: 'Current database connection settings',
        mimeType: 'application/json'
      }
    ]
  };
});</code></pre>
              </div>
              <div class="tab-pane fade" id="impl-resource-reading" role="tabpanel">
                <pre><code class="language-typescript">import { ReadResourceRequestSchema } from '@modelcontextprotocol/sdk/types.js';

server.setRequestHandler(ReadResourceRequestSchema, async (request) => {
  const { uri } = request.params;
  
  if (uri.startsWith('file://')) {
    const filePath = uri.replace('file://', '');
    const content = await fs.readFile(filePath, 'utf-8');
    
    return {
      contents: [{
        uri: uri,
        mimeType: 'text/plain',
        text: content
      }]
    };
  }
  
  if (uri === 'config://database') {
    const config = await getDatabaseConfig();
    
    return {
      contents: [{
        uri: uri,
        mimeType: 'application/json',
        text: JSON.stringify(config, null, 2)
      }]
    };
  }
  
  throw new Error(`Unknown resource: ${uri}`);
});</code></pre>
              </div>
              <div class="tab-pane fade" id="impl-resource-subscriptions" role="tabpanel">
                <pre><code class="language-typescript">import { SubscribeRequestSchema } from '@modelcontextprotocol/sdk/types.js';

const subscriptions = new Map&lt;string, Set&lt;string&gt;&gt;();

// Handle subscription requests
server.setRequestHandler(SubscribeRequestSchema, async (request) => {
  const { uri } = request.params;
  
  if (!subscriptions.has(uri)) {
    subscriptions.set(uri, new Set());
    // Start watching the resource
    startWatching(uri);
  }
  
  subscriptions.get(uri)!.add(request.id);
  return {};
});

// Notify subscribers of changes
async function notifyResourceChanged(uri: string) {
  await server.notification({
    method: 'notifications/resources/updated',
    params: { uri }
  });
}

// Watch file system
import { watch } from 'fs';

function startWatching(uri: string) {
  if (uri.startsWith('file://')) {
    const filePath = uri.replace('file://', '');
    watch(filePath, () => {
      notifyResourceChanged(uri);
    });
  }
}</code></pre>
              </div>
            </div>
          </div>

          <h2>Implementing Prompts</h2>

          <div class="code-tabs">
            <ul class="nav nav-tabs" role="tablist">
              <li class="nav-item" role="presentation">
                <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#prompt-listing" type="button" role="tab">Prompt Listing</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#prompt-execution" type="button" role="tab">Prompt Execution</button>
              </li>
            </ul>
            <div class="tab-content">
              <div class="tab-pane fade show active" id="prompt-listing" role="tabpanel">
                <pre><code class="language-typescript">import { ListPromptsRequestSchema } from '@modelcontextprotocol/sdk/types.js';

server.setRequestHandler(ListPromptsRequestSchema, async () => {
  return {
    prompts: [
      {
        name: 'code_review',
        description: 'Comprehensive code review workflow',
        arguments: [
          {
            name: 'language',
            description: 'Programming language',
            required: true
          },
          {
            name: 'focus',
            description: 'Review focus area (security, performance, style)',
            required: false
          }
        ]
      }
    ]
  };
});</code></pre>
              </div>
              <div class="tab-pane fade" id="prompt-execution" role="tabpanel">
                <pre><code class="language-typescript">import { GetPromptRequestSchema } from '@modelcontextprotocol/sdk/types.js';

server.setRequestHandler(GetPromptRequestSchema, async (request) => {
  const { name, arguments: args } = request.params;
  
  if (name === 'code_review') {
    const language = args?.language || 'unknown';
    const focus = args?.focus || 'general';
    
    return {
      messages: [
        {
          role: 'user',
          content: {
            type: 'text',
            text: `You are an expert ${language} code reviewer. Focus on ${focus} aspects. Provide specific, actionable feedback.`
          }
        }
      ]
    };
  }
  
  throw new Error(`Unknown prompt: ${name}`);
});</code></pre>
              </div>
            </div>
          </div>

          <h2>Configuration & Environment</h2>

          <div class="code-tabs">
            <ul class="nav nav-tabs" role="tablist">
              <li class="nav-item" role="presentation">
                <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#config-env" type="button" role="tab">Environment Variables</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#config-file" type="button" role="tab">Configuration File</button>
              </li>
            </ul>
            <div class="tab-content">
              <div class="tab-pane fade show active" id="config-env" role="tabpanel">
                <pre><code class="language-typescript">// Read configuration from environment
const config = {
  apiKey: process.env.API_KEY,
  baseUrl: process.env.BASE_URL || 'https://api.example.com',
  timeout: parseInt(process.env.TIMEOUT || '5000'),
  debug: process.env.DEBUG === 'true'
};

// Validate required config
if (!config.apiKey) {
  throw new Error('API_KEY environment variable is required');
}</code></pre>
              </div>
              <div class="tab-pane fade" id="config-file" role="tabpanel">
                <pre><code class="language-typescript">import { readFile } from 'fs/promises';
import { join } from 'path';

interface ServerConfig {
  apiKey: string;
  endpoints: string[];
  features: {
    caching: boolean;
    verbose: boolean;
  };
}

async function loadConfig(configPath?: string): Promise&lt;ServerConfig&gt; {
  const path = configPath || join(process.env.HOME!, '.mcp-server-config.json');
  
  try {
    const content = await readFile(path, 'utf-8');
    return JSON.parse(content);
  } catch (error) {
    console.error('Failed to load config, using defaults');
    return {
      apiKey: '',
      endpoints: [],
      features: { caching: true, verbose: false }
    };
  }
}</code></pre>
              </div>
            </div>
          </div>

          <h2>Error Handling</h2>

          <h3>Structured Error Responses:</h3>
          <pre><code class="language-typescript">// Error codes
enum ErrorCode {
  InvalidInput = 'INVALID_INPUT',
  NotFound = 'NOT_FOUND',
  Unauthorized = 'UNAUTHORIZED',
  RateLimited = 'RATE_LIMITED',
  InternalError = 'INTERNAL_ERROR'
}

// Error response helper
function errorResponse(code: ErrorCode, message: string) {
  return {
    content: [{
      type: 'text',
      text: JSON.stringify({
        error: {
          code,
          message
        }
      })
    }],
    isError: true
  };
}

// Usage
server.setRequestHandler(CallToolRequestSchema, async (request) => {
  try {
    if (request.params.name === 'get_user') {
      const userId = request.params.arguments?.userId;
      
      if (!userId) {
        return errorResponse(
          ErrorCode.InvalidInput,
          'userId is required'
        );
      }
      
      const user = await database.getUser(userId);
      
      if (!user) {
        return errorResponse(
          ErrorCode.NotFound,
          `User ${userId} not found`
        );
      }
      
      return {
        content: [{
          type: 'text',
          text: JSON.stringify(user)
        }]
      };
    }
  } catch (error) {
    console.error('Tool execution error:', error);
    return errorResponse(
      ErrorCode.InternalError,
      'An internal error occurred'
    );
  }
});</code></pre>

          <h2>Testing Servers</h2>

          <h3>Unit Testing with Mock Client:</h3>
          <pre><code class="language-typescript">import { describe, it, expect } from 'vitest';
import { Client } from '@modelcontextprotocol/sdk/client/index.js';
import { StdioClientTransport } from '@modelcontextprotocol/sdk/client/stdio.js';

describe('Example Server', () => {
  it('should list tools', async () => {
    const transport = new StdioClientTransport({
      command: 'node',
      args: ['dist/server.js']
    });
    
    const client = new Client({ name: 'test' }, { capabilities: {} });
    await client.connect(transport);
    
    const result = await client.request({
      method: 'tools/list'
    });
    
    expect(result.tools).toHaveLength(1);
    expect(result.tools[0].name).toBe('echo');
    
    await client.close();
  });
  
  it('should execute echo tool', async () => {
    const transport = new StdioClientTransport({
      command: 'node',
      args: ['dist/server.js']
    });
    
    const client = new Client({ name: 'test' }, { capabilities: {} });
    await client.connect(transport);
    
    const result = await client.request({
      method: 'tools/call',
      params: {
        name: 'echo',
        arguments: { message: 'Hello' }
      }
    });
    
    expect(result.content[0].text).toBe('Echo: Hello');
    
    await client.close();
  });
});</code></pre>

          <h2>Packaging & Distribution</h2>

          <div class="code-tabs">
            <ul class="nav nav-tabs" role="tablist">
              <li class="nav-item" role="presentation">
                <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#pkg-npm" type="button" role="tab">npm Package</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#pkg-python" type="button" role="tab">Python Package</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#pkg-docker" type="button" role="tab">Docker</button>
              </li>
            </ul>
            <div class="tab-content">
              <div class="tab-pane fade show active" id="pkg-npm" role="tabpanel">
                <pre><code class="language-json">{
  "name": "mcp-example-server",
  "version": "1.0.0",
  "description": "Example MCP server",
  "type": "module",
  "bin": {
    "mcp-example-server": "./dist/index.js"
  },
  "scripts": {
    "build": "tsc",
    "dev": "tsx src/index.ts",
    "test": "vitest"
  },
  "dependencies": {
    "@modelcontextprotocol/sdk": "^1.0.0"
  },
  "devDependencies": {
    "typescript": "^5.0.0",
    "tsx": "^4.0.0",
    "vitest": "^1.0.0"
  }
}</code></pre>
              </div>
              <div class="tab-pane fade" id="pkg-python" role="tabpanel">
                <pre><code class="language-toml">[project]
name = "mcp-example-server"
version = "1.0.0"
description = "Example MCP server"
dependencies = [
    "mcp>=1.0.0",
]

[project.scripts]
mcp-example-server = "mcp_example_server:main"

[build-system]
requires = ["setuptools>=61.0"]
build-backend = "setuptools.build_meta"</code></pre>
              </div>
              <div class="tab-pane fade" id="pkg-docker" role="tabpanel">
                <pre><code class="language-dockerfile"># Dockerfile for HTTP server
FROM node:20-alpine

WORKDIR /app

COPY package*.json ./
RUN npm ci --only=production

COPY dist ./dist

EXPOSE 3000

CMD ["node", "dist/server.js"]</code></pre>
              </div>
            </div>
          </div>

          <h2>Best Practices Summary</h2>

          <div class="row">
            <div class="col-md-6">
              <div class="callout">
                <strong>‚úÖ DO</strong>
                <ul>
                  <li>Keep servers focused on single domains</li>
                  <li>Provide clear, detailed tool descriptions</li>
                  <li>Validate all inputs thoroughly</li>
                  <li>Return structured, parseable outputs</li>
                  <li>Handle errors gracefully with clear messages</li>
                  <li>Log to stderr, never stdout (STDIO)</li>
                  <li>Use TypeScript types for type safety</li>
                  <li>Write comprehensive tests</li>
                  <li>Document configuration requirements</li>
                  <li>Version your server (semver)</li>
                </ul>
              </div>
            </div>
            <div class="col-md-6">
              <div class="callout">
                <strong>‚ùå DON'T</strong>
                <ul>
                  <li>Create monolithic multi-purpose servers</li>
                  <li>Use vague tool names or descriptions</li>
                  <li>Trust client input without validation</li>
                  <li>Return unstructured error messages</li>
                  <li>Expose sensitive data without checks</li>
                  <li>Write to stdout except MCP messages (STDIO)</li>
                  <li>Ignore TypeScript errors</li>
                  <li>Skip error handling</li>
                  <li>Hardcode configuration</li>
                  <li>Break backward compatibility</li>
                </ul>
              </div>
            </div>
          </div>

        </section>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê BUILDING CLIENTS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <section id="building-clients" role="article">
          <h1>üíª Building Clients</h1>
          <span class="badge">client</span> <span class="badge">development</span> <span class="badge">integration</span>

          <h2>Client Architecture</h2>
          <p>
            An <strong>MCP client</strong> connects to one or more MCP servers and exposes their capabilities to 
            end users or applications. Clients manage server connections, discover capabilities, and orchestrate 
            tool/resource usage.
          </p>

          <div class="callout">
            <strong>üéØ Client Responsibility:</strong> Clients handle the user experience layer, managing multiple 
            servers, presenting capabilities in useful ways, and coordinating between user intent and server actions.
          </div>

          <h2>Minimal Client Example</h2>

          <div class="code-tabs">
            <ul class="nav nav-tabs" role="tablist">
              <li class="nav-item" role="presentation">
                <button class="nav-link active" id="client-typescript-tab" data-bs-toggle="tab" data-bs-target="#client-typescript" type="button" role="tab">TypeScript/Node.js</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" id="client-python-tab" data-bs-toggle="tab" data-bs-target="#client-python" type="button" role="tab">Python</button>
              </li>
            </ul>
            <div class="tab-content">
              <div class="tab-pane fade show active" id="client-typescript" role="tabpanel">
                <pre><code class="language-typescript">import { Client } from '@modelcontextprotocol/sdk/client/index.js';
import { StdioClientTransport } from '@modelcontextprotocol/sdk/client/stdio.js';
import {
  ListToolsRequestSchema,
  CallToolRequestSchema
} from '@modelcontextprotocol/sdk/types.js';

// Create and connect client
const client = new Client(
  {
    name: 'example-client',
    version: '1.0.0',
  },
  {
    capabilities: {
      roots: {
        listChanged: true
      }
    }
  }
);

const transport = new StdioClientTransport({
  command: 'mcp-server-filesystem',
  args: ['--root', '/home/user/projects']
});

await client.connect(transport);

// Discover available tools
const toolsResult = await client.request(
  { method: 'tools/list' },
  ListToolsRequestSchema
);

console.log('Available tools:', toolsResult.tools);

// Call a tool
const result = await client.request({
  method: 'tools/call',
  params: {
    name: 'read_file',
    arguments: {
      path: '/home/user/projects/README.md'
    }
  }
}, CallToolRequestSchema);

console.log('Tool result:', result.content[0].text);

// Cleanup
await client.close();</code></pre>
              </div>
              <div class="tab-pane fade" id="client-python" role="tabpanel">
                <pre><code class="language-python">from mcp.client import Client
from mcp.client.stdio import stdio_client

async def main():
    # Create client
    async with stdio_client({
        "command": "mcp-server-filesystem",
        "args": ["--root", "/home/user/projects"]
    }) as (read, write):
        
        client = Client("example-client")
        await client.connect(read, write)
        
        # List tools
        tools = await client.list_tools()
        print("Available tools:", [t.name for t in tools])
        
        # Call tool
        result = await client.call_tool(
            "read_file",
            arguments={"path": "/home/user/projects/README.md"}
        )
        print("Tool result:", result)

if __name__ == "__main__":
    import asyncio
    asyncio.run(main())</code></pre>

          <h2>Multi-Server Management</h2>

          <h3>Server Manager Pattern:</h3>
          <pre><code class="language-typescript">import { Client } from '@modelcontextprotocol/sdk/client/index.js';
import { StdioClientTransport } from '@modelcontextprotocol/sdk/client/stdio.js';

interface ServerConfig {
  name: string;
  command: string;
  args: string[];
  env?: Record&lt;string, string&gt;;
}

class MCPServerManager {
  private clients = new Map&lt;string, Client&gt;();
  
  async addServer(config: ServerConfig) {
    const client = new Client(
      { name: 'multi-client', version: '1.0.0' },
      { capabilities: {} }
    );
    
    const transport = new StdioClientTransport({
      command: config.command,
      args: config.args,
      env: config.env
    });
    
    await client.connect(transport);
    this.clients.set(config.name, client);
    
    console.log(`Connected to server: ${config.name}`);
  }
  
  async listAllTools() {
    const allTools = [];
    
    for (const [serverName, client] of this.clients) {
      const result = await client.request({
        method: 'tools/list'
      });
      
      allTools.push({
        server: serverName,
        tools: result.tools
      });
    }
    
    return allTools;
  }
  
  async callTool(serverName: string, toolName: string, args: any) {
    const client = this.clients.get(serverName);
    if (!client) {
      throw new Error(`Server ${serverName} not found`);
    }
    
    return await client.request({
      method: 'tools/call',
      params: {
        name: toolName,
        arguments: args
      }
    });
  }
  
  async closeAll() {
    for (const [name, client] of this.clients) {
      await client.close();
      console.log(`Disconnected from: ${name}`);
    }
    this.clients.clear();
  }
}

// Usage
const manager = new MCPServerManager();

await manager.addServer({
  name: 'filesystem',
  command: 'mcp-server-filesystem',
  args: ['--root', '/projects']
});

await manager.addServer({
  name: 'git',
  command: 'mcp-server-git',
  args: ['--repo', '/projects/myapp']
});

const tools = await manager.listAllTools();
console.log('All available tools:', tools);

const result = await manager.callTool('filesystem', 'read_file', {
  path: '/projects/README.md'
});

await manager.closeAll();</code></pre>

          <h2>Implementing Client Features</h2>

          <div class="code-tabs">
            <ul class="nav nav-tabs" role="tablist">
              <li class="nav-item" role="presentation">
                <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#client-sampling" type="button" role="tab">Sampling (LLM Access)</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#client-roots" type="button" role="tab">Roots (Workspace)</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#client-progress" type="button" role="tab">Progress Notifications</button>
              </li>
            </ul>
            <div class="tab-content">
              <div class="tab-pane fade show active" id="client-sampling" role="tabpanel">
                <pre><code class="language-typescript">import { Anthropic } from '@anthropic-ai/sdk';

const client = new Client(
  { name: 'ai-client', version: '1.0.0' },
  {
    capabilities: {
      sampling: {}  // Declare sampling capability
    }
  }
);

// Initialize Anthropic client
const anthropic = new Anthropic({
  apiKey: process.env.ANTHROPIC_API_KEY
});

// Handle sampling requests from server
client.setRequestHandler({
  method: 'sampling/createMessage',
  schema: CreateMessageRequestSchema
}, async (request) => {
  const { messages, maxTokens, temperature } = request.params;
  
  // Call LLM
  const response = await anthropic.messages.create({
    model: 'claude-3-5-sonnet-20241022',
    max_tokens: maxTokens,
    temperature: temperature || 1.0,
    messages: messages.map(msg => ({
      role: msg.role,
      content: msg.content.text
    }))
  });
  
  // Return result to server
  return {
    role: 'assistant',
    content: {
      type: 'text',
      text: response.content[0].text
    },
    model: response.model,
    stopReason: response.stop_reason
  };
});</code></pre>
              </div>
              <div class="tab-pane fade" id="client-roots" role="tabpanel">
                <pre><code class="language-typescript">const client = new Client(
  { name: 'workspace-client', version: '1.0.0' },
  {
    capabilities: {
      roots: {
        listChanged: true  // Support notifications
      }
    }
  }
);

// Handle roots/list requests from server
client.setRequestHandler({
  method: 'roots/list',
  schema: ListRootsRequestSchema
}, async () => {
  return {
    roots: [
      {
        uri: 'file:///home/user/projects/app1',
        name: 'Application 1'
      },
      {
        uri: 'file:///home/user/projects/lib',
        name: 'Shared Library'
      }
    ]
  };
});

// Notify server when roots change
async function onWorkspaceChanged(newRoots: Root[]) {
  await client.notification({
    method: 'notifications/roots/list_changed'
  });
}</code></pre>
              </div>
              <div class="tab-pane fade" id="client-progress" role="tabpanel">
                <pre><code class="language-typescript">// Listen for progress updates from server
client.setNotificationHandler({
  method: 'notifications/progress'
}, (notification) => {
  const { progressToken, progress, total } = notification.params;
  
  console.log(`Progress ${progressToken}: ${progress}/${total}`);
  
  // Update UI progress bar
  updateProgressBar(progressToken, progress / total);
});

// Cancel long-running operation
async function cancelOperation(requestId: string) {
  await client.notification({
    method: 'notifications/cancelled',
    params: {
      requestId: requestId,
      reason: 'User cancelled'
    }
  });
}</code></pre>
              </div>
            </div>
          </div>

          <h2>Building a CLI Client</h2>

          <h3>Interactive CLI Example:</h3>
          <pre><code class="language-typescript">#!/usr/bin/env node
import { Client } from '@modelcontextprotocol/sdk/client/index.js';
import { StdioClientTransport } from '@modelcontextprotocol/sdk/client/stdio.js';
import readline from 'readline';

const rl = readline.createInterface({
  input: process.stdin,
  output: process.stdout
});

const client = new Client(
  { name: 'cli-client', version: '1.0.0' },
  { capabilities: {} }
);

// Connect to server
const transport = new StdioClientTransport({
  command: process.argv[2],  // Server command from CLI arg
  args: process.argv.slice(3)
});

await client.connect(transport);
console.log('Connected to MCP server');

// Discover tools
const { tools } = await client.request({ method: 'tools/list' });
console.log(`\nAvailable tools: ${tools.map(t => t.name).join(', ')}\n`);

// Interactive loop
async function prompt() {
  rl.question('Enter command (tool_name arg1=value1 arg2=value2) or "exit": ', async (input) => {
    if (input.trim() === 'exit') {
      await client.close();
      rl.close();
      return;
    }
    
    try {
      const [toolName, ...argPairs] = input.split(' ');
      const args = {};
      
      for (const pair of argPairs) {
        const [key, value] = pair.split('=');
        args[key] = value;
      }
      
      const result = await client.request({
        method: 'tools/call',
        params: { name: toolName, arguments: args }
      });
      
      console.log('\nResult:');
      console.log(result.content[0].text);
      console.log();
      
    } catch (error) {
      console.error('Error:', error.message);
    }
    
    prompt();
  });
}

prompt();</code></pre>

          <h2>Building a Web Client</h2>

          <h3>React Client Component:</h3>
          <pre><code class="language-typescript">import React, { useEffect, useState } from 'react';
import { Client } from '@modelcontextprotocol/sdk/client/index.js';
import { SSEClientTransport } from '@modelcontextprotocol/sdk/client/sse.js';

interface Tool {
  name: string;
  description: string;
  inputSchema: any;
}

export function MCPClient() {
  const [client, setClient] = useState&lt;Client | null&gt;(null);
  const [tools, setTools] = useState&lt;Tool[]&gt;([]);
  const [connected, setConnected] = useState(false);
  
  useEffect(() => {
    connectToServer();
    return () => {
      client?.close();
    };
  }, []);
  
  async function connectToServer() {
    const newClient = new Client(
      { name: 'web-client', version: '1.0.0' },
      { capabilities: {} }
    );
    
    const transport = new SSEClientTransport(
      new URL('https://mcp-server.example.com/sse')
    );
    
    await newClient.connect(transport);
    setClient(newClient);
    setConnected(true);
    
    // Load tools
    const result = await newClient.request({ method: 'tools/list' });
    setTools(result.tools);
  }
  
  async function callTool(toolName: string, args: any) {
    if (!client) return;
    
    const result = await client.request({
      method: 'tools/call',
      params: { name: toolName, arguments: args }
    });
    
    return result.content[0].text;
  }
  
  return (
    &lt;div&gt;
      &lt;h1&gt;MCP Client&lt;/h1&gt;
      {connected ? (
        &lt;&gt;
          &lt;p&gt;Connected to server&lt;/p&gt;
          &lt;h2&gt;Available Tools&lt;/h2&gt;
          &lt;ul&gt;
            {tools.map(tool =&gt; (
              &lt;li key={tool.name}&gt;
                &lt;strong&gt;{tool.name}&lt;/strong&gt;: {tool.description}
              &lt;/li&gt;
            ))}
          &lt;/ul&gt;
        &lt;/&gt;
      ) : (
        &lt;p&gt;Connecting...&lt;/p&gt;
      )}
    &lt;/div&gt;
  );
}</code></pre>

          <h2>Error Handling in Clients</h2>

          <h3>Robust Error Handling:</h3>
          <pre><code class="language-typescript">async function safeToolCall(
  client: Client,
  toolName: string,
  args: any
): Promise&lt;any&gt; {
  try {
    const result = await client.request({
      method: 'tools/call',
      params: {
        name: toolName,
        arguments: args
      }
    });
    
    // Check for error flag
    if (result.isError) {
      throw new Error(`Tool returned error: ${result.content[0].text}`);
    }
    
    return result;
    
  } catch (error) {
    if (error.code === -32601) {
      // Method not found
      console.error(`Server doesn't support tool: ${toolName}`);
      return null;
    }
    
    if (error.code === -32602) {
      // Invalid params
      console.error(`Invalid arguments for ${toolName}:`, error.message);
      return null;
    }
    
    if (error.code === -32603) {
      // Internal error
      console.error(`Server error executing ${toolName}:`, error.message);
      return null;
    }
    
    // Unknown error
    console.error(`Unexpected error:`, error);
    throw error;
  }
}</code></pre>

          <h2>Client Best Practices</h2>

          <div class="row">
            <div class="col-md-6">
              <div class="callout">
                <strong>‚úÖ DO</strong>
                <ul>
                  <li>Discover capabilities via initialize</li>
                  <li>Handle server disconnections gracefully</li>
                  <li>Validate tool arguments before calling</li>
                  <li>Implement retry logic for transient failures</li>
                  <li>Cache tool/resource listings</li>
                  <li>Show progress for long operations</li>
                  <li>Provide clear error messages to users</li>
                  <li>Support multiple concurrent servers</li>
                  <li>Implement sampling if using AI</li>
                  <li>Clean up resources on shutdown</li>
                </ul>
              </div>
            </div>
            <div class="col-md-6">
              <div class="callout">
                <strong>‚ùå DON'T</strong>
                <ul>
                  <li>Assume specific server capabilities exist</li>
                  <li>Ignore initialization responses</li>
                  <li>Make unbounded concurrent requests</li>
                  <li>Forget to handle server restarts</li>
                  <li>Cache results indefinitely</li>
                  <li>Block UI on MCP operations</li>
                  <li>Expose raw errors to end users</li>
                  <li>Create new client instances repeatedly</li>
                  <li>Skip capability declaration</li>
                  <li>Leave connections open indefinitely</li>
                </ul>
              </div>
            </div>
          </div>

        </section>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê SDKs & TOOLS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <section id="sdks" role="article">
          <h1>üì¶ SDKs & Tools</h1>
          <span class="badge">SDK</span> <span class="badge">libraries</span> <span class="badge">tools</span>

          <h2>Official SDKs</h2>

          <h3>TypeScript/JavaScript SDK</h3>
          <div class="callout bg-gradient-blue-light">
            <h4>Installation:</h4>
            <pre><code class="language-bash">npm install @modelcontextprotocol/sdk</code></pre>

            <h4>Features:</h4>
            <ul>
              <li>Full TypeScript type definitions</li>
              <li>Server and client implementations</li>
              <li>STDIO and HTTP/SSE transports</li>
              <li>JSON-RPC 2.0 protocol layer</li>
              <li>Request/response schemas</li>
              <li>Notification support</li>
            </ul>

            <h4>Key Exports:</h4>
            <pre><code class="language-typescript">// Server
import { Server } from '@modelcontextprotocol/sdk/server/index.js';
import { StdioServerTransport } from '@modelcontextprotocol/sdk/server/stdio.js';
import { SSEServerTransport } from '@modelcontextprotocol/sdk/server/sse.js';

// Client
import { Client } from '@modelcontextprotocol/sdk/client/index.js';
import { StdioClientTransport } from '@modelcontextprotocol/sdk/client/stdio.js';
import { SSEClientTransport } from '@modelcontextprotocol/sdk/client/sse.js';

// Types
import {
  ListToolsRequestSchema,
  CallToolRequestSchema,
  ListResourcesRequestSchema,
  ReadResourceRequestSchema,
  ListPromptsRequestSchema,
  GetPromptRequestSchema
} from '@modelcontextprotocol/sdk/types.js';</code></pre>

            <h4>Documentation:</h4>
            <ul>
              <li><a href="https://github.com/modelcontextprotocol/typescript-sdk">GitHub Repository</a></li>
              <li><a href="https://modelcontextprotocol.io/docs/sdk/typescript">API Documentation</a></li>
            </ul>
          </div>

          <h3>Python SDK</h3>
          <div class="callout bg-gradient-orange">
            <h4>Installation:</h4>
            <pre><code class="language-bash">pip install mcp</code></pre>

            <h4>Features:</h4>
            <ul>
              <li>Type hints with Pydantic models</li>
              <li>Async/await support</li>
              <li>Server and client classes</li>
              <li>STDIO and HTTP transports</li>
              <li>Decorators for handlers</li>
              <li>Built-in validation</li>
            </ul>

            <h4>Key Imports:</h4>
            <pre><code class="language-python"># Server
from mcp.server import Server
from mcp.server.stdio import stdio_server

# Client  
from mcp.client import Client
from mcp.client.stdio import stdio_client

# Types
from mcp.types import (
    Tool,
    Resource,
    Prompt,
    TextContent,
    ImageContent
)</code></pre>

            <h4>Documentation:</h4>
            <ul>
              <li><a href="https://github.com/modelcontextprotocol/python-sdk">GitHub Repository</a></li>
              <li><a href="https://modelcontextprotocol.io/docs/sdk/python">API Documentation</a></li>
            </ul>
          </div>

          <h2>Development Tools</h2>

          <h3>MCP Inspector</h3>
          <div class="callout">
            <p><strong>Interactive debugging tool for MCP servers</strong></p>
            
            <h4>Installation:</h4>
            <pre><code class="language-bash">npm install -g @modelcontextprotocol/inspector</code></pre>

            <h4>Usage:</h4>
            <pre><code class="language-bash"># Inspect a server
mcp-inspector node dist/server.js

# Or with arguments
mcp-inspector python server.py --config config.json

# Opens browser UI to interact with server
# - View available tools, resources, prompts
# - Test tool execution
# - Inspect messages
# - Monitor notifications</code></pre>

            <h4>Features:</h4>
            <ul>
              <li>Web-based UI for server interaction</li>
              <li>Real-time message inspection</li>
              <li>Tool testing with custom arguments</li>
              <li>Resource browsing and reading</li>
              <li>Prompt testing</li>
              <li>Error visualization</li>
            </ul>
          </div>

          <h3>MCP CLI</h3>
          <div class="callout">
            <p><strong>Command-line interface for MCP operations</strong></p>
            
            <h4>Installation:</h4>
            <pre><code class="language-bash">npm install -g @modelcontextprotocol/cli</code></pre>

            <h4>Usage:</h4>
            <pre><code class="language-bash"># List tools from a server
mcp tools list node dist/server.js

# Call a tool
mcp tools call node dist/server.js --tool read_file --args '{"path": "/file.txt"}'

# List resources
mcp resources list node dist/server.js

# Read a resource
mcp resources read node dist/server.js --uri file:///path/to/file

# List prompts
mcp prompts list node dist/server.js

# Get a prompt
mcp prompts get node dist/server.js --name code_review --args '{"language": "python"}'</code></pre>
          </div>

          <h3>Test Utilities</h3>
          <div class="callout">
            <p><strong>Testing helpers for MCP implementations</strong></p>

            <h4>Mock Server (for client testing):</h4>
            <pre><code class="language-typescript">import { createMockServer } from '@modelcontextprotocol/sdk/testing';

const mockServer = createMockServer({
  tools: [
    {
      name: 'test_tool',
      description: 'A test tool',
      inputSchema: { type: 'object', properties: {} }
    }
  ],
  toolHandler: async (name, args) => {
    return {
      content: [{ type: 'text', text: 'Mock result' }]
    };
  }
});

// Use in tests
const client = new Client(/* ... */);
await client.connect(mockServer.transport);</code></pre>

            <h4>Mock Client (for server testing):</h4>
            <pre><code class="language-typescript">import { createMockClient } from '@modelcontextprotocol/sdk/testing';

const mockClient = createMockClient({
  capabilities: {
    sampling: {},
    roots: {}
  },
  samplingHandler: async (messages, maxTokens) => {
    return {
      role: 'assistant',
      content: { type: 'text', text: 'Mock LLM response' },
      model: 'mock-model',
      stopReason: 'end_turn'
    };
  }
});

// Use in tests
const server = new Server(/* ... */);
await server.connect(mockClient.transport);</code></pre>
          </div>

          <h2>Code Generators</h2>

          <h3>Server Template Generator:</h3>
          <pre><code class="language-bash"># Create new server project
npx create-mcp-server my-server

# Select options:
# - Language: TypeScript/JavaScript/Python
# - Transport: STDIO/HTTP/Both
# - Features: Tools/Resources/Prompts

cd my-server
npm install
npm run dev</code></pre>

          <h3>Schema to TypeScript Generator:</h3>
          <pre><code class="language-bash"># Generate TypeScript types from JSON Schema
mcp generate-types --input schema.json --output types.ts

# Generates type-safe interfaces for tool arguments</code></pre>

          <h2>IDE Extensions</h2>

          <h3>VS Code Extension</h3>
          <div class="callout">
            <h4>Features:</h4>
            <ul>
              <li>Syntax highlighting for MCP configurations</li>
              <li>IntelliSense for SDK imports</li>
              <li>Code snippets for common patterns</li>
              <li>Server debugging support</li>
              <li>Quick actions for testing</li>
            </ul>

            <h4>Installation:</h4>
            <pre><code class="language-bash">code --install-extension modelcontextprotocol.mcp</code></pre>
          </div>

          <h2>Community Tools</h2>

          <table class="table table-striped">
            <thead>
              <tr>
                <th>Tool</th>
                <th>Description</th>
                <th>Language</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>mcp-go</strong></td>
                <td>Go SDK for MCP servers/clients</td>
                <td>Go</td>
              </tr>
              <tr>
                <td><strong>mcp-rust</strong></td>
                <td>Rust SDK with high performance</td>
                <td>Rust</td>
              </tr>
              <tr>
                <td><strong>mcp-java</strong></td>
                <td>Java/Kotlin MCP implementation</td>
                <td>Java</td>
              </tr>
              <tr>
                <td><strong>mcp-dotnet</strong></td>
                <td>.NET SDK for C#/F#</td>
                <td>C#</td>
              </tr>
              <tr>
                <td><strong>mcp-playground</strong></td>
                <td>Web-based MCP server testing</td>
                <td>Web</td>
              </tr>
              <tr>
                <td><strong>mcp-proxy</strong></td>
                <td>Proxy server for remote access</td>
                <td>Node.js</td>
              </tr>
            </tbody>
          </table>

          <h2>Example Servers Repository</h2>
          <div class="callout bg-gradient-green">
            <p><strong>Official collection of example MCP servers</strong></p>
            
            <h4>Repository:</h4>
            <pre><code class="language-bash">git clone https://github.com/modelcontextprotocol/servers.git</code></pre>

            <h4>Included Examples:</h4>
            <ul>
              <li><strong>filesystem:</strong> File operations (read, write, search)</li>
              <li><strong>git:</strong> Git repository operations</li>
              <li><strong>database:</strong> SQL database queries</li>
              <li><strong>web-search:</strong> Web search integration</li>
              <li><strong>slack:</strong> Slack messaging and channel management</li>
              <li><strong>github:</strong> GitHub API operations</li>
              <li><strong>kubernetes:</strong> K8s cluster management</li>
              <li><strong>calculator:</strong> Math operations and evaluations</li>
            </ul>

            <h4>Usage:</h4>
            <pre><code class="language-bash">cd servers/src/filesystem
npm install
npm run build

# Test the server
mcp-inspector node dist/index.js</code></pre>
          </div>

          <h2>Useful Libraries</h2>

          <h3>Validation & Schema:</h3>
          <ul>
            <li><strong>Zod:</strong> TypeScript-first schema validation</li>
            <li><strong>Pydantic:</strong> Python data validation with types</li>
            <li><strong>Ajv:</strong> JSON Schema validator</li>
          </ul>

          <h3>Transport Helpers:</h3>
          <ul>
            <li><strong>express:</strong> HTTP server framework</li>
            <li><strong>fastify:</strong> Fast HTTP framework</li>
            <li><strong>ws:</strong> WebSocket implementation</li>
          </ul>

          <h3>Testing:</h3>
          <ul>
            <li><strong>vitest:</strong> Fast unit testing for TypeScript</li>
            <li><strong>pytest:</strong> Python testing framework</li>
            <li><strong>jest:</strong> JavaScript testing framework</li>
          </ul>

          <h2>Getting Help</h2>

          <div class="row">
            <div class="col-md-6">
              <div class="callout">
                <strong>üìö Documentation:</strong>
                <ul>
                  <li><a href="https://modelcontextprotocol.io">Official Documentation</a></li>
                  <li><a href="https://spec.modelcontextprotocol.io">Protocol Specification</a></li>
                  <li><a href="https://github.com/modelcontextprotocol">GitHub Organization</a></li>
                </ul>
              </div>
            </div>
            <div class="col-md-6">
              <div class="callout">
                <strong>üí¨ Community:</strong>
                <ul>
                  <li><a href="https://discord.gg/mcp">Discord Server</a></li>
                  <li><a href="https://github.com/modelcontextprotocol/discussions">GitHub Discussions</a></li>
                  <li><a href="https://twitter.com/mcprotocol">Twitter</a></li>
                </ul>
              </div>
            </div>
          </div>

        </section>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê BEST PRACTICES ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <section id="best-practices" role="article">
          <h1>‚úÖ Best Practices</h1>
          <span class="badge">best practices</span> <span class="badge">guidelines</span> <span class="badge">recommendations</span>

          <h2>Overview</h2>
          <p>
            Following best practices when building MCP servers and clients ensures <strong>security</strong>, 
            <strong>reliability</strong>, <strong>maintainability</strong>, and <strong>performance</strong>. 
            This section covers essential guidelines across multiple dimensions of MCP development.
          </p>

          <div class="callout">
            <strong>üéØ Goal:</strong> Create MCP implementations that are secure by default, handle errors gracefully, 
            perform efficiently, and provide excellent developer and user experiences.
          </div>

          <h2>Core Principles</h2>

          <div class="row">
            <div class="col-md-6">
              <h3>1. Security First</h3>
              <ul>
                <li>Validate all inputs</li>
                <li>Implement proper authentication & authorization</li>
                <li>Never trust client/server data implicitly</li>
                <li>Follow principle of least privilege</li>
                <li>Sanitize outputs to prevent injection attacks</li>
              </ul>
            </div>
            <div class="col-md-6">
              <h3>2. Robust Error Handling</h3>
              <ul>
                <li>Use standard JSON-RPC error codes</li>
                <li>Provide meaningful error messages</li>
                <li>Fail gracefully with proper cleanup</li>
                <li>Log errors for debugging</li>
                <li>Don't expose sensitive info in errors</li>
              </ul>
            </div>
          </div>

          <div class="row mt-3">
            <div class="col-md-6">
              <h3>3. Performance Optimization</h3>
              <ul>
                <li>Minimize response latency</li>
                <li>Cache when appropriate</li>
                <li>Use streaming for large data</li>
                <li>Implement rate limiting</li>
                <li>Monitor resource usage</li>
              </ul>
            </div>
            <div class="col-md-6">
              <h3>4. Developer Experience</h3>
              <ul>
                <li>Provide clear documentation</li>
                <li>Use descriptive names and schemas</li>
                <li>Include helpful examples</li>
                <li>Version your APIs properly</li>
                <li>Offer debugging capabilities</li>
              </ul>
            </div>
          </div>

          <h2>Best Practices by Category</h2>
          <div class="mermaid">
graph TB
    A[MCP Best Practices]
    
    B[üîí Security]
    C[‚ö†Ô∏è Error Handling]
    D[‚ö° Performance]
    
    A --> B
    A --> C
    A --> D
    
    B --> B1[Input Validation]
    B --> B2[Authentication]
    B --> B3[Authorization]
    B --> B4[Data Protection]
    
    C --> C1[Standard Codes]
    C --> C2[Error Details]
    C --> C3[Graceful Degradation]
    C --> C4[Logging]
    
    D --> D1[Caching]
    D --> D2[Lazy Loading]
    D --> D3[Rate Limiting]
    D --> D4[Resource Management]
    
    style A fill:#e3f2fd,stroke:#1976d2,stroke-width:3px
    style B fill:#ffebee,stroke:#c62828,stroke-width:2px
    style C fill:#fff3e0,stroke:#f57c00,stroke-width:2px
    style D fill:#e8f5e9,stroke:#2e7d32,stroke-width:2px
          </div>

          <h2>Quick Reference</h2>
          <table class="table table-striped">
            <thead>
              <tr>
                <th>Category</th>
                <th>Key Practices</th>
                <th>Common Pitfalls</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>üîí Security</strong></td>
                <td>
                  ‚Ä¢ Validate inputs<br/>
                  ‚Ä¢ Use authentication<br/>
                  ‚Ä¢ Implement authorization<br/>
                  ‚Ä¢ Sanitize outputs
                </td>
                <td>
                  ‚ùå Trusting all input<br/>
                  ‚ùå Exposing sensitive data<br/>
                  ‚ùå Missing access controls<br/>
                  ‚ùå Injection vulnerabilities
                </td>
              </tr>
              <tr>
                <td><strong>‚ö†Ô∏è Error Handling</strong></td>
                <td>
                  ‚Ä¢ Use standard error codes<br/>
                  ‚Ä¢ Provide context<br/>
                  ‚Ä¢ Log appropriately<br/>
                  ‚Ä¢ Clean up resources
                </td>
                <td>
                  ‚ùå Generic error messages<br/>
                  ‚ùå Leaking stack traces<br/>
                  ‚ùå Silent failures<br/>
                  ‚ùå Resource leaks
                </td>
              </tr>
              <tr>
                <td><strong>‚ö° Performance</strong></td>
                <td>
                  ‚Ä¢ Cache effectively<br/>
                  ‚Ä¢ Stream large data<br/>
                  ‚Ä¢ Limit concurrency<br/>
                  ‚Ä¢ Monitor metrics
                </td>
                <td>
                  ‚ùå Loading all data upfront<br/>
                  ‚ùå Unbounded operations<br/>
                  ‚ùå No rate limiting<br/>
                  ‚ùå Memory leaks
                </td>
              </tr>
            </tbody>
          </table>

          <h2>Development Workflow</h2>

          <h3>1. Design Phase:</h3>
          <pre><code class="language-typescript">// Define clear interfaces first
interface MyToolInput {
  query: string;         // What the tool needs
  limit?: number;        // Optional parameters
  format?: 'json' | 'text';  // Explicit options
}

interface MyToolOutput {
  results: Array&lt;Result&gt;;
  metadata: {
    total: number;
    processingTime: number;
  };
}</code></pre>

          <h3>2. Implementation Phase:</h3>
          <pre><code class="language-typescript">// Implement with validation and error handling
server.setRequestHandler(CallToolRequestSchema, async (request) => {
  // 1. Validate input
  const input = validateInput(request.params.arguments);
  
  try {
    // 2. Execute with timeout
    const result = await executeWithTimeout(
      processTool(input),
      10000  // 10 second timeout
    );
    
    // 3. Return structured result
    return {
      content: [{
        type: 'text',
        text: JSON.stringify(result, null, 2)
      }]
    };
  } catch (error) {
    // 4. Handle errors properly
    return handleToolError(error);
  }
});</code></pre>

          <h3>3. Testing Phase:</h3>
          <pre><code class="language-typescript">// Comprehensive testing
describe('MyTool', () => {
  test('handles valid input', async () => {
    const result = await callTool({ query: 'test' });
    expect(result).toBeDefined();
  });
  
  test('validates required parameters', async () => {
    await expect(callTool({}))
      .rejects.toThrow('query is required');
  });
  
  test('handles errors gracefully', async () => {
    const result = await callTool({ query: 'invalid' });
    expect(result.isError).toBe(true);
  });
  
  test('respects timeouts', async () => {
    const start = Date.now();
    await callTool({ query: 'slow-operation' });
    expect(Date.now() - start).toBeLessThan(11000);
  });
});</code></pre>

          <h2>Code Review Checklist</h2>

          <div class="row">
            <div class="col-md-6">
              <div class="callout bg-gradient-green">
                <strong>‚úÖ Server Checklist:</strong>
                <ul>
                  <li>‚òê All tools have schemas</li>
                  <li>‚òê Input validation implemented</li>
                  <li>‚òê Error handling in place</li>
                  <li>‚òê Resources clean up properly</li>
                  <li>‚òê Timeouts configured</li>
                  <li>‚òê Logging is appropriate</li>
                  <li>‚òê No hardcoded credentials</li>
                  <li>‚òê Tests cover edge cases</li>
                  <li>‚òê Documentation is complete</li>
                </ul>
              </div>
            </div>
            <div class="col-md-6">
              <div class="callout bg-gradient-green">
                <strong>‚úÖ Client Checklist:</strong>
                <ul>
                  <li>‚òê Connection errors handled</li>
                  <li>‚òê Timeouts set appropriately</li>
                  <li>‚òê Retries implemented</li>
                  <li>‚òê Server capabilities checked</li>
                  <li>‚òê Resource cleanup on disconnect</li>
                  <li>‚òê User feedback provided</li>
                  <li>‚òê Concurrent requests limited</li>
                  <li>‚òê Credentials stored securely</li>
                  <li>‚òê Error messages user-friendly</li>
                </ul>
              </div>
            </div>
          </div>

          <h2>Common Anti-Patterns to Avoid</h2>

          <div class="code-tabs">
            <ul class="nav nav-tabs" role="tablist">
              <li class="nav-item" role="presentation">
                <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#anti-blocking" type="button" role="tab">Blocking Operations</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#anti-errors" type="button" role="tab">Ignoring Errors</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#anti-unbounded" type="button" role="tab">Unbounded Operations</button>
              </li>
            </ul>
            <div class="tab-content">
              <div class="tab-pane fade show active" id="anti-blocking" role="tabpanel">
                <pre><code class="language-typescript">// BAD: Synchronous file read blocks everything
server.setRequestHandler(CallToolRequestSchema, (request) => {
  const data = fs.readFileSync('/large-file.json');  // BLOCKS!
  return { content: [{ type: 'text', text: data }] };
});

// GOOD: Async operations don't block
server.setRequestHandler(CallToolRequestSchema, async (request) => {
  const data = await fs.promises.readFile('/large-file.json', 'utf-8');
  return { content: [{ type: 'text', text: data }] };
});</code></pre>
              </div>
              <div class="tab-pane fade" id="anti-errors" role="tabpanel">
                <pre><code class="language-typescript">// BAD: Silent failure
server.setRequestHandler(CallToolRequestSchema, async (request) => {
  try {
    return await doSomething(request);
  } catch (error) {
    // Silence!
  }
});

// GOOD: Proper error handling
server.setRequestHandler(CallToolRequestSchema, async (request) => {
  try {
    return await doSomething(request);
  } catch (error) {
    console.error('Tool execution failed:', error);
    return {
      content: [{
        type: 'text',
        text: `Error: ${error.message}`
      }],
      isError: true
    };
  }
});</code></pre>
              </div>
              <div class="tab-pane fade" id="anti-unbounded" role="tabpanel">
                <pre><code class="language-typescript">// BAD: No limits, can consume all resources
async function searchFiles(pattern: string) {
  return await glob(pattern);  // Could match millions of files!
}

// GOOD: Set reasonable limits
async function searchFiles(pattern: string, limit = 100) {
  const matches = [];
  for await (const file of glob(pattern)) {
    matches.push(file);
    if (matches.length >= limit) break;
  }
  return matches;
}</code></pre>
              </div>
            </div>
          </div>

          <h2>Monitoring & Observability</h2>

          <h3>Essential Metrics:</h3>
          <ul>
            <li><strong>Request Count:</strong> Track tool calls, resource reads, etc.</li>
            <li><strong>Error Rate:</strong> Percentage of failed operations</li>
            <li><strong>Latency:</strong> P50, P95, P99 response times</li>
            <li><strong>Active Connections:</strong> Current client count</li>
            <li><strong>Resource Usage:</strong> Memory, CPU, file handles</li>
          </ul>

          <h3>Logging Best Practices:</h3>
          <pre><code class="language-typescript">// Use structured logging
logger.info('Tool called', {
  tool: request.params.name,
  userId: session.userId,
  timestamp: new Date().toISOString(),
  requestId: request.id
});

// Log errors with context
logger.error('Tool execution failed', {
  tool: request.params.name,
  error: error.message,
  stack: error.stack,
  input: sanitizeForLogging(request.params.arguments)
});</code></pre>

        </section>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê SECURITY ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <section id="security" role="article">
          <h1>üîí Security</h1>
          <span class="badge">security</span> <span class="badge">safety</span> <span class="badge">trust</span>

          <h2>Security Overview</h2>
          <p>
            Security is <strong>paramount</strong> in MCP implementations. Servers often have access to sensitive 
            data and powerful operations, while clients may interact with untrusted servers. Proper security 
            practices protect both parties and the systems they interact with.
          </p>

          <div class="callout bg-gradient-red">
            <strong>‚ö†Ô∏è Security First:</strong> Always assume inputs are malicious, validate everything, and 
            follow the principle of least privilege. A security breach can have severe consequences.
          </div>

          <h2>Threat Model</h2>
          <div class="mermaid">
graph TB
    subgraph "Threat Vectors"
        A[Malicious Client]
        B[Malicious Server]
        C[Network Attacker]
        D[Compromised Dependencies]
    end
    
    subgraph "Assets to Protect"
        E[User Data]
        F[System Resources]
        G[Credentials]
        H[Internal Services]
    end
    
    A -->|Exploits| F
    A -->|Steals| G
    B -->|Leaks| E
    B -->|Accesses| H
    C -->|Intercepts| E
    C -->|Hijacks| Sessions[Sessions]
    D -->|Compromises| F
    D -->|Exfiltrates| E
    
    style A fill:#ffebee,stroke:#c62828,stroke-width:2px
    style B fill:#ffebee,stroke:#c62828,stroke-width:2px
    style C fill:#ffebee,stroke:#c62828,stroke-width:2px
    style D fill:#ffebee,stroke:#c62828,stroke-width:2px
    style E fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
    style F fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
    style G fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
    style H fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
          </div>

          <h2>Input Validation</h2>

          <h3>Always Validate Inputs:</h3>
          <pre><code class="language-typescript">import { z } from 'zod';

// Define strict schemas
const ReadFileSchema = z.object({
  path: z.string()
    .min(1, 'Path cannot be empty')
    .refine(path => !path.includes('..'), {
      message: 'Path traversal not allowed'
    })
    .refine(path => path.startsWith('/allowed/dir/'), {
      message: 'Access denied to this directory'
    }),
  encoding: z.enum(['utf-8', 'base64']).default('utf-8')
});

server.setRequestHandler(CallToolRequestSchema, async (request) => {
  if (request.params.name === 'read_file') {
    // Validate before processing
    const result = ReadFileSchema.safeParse(request.params.arguments);
    
    if (!result.success) {
      return {
        content: [{
          type: 'text',
          text: `Validation error: ${result.error.message}`
        }],
        isError: true
      };
    }
    
    // Safe to proceed with validated data
    const { path, encoding } = result.data;
    // ...
  }
});</code></pre>

          <h3>Common Validation Patterns:</h3>
          <table class="table table-striped">
            <thead>
              <tr>
                <th>Input Type</th>
                <th>Validation</th>
                <th>Example</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>File Paths</strong></td>
                <td>
                  ‚Ä¢ Check for path traversal (..)<br/>
                  ‚Ä¢ Validate against whitelist<br/>
                  ‚Ä¢ Resolve to canonical path
                </td>
                <td><code>path.resolve(basedir, userPath)</code></td>
              </tr>
              <tr>
                <td><strong>URLs</strong></td>
                <td>
                  ‚Ä¢ Validate protocol (http/https)<br/>
                  ‚Ä¢ Check against blacklist<br/>
                  ‚Ä¢ Prevent SSRF attacks
                </td>
                <td><code>new URL(input).protocol === 'https:'</code></td>
              </tr>
              <tr>
                <td><strong>Commands</strong></td>
                <td>
                  ‚Ä¢ Use allowlist approach<br/>
                  ‚Ä¢ Never use shell: true<br/>
                  ‚Ä¢ Escape arguments properly
                </td>
                <td><code>execFile(cmd, args)</code></td>
              </tr>
              <tr>
                <td><strong>SQL Queries</strong></td>
                <td>
                  ‚Ä¢ Use parameterized queries<br/>
                  ‚Ä¢ Never concatenate strings<br/>
                  ‚Ä¢ Validate table/column names
                </td>
                <td><code>db.query('SELECT * FROM users WHERE id = ?', [id])</code></td>
              </tr>
              <tr>
                <td><strong>JSON Data</strong></td>
                <td>
                  ‚Ä¢ Schema validation<br/>
                  ‚Ä¢ Size limits<br/>
                  ‚Ä¢ Depth limits
                </td>
                <td><code>z.object({...}).parse(data)</code></td>
              </tr>
            </tbody>
          </table>

          <h2>Authentication & Authorization</h2>

          <div class="code-tabs">
            <ul class="nav nav-tabs" role="tablist">
              <li class="nav-item" role="presentation">
                <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#auth-http" type="button" role="tab">HTTP Transport</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#auth-apikey" type="button" role="tab">API Key</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#auth-tool" type="button" role="tab">Tool-Level</button>
              </li>
            </ul>
            <div class="tab-content">
              <div class="tab-pane fade show active" id="auth-http" role="tabpanel">
                <pre><code class="language-typescript">import express from 'express';
import jwt from 'jsonwebtoken';

const app = express();

// Authentication middleware
const authenticateToken = (req, res, next) => {
  const authHeader = req.headers['authorization'];
  const token = authHeader && authHeader.split(' ')[1];
  
  if (!token) {
    return res.status(401).json({ error: 'Authentication required' });
  }
  
  try {
    const user = jwt.verify(token, process.env.JWT_SECRET);
    req.user = user;
    next();
  } catch (error) {
    return res.status(403).json({ error: 'Invalid token' });
  }
};

// Apply to MCP endpoints
app.use(['/sse', '/message'], authenticateToken);

app.get('/sse', async (req, res) => {
  console.log(`User ${req.user.id} connected`);
  // Create user-scoped server
  const server = createServerForUser(req.user);
  // ...
});</code></pre>
              </div>
              <div class="tab-pane fade" id="auth-apikey" role="tabpanel">
                <pre><code class="language-typescript">// Simple API key validation
const validateApiKey = (req, res, next) => {
  const apiKey = req.headers['x-api-key'];
  
  if (!apiKey) {
    return res.status(401).json({ error: 'API key required' });
  }
  
  // Validate against database (use hashed keys!)
  const user = await getUserByApiKey(apiKey);
  
  if (!user) {
    return res.status(403).json({ error: 'Invalid API key' });
  }
  
  // Check if key is active and not expired
  if (!user.isActive || user.keyExpiry < Date.now()) {
    return res.status(403).json({ error: 'API key expired or inactive' });
  }
  
  req.user = user;
  next();
};</code></pre>
              </div>
              <div class="tab-pane fade" id="auth-tool" role="tabpanel">
                <pre><code class="language-typescript">// Permission-based access control
server.setRequestHandler(CallToolRequestSchema, async (request) => {
  const toolName = request.params.name;
  const user = getCurrentUser();  // From auth context
  
  // Check if user has permission for this tool
  if (!user.permissions.includes(`tool:${toolName}`)) {
    return {
      content: [{
        type: 'text',
        text: `Access denied: You don't have permission to use ${toolName}`
      }],
      isError: true
    };
  }
  
  // Check resource-level permissions
  const resourceId = request.params.arguments?.resourceId;
  if (resourceId && !await canAccessResource(user, resourceId)) {
    return {
      content: [{
        type: 'text',
        text: 'Access denied: You cannot access this resource'
      }],
      isError: true
    };
  }
  
  // Proceed with authorized operation
  return await executeTool(toolName, request.params.arguments);
});</code></pre>
              </div>
            </div>
          </div>

          <h2>Preventing Common Attacks</h2>

          <div class="code-tabs">
            <ul class="nav nav-tabs" role="tablist">
              <li class="nav-item" role="presentation">
                <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#attack-path" type="button" role="tab">Path Traversal</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#attack-command" type="button" role="tab">Command Injection</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#attack-sql" type="button" role="tab">SQL Injection</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#attack-ssrf" type="button" role="tab">SSRF</button>
              </li>
            </ul>
            <div class="tab-content">
              <div class="tab-pane fade show active" id="attack-path" role="tabpanel">
                <pre><code class="language-typescript">import path from 'path';
import fs from 'fs/promises';

async function safeReadFile(userPath: string, baseDir: string) {
  // Resolve to absolute path
  const absolutePath = path.resolve(baseDir, userPath);
  
  // Check if resolved path is still within base directory
  if (!absolutePath.startsWith(baseDir)) {
    throw new Error('Access denied: Path outside allowed directory');
  }
  
  // Additional check: no symlinks that escape
  const realPath = await fs.realpath(absolutePath);
  if (!realPath.startsWith(baseDir)) {
    throw new Error('Access denied: Symlink target outside allowed directory');
  }
  
  return await fs.readFile(realPath, 'utf-8');
}</code></pre>
              </div>
              <div class="tab-pane fade" id="attack-command" role="tabpanel">
                <pre><code class="language-typescript">import { execFile } from 'child_process';
import { promisify } from 'util';

const execFileAsync = promisify(execFile);

// BAD: Shell injection vulnerability
async function runCommandBad(userInput: string) {
  const { exec } = require('child_process');
  return exec(`grep ${userInput} file.txt`);  // VULNERABLE!
}

// GOOD: Safe execution with allowlist
async function runCommandGood(operation: string, args: string[]) {
  const allowedCommands = {
    'search': '/usr/bin/grep',
    'list': '/usr/bin/ls',
    'count': '/usr/bin/wc'
  };
  
  const command = allowedCommands[operation];
  if (!command) {
    throw new Error('Operation not allowed');
  }
  
  // Validate arguments
  const validatedArgs = args.filter(arg => 
    /^[a-zA-Z0-9_.-]+$/.test(arg)
  );
  
  // Execute without shell
  return await execFileAsync(command, validatedArgs, {
    timeout: 5000,
    maxBuffer: 1024 * 1024  // 1MB limit
  });
}</code></pre>
              </div>
              <div class="tab-pane fade" id="attack-sql" role="tabpanel">
                <pre><code class="language-typescript">import { Pool } from 'pg';

const pool = new Pool();

// BAD: SQL injection vulnerability
async function getUserBad(username: string) {
  const query = `SELECT * FROM users WHERE username = '${username}'`;
  return await pool.query(query);  // VULNERABLE!
}

// GOOD: Parameterized queries
async function getUserGood(username: string) {
  const query = 'SELECT * FROM users WHERE username = $1';
  return await pool.query(query, [username]);
}

// GOOD: With ORM
import { User } from './models';
async function getUserWithORM(username: string) {
  return await User.findOne({ where: { username } });
}</code></pre>
              </div>
              <div class="tab-pane fade" id="attack-ssrf" role="tabpanel">
                <pre><code class="language-typescript">// Prevent Server-Side Request Forgery
async function safeFetch(url: string) {
  const parsed = new URL(url);
  
  // Only allow specific protocols
  if (!['http:', 'https:'].includes(parsed.protocol)) {
    throw new Error('Invalid protocol');
  }
  
  // Block private IPs and localhost
  const hostname = parsed.hostname;
  const blockedHosts = [
    'localhost',
    '127.0.0.1',
    '0.0.0.0',
    '::1',
    '169.254.169.254',  // AWS metadata
    '10.',              // Private network
    '172.16.',          // Private network
    '192.168.'          // Private network
  ];
  
  if (blockedHosts.some(blocked => hostname.startsWith(blocked))) {
    throw new Error('Access to internal resources not allowed');
  }
  
  // Use timeout
  const controller = new AbortController();
  const timeout = setTimeout(() => controller.abort(), 5000);
  
  try {
    const response = await fetch(url, {
      signal: controller.signal,
      redirect: 'manual'  // Don't follow redirects automatically
    });
    return response;
  } finally {
    clearTimeout(timeout);
  }
}</code></pre>
              </div>
            </div>
          </div>

          <h2>Secure Data Handling</h2>

          <div class="code-tabs">
            <ul class="nav nav-tabs" role="tablist">
              <li class="nav-item" role="presentation">
                <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#secure-credentials" type="button" role="tab">Credential Management</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#secure-logging" type="button" role="tab">Sensitive Data in Logs</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#secure-encryption" type="button" role="tab">Data Encryption</button>
              </li>
            </ul>
            <div class="tab-content">
              <div class="tab-pane fade show active" id="secure-credentials" role="tabpanel">
                <pre><code class="language-typescript">// BAD: Hardcoded credentials
const dbPassword = 'mypassword123';  // NEVER!

// GOOD: Environment variables
const dbPassword = process.env.DB_PASSWORD;

// BETTER: Secret management service
import { SecretsManager } from '@aws-sdk/client-secrets-manager';

async function getDbPassword() {
  const client = new SecretsManager({ region: 'us-east-1' });
  const response = await client.getSecretValue({
    SecretId: 'prod/database/password'
  });
  return JSON.parse(response.SecretString).password;
}</code></pre>
              </div>
              <div class="tab-pane fade" id="secure-logging" role="tabpanel">
                <pre><code class="language-typescript">// Sanitize sensitive data before logging
function sanitizeForLogging(data: any): any {
  const sensitive = ['password', 'token', 'apiKey', 'secret', 'creditCard'];
  
  const sanitize = (obj: any): any => {
    if (typeof obj !== 'object' || obj === null) return obj;
    
    const result: any = Array.isArray(obj) ? [] : {};
    for (const [key, value] of Object.entries(obj)) {
      if (sensitive.some(s => key.toLowerCase().includes(s))) {
        result[key] = '[REDACTED]';
      } else if (typeof value === 'object') {
        result[key] = sanitize(value);
      } else {
        result[key] = value;
      }
    }
    return result;
  };
  
  return sanitize(data);
}

// Usage
logger.info('Tool called', {
  tool: request.params.name,
  arguments: sanitizeForLogging(request.params.arguments)
});</code></pre>
              </div>
              <div class="tab-pane fade" id="secure-encryption" role="tabpanel">
                <pre><code class="language-typescript">import crypto from 'crypto';

class EncryptionService {
  private algorithm = 'aes-256-gcm';
  private key: Buffer;
  
  constructor(keyHex: string) {
    this.key = Buffer.from(keyHex, 'hex');
  }
  
  encrypt(text: string): string {
    const iv = crypto.randomBytes(16);
    const cipher = crypto.createCipheriv(this.algorithm, this.key, iv);
    
    let encrypted = cipher.update(text, 'utf8', 'hex');
    encrypted += cipher.final('hex');
    
    const authTag = cipher.getAuthTag();
    
    // Return iv:authTag:encrypted
    return `${iv.toString('hex')}:${authTag.toString('hex')}:${encrypted}`;
  }
  
  decrypt(encryptedData: string): string {
    const [ivHex, authTagHex, encrypted] = encryptedData.split(':');
    
    const decipher = crypto.createDecipheriv(
      this.algorithm,
      this.key,
      Buffer.from(ivHex, 'hex')
    );
    
    decipher.setAuthTag(Buffer.from(authTagHex, 'hex'));
    
    let decrypted = decipher.update(encrypted, 'hex', 'utf8');
    decrypted += decipher.final('utf8');
    
    return decrypted;
  }
}</code></pre>
              </div>
            </div>
          </div>

          <h2>Rate Limiting & DDoS Protection</h2>

          <div class="code-tabs">
            <ul class="nav nav-tabs" role="tablist">
              <li class="nav-item" role="presentation">
                <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#rate-request" type="button" role="tab">Request Rate Limiting</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#rate-tool" type="button" role="tab">Tool-Specific Limits</button>
              </li>
            </ul>
            <div class="tab-content">
              <div class="tab-pane fade show active" id="rate-request" role="tabpanel">
                <pre><code class="language-typescript">import rateLimit from 'express-rate-limit';

// Global rate limit
const globalLimiter = rateLimit({
  windowMs: 15 * 60 * 1000,  // 15 minutes
  max: 100,  // Max 100 requests per window
  message: 'Too many requests, please try again later',
  standardHeaders: true,
  legacyHeaders: false
});

// Per-user rate limit
const perUserLimiter = rateLimit({
  windowMs: 60 * 1000,  // 1 minute
  max: 20,  // Max 20 requests per minute per user
  keyGenerator: (req) => req.user?.id || req.ip,
  skip: (req) => req.user?.role === 'admin'  // Skip for admins
});

app.use('/message', globalLimiter, perUserLimiter);</code></pre>
              </div>
              <div class="tab-pane fade" id="rate-tool" role="tabpanel">
                <pre><code class="language-typescript">// Limit expensive operations per user
const userOperationCounts = new Map&lt;string, Map&lt;string, number&gt;&gt;();

async function checkToolLimit(userId: string, toolName: string): Promise&lt;boolean&gt; {
  const limits = {
    'expensive_operation': 10,      // 10 per hour
    'database_query': 100,          // 100 per hour
    'file_write': 50                // 50 per hour
  };
  
  const limit = limits[toolName];
  if (!limit) return true;  // No limit
  
  const now = Date.now();
  const hourAgo = now - 60 * 60 * 1000;
  
  if (!userOperationCounts.has(userId)) {
    userOperationCounts.set(userId, new Map());
  }
  
  const userCounts = userOperationCounts.get(userId)!;
  const count = userCounts.get(toolName) || 0;
  
  if (count >= limit) {
    return false;  // Limit exceeded
  }
  
  userCounts.set(toolName, count + 1);
  
  // Cleanup old entries periodically
  setTimeout(() => {
    const current = userCounts.get(toolName) || 0;
    if (current > 0) {
      userCounts.set(toolName, current - 1);
    }
  }, 60 * 60 * 1000);
  
  return true;
}</code></pre>
              </div>
            </div>
          </div>

          <h2>Security Checklist</h2>

          <div class="row">
            <div class="col-md-6">
              <div class="callout bg-gradient-red">
                <strong>üîí Server Security:</strong>
                <ul>
                  <li>‚òê All inputs validated</li>
                  <li>‚òê Authentication implemented</li>
                  <li>‚òê Authorization checks in place</li>
                  <li>‚òê No hardcoded credentials</li>
                  <li>‚òê Sensitive data encrypted</li>
                  <li>‚òê Rate limiting configured</li>
                  <li>‚òê HTTPS/TLS for HTTP transport</li>
                  <li>‚òê Error messages don't leak info</li>
                  <li>‚òê Logging excludes sensitive data</li>
                  <li>‚òê Dependencies regularly updated</li>
                  <li>‚òê Security headers configured</li>
                  <li>‚òê CORS properly configured</li>
                </ul>
              </div>
            </div>
            <div class="col-md-6">
              <div class="callout bg-gradient-orange">
                <strong>üîê Client Security:</strong>
                <ul>
                  <li>‚òê Validate server responses</li>
                  <li>‚òê Verify server identity (TLS)</li>
                  <li>‚òê Store credentials securely</li>
                  <li>‚òê Limit server permissions</li>
                  <li>‚òê Timeout long-running operations</li>
                  <li>‚òê Validate server capabilities</li>
                  <li>‚òê Sanitize server data before display</li>
                  <li>‚òê Don't auto-execute dangerous ops</li>
                  <li>‚òê Require user confirmation</li>
                  <li>‚òê Log security-relevant events</li>
                  <li>‚òê Handle malicious servers gracefully</li>
                  <li>‚òê Implement certificate pinning</li>
                </ul>
              </div>
            </div>
          </div>

          <h2>Security Monitoring</h2>

          <h3>Log Security Events:</h3>
          <pre><code class="language-typescript">// Log authentication attempts
logger.warn('Failed authentication', {
  ip: req.ip,
  username: attempt.username,
  timestamp: new Date().toISOString()
});

// Log authorization failures
logger.warn('Authorization denied', {
  user: user.id,
  tool: toolName,
  resource: resourceId,
  timestamp: new Date().toISOString()
});

// Log suspicious activity
logger.alert('Potential attack detected', {
  type: 'path-traversal',
  user: user.id,
  input: sanitize(userInput),
  timestamp: new Date().toISOString()
});</code></pre>

          <h3>Security Metrics to Track:</h3>
          <ul>
            <li><strong>Failed Authentication Rate:</strong> Spike indicates brute force attack</li>
            <li><strong>Authorization Denial Rate:</strong> User trying to access forbidden resources</li>
            <li><strong>Validation Failure Rate:</strong> Malformed inputs or attack attempts</li>
            <li><strong>Rate Limit Hits:</strong> Excessive requests from single source</li>
            <li><strong>Error Rates by Endpoint:</strong> Anomalies may indicate probing</li>
          </ul>

        </section>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê ERROR HANDLING ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <section id="error-handling" role="article">
          <h1>‚ö†Ô∏è Error Handling</h1>
          <span class="badge">errors</span> <span class="badge">exceptions</span> <span class="badge">handling</span>

          <h2>Error Handling Overview</h2>
          <p>
            Proper error handling is critical for <strong>reliability</strong>, <strong>debugging</strong>, and 
            <strong>user experience</strong>. MCP uses JSON-RPC 2.0 error codes and provides mechanisms for 
            communicating errors clearly between clients and servers.
          </p>

          <div class="callout">
            <strong>üéØ Goals:</strong> Errors should be informative, actionable, secure (not leaking sensitive 
            info), and properly logged for debugging while providing good user experience.
          </div>

          <h2>JSON-RPC Error Codes</h2>
          <table class="table table-striped">
            <thead>
              <tr>
                <th>Code</th>
                <th>Name</th>
                <th>Meaning</th>
                <th>When to Use</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>-32700</strong></td>
                <td>Parse Error</td>
                <td>Invalid JSON received</td>
                <td>JSON parsing failed</td>
              </tr>
              <tr>
                <td><strong>-32600</strong></td>
                <td>Invalid Request</td>
                <td>Invalid JSON-RPC request</td>
                <td>Missing required fields like "jsonrpc" or "method"</td>
              </tr>
              <tr>
                <td><strong>-32601</strong></td>
                <td>Method Not Found</td>
                <td>Requested method doesn't exist</td>
                <td>Unknown tool, resource, or prompt requested</td>
              </tr>
              <tr>
                <td><strong>-32602</strong></td>
                <td>Invalid Params</td>
                <td>Invalid method parameters</td>
                <td>Parameters don't match schema or are missing</td>
              </tr>
              <tr>
                <td><strong>-32603</strong></td>
                <td>Internal Error</td>
                <td>Server internal error</td>
                <td>Unexpected server-side errors</td>
              </tr>
              <tr>
                <td><strong>-32000 to -32099</strong></td>
                <td>Server Error</td>
                <td>Application-specific errors</td>
                <td>Custom error conditions (auth, resource not found, etc.)</td>
              </tr>
            </tbody>
          </table>

          <h2>Error Response Format</h2>

          <h3>Standard JSON-RPC Error:</h3>
          <pre><code class="language-json">{
  "jsonrpc": "2.0",
  "id": 1,
  "error": {
    "code": -32602,
    "message": "Invalid params",
    "data": {
      "details": "Parameter 'query' is required",
      "field": "query",
      "expected": "string",
      "received": "undefined"
    }
  }
}</code></pre>

          <h3>Tool Error Response:</h3>
          <pre><code class="language-json">{
  "jsonrpc": "2.0",
  "id": 1,
  "result": {
    "content": [
      {
        "type": "text",
        "text": "Error: File not found at /path/to/file.txt"
      }
    ],
    "isError": true
  }
}</code></pre>

          <h2>Server-Side Error Handling</h2>

          <h3>Basic Error Handling Pattern:</h3>
          <pre><code class="language-typescript">server.setRequestHandler(CallToolRequestSchema, async (request) => {
  const { name, arguments: args } = request.params;
  
  try {
    // Validate tool exists
    if (!validTools.includes(name)) {
      throw new McpError(
        ErrorCode.MethodNotFound,
        `Tool '${name}' does not exist`
      );
    }
    
    // Validate parameters
    const validatedArgs = validateToolArgs(name, args);
    
    // Execute tool
    const result = await executeTool(name, validatedArgs);
    
    return {
      content: [{
        type: 'text',
        text: JSON.stringify(result, null, 2)
      }]
    };
    
  } catch (error) {
    // Handle different error types
    if (error instanceof McpError) {
      throw error;  // Re-throw MCP errors
    }
    
    if (error instanceof ValidationError) {
      throw new McpError(
        ErrorCode.InvalidParams,
        'Invalid parameters',
        { details: error.message, errors: error.errors }
      );
    }
    
    if (error.code === 'ENOENT') {
      return {
        content: [{
          type: 'text',
          text: `Error: File not found - ${error.path}`
        }],
        isError: true
      };
    }
    
    // Log unexpected errors
    console.error('Tool execution failed:', error);
    
    throw new McpError(
      ErrorCode.InternalError,
      'Tool execution failed',
      { message: error.message }
    );
  }
});</code></pre>

          <h3>Custom Error Classes:</h3>
          <pre><code class="language-typescript">// MCP-specific error class
class McpError extends Error {
  constructor(
    public code: number,
    message: string,
    public data?: any
  ) {
    super(message);
    this.name = 'McpError';
  }
  
  toJSON() {
    return {
      code: this.code,
      message: this.message,
      data: this.data
    };
  }
}

// Common error codes
const ErrorCode = {
  ParseError: -32700,
  InvalidRequest: -32600,
  MethodNotFound: -32601,
  InvalidParams: -32602,
  InternalError: -32603,
  // Custom codes
  Unauthorized: -32001,
  Forbidden: -32002,
  NotFound: -32003,
  Timeout: -32004,
  RateLimitExceeded: -32005
};

// Usage
throw new McpError(
  ErrorCode.Unauthorized,
  'Authentication required',
  { requiredScope: 'tools:execute' }
);</code></pre>

          <h3>Error Recovery and Cleanup:</h3>
          <pre><code class="language-typescript">async function executeToolWithCleanup(name: string, args: any) {
  const resources: any[] = [];
  
  try {
    // Acquire resources
    const connection = await acquireDbConnection();
    resources.push(connection);
    
    const lockFile = await createLockFile(`/tmp/${name}.lock`);
    resources.push(lockFile);
    
    // Execute operation
    const result = await performOperation(connection, args);
    
    return result;
    
  } catch (error) {
    // Log error with context
    console.error('Tool execution failed', {
      tool: name,
      error: error.message,
      stack: error.stack,
      args: sanitize(args)
    });
    
    throw error;
    
  } finally {
    // Always clean up resources
    for (const resource of resources.reverse()) {
      try {
        await resource.close?.();
      } catch (cleanupError) {
        console.error('Cleanup failed', cleanupError);
      }
    }
  }
}</code></pre>

          <h2>Client-Side Error Handling</h2>

          <h3>Handling Server Errors:</h3>
          <pre><code class="language-typescript">try {
  const result = await client.request(
    {
      method: 'tools/call',
      params: {
        name: 'search',
        arguments: { query: 'test' }
      }
    },
    CallToolResultSchema
  );
  
  // Check for tool-level errors
  if (result.isError) {
    console.error('Tool returned error:', result.content[0].text);
    // Handle gracefully
    return null;
  }
  
  return result;
  
} catch (error) {
  // Handle JSON-RPC errors
  if (error.code === -32601) {
    console.error('Tool not found on server');
  } else if (error.code === -32602) {
    console.error('Invalid parameters:', error.data);
  } else if (error.code === -32001) {
    console.error('Authentication required');
    // Prompt for credentials
  } else {
    console.error('Unexpected error:', error);
  }
  
  throw error;
}</code></pre>

          <h3>Retry Logic:</h3>
          <pre><code class="language-typescript">async function requestWithRetry&lt;T&gt;(
  client: Client,
  request: any,
  schema: any,
  options = {
    maxRetries: 3,
    retryDelay: 1000,
    retryableErrors: [-32603, -32004]  // Internal error, timeout
  }
): Promise&lt;T&gt; {
  let lastError;
  
  for (let attempt = 0; attempt <= options.maxRetries; attempt++) {
    try {
      return await client.request(request, schema);
    } catch (error) {
      lastError = error;
      
      // Don't retry non-retryable errors
      if (!options.retryableErrors.includes(error.code)) {
        throw error;
      }
      
      // Don't retry on last attempt
      if (attempt < options.maxRetries) {
        const delay = options.retryDelay * Math.pow(2, attempt);
        console.log(`Retry attempt ${attempt + 1} after ${delay}ms`);
        await new Promise(resolve => setTimeout(resolve, delay));
      }
    }
  }
  
  throw lastError;
}</code></pre>

          <h3>Timeout Handling:</h3>
          <pre><code class="language-typescript">async function requestWithTimeout&lt;T&gt;(
  client: Client,
  request: any,
  schema: any,
  timeoutMs = 30000
): Promise&lt;T&gt; {
  const timeoutPromise = new Promise((_, reject) => {
    setTimeout(() => {
      reject(new McpError(
        ErrorCode.Timeout,
        `Request timed out after ${timeoutMs}ms`
      ));
    }, timeoutMs);
  });
  
  return Promise.race([
    client.request(request, schema),
    timeoutPromise
  ]) as Promise&lt;T&gt;;
}</code></pre>

          <h2>Error Logging Best Practices</h2>

          <div class="code-tabs">
            <ul class="nav nav-tabs" role="tablist">
              <li class="nav-item" role="presentation">
                <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#log-structured" type="button" role="tab">Structured Logging</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#log-aggregation" type="button" role="tab">Error Aggregation</button>
              </li>
            </ul>
            <div class="tab-content">
              <div class="tab-pane fade show active" id="log-structured" role="tabpanel">
                <pre><code class="language-typescript">import winston from 'winston';

const logger = winston.createLogger({
  level: 'info',
  format: winston.format.json(),
  transports: [
    new winston.transports.File({ filename: 'error.log', level: 'error' }),
    new winston.transports.File({ filename: 'combined.log' })
  ]
});

// Log errors with context
function logError(error: Error, context: any) {
  logger.error('Operation failed', {
    error: {
      name: error.name,
      message: error.message,
      stack: error.stack,
      code: (error as any).code
    },
    context: sanitizeForLogging(context),
    timestamp: new Date().toISOString(),
    requestId: context.requestId,
    userId: context.userId
  });
}</code></pre>
              </div>
              <div class="tab-pane fade" id="log-aggregation" role="tabpanel">
                <pre><code class="language-typescript">// Track error patterns
class ErrorTracker {
  private errorCounts = new Map&lt;string, number&gt;();
  private errorExamples = new Map&lt;string, Error[]&gt;();
  
  track(error: Error, maxExamples = 5) {
    const key = `${error.name}:${error.message}`;
    
    // Increment count
    this.errorCounts.set(key, (this.errorCounts.get(key) || 0) + 1);
    
    // Store example
    if (!this.errorExamples.has(key)) {
      this.errorExamples.set(key, []);
    }
    const examples = this.errorExamples.get(key)!;
    if (examples.length < maxExamples) {
      examples.push(error);
    }
  }
  
  getTopErrors(limit = 10) {
    return Array.from(this.errorCounts.entries())
      .sort((a, b) => b[1] - a[1])
      .slice(0, limit)
      .map(([key, count]) => ({
        error: key,
        count,
        examples: this.errorExamples.get(key)
      }));
  }
}</code></pre>
              </div>
            </div>
          </div>

          <h2>User-Friendly Error Messages</h2>

          <h3>Transform Technical Errors:</h3>
          <pre><code class="language-typescript">function getUserFriendlyError(error: Error): string {
  // Map technical errors to user-friendly messages
  const errorMessages: Record&lt;string, string&gt; = {
    'ENOENT': 'The requested file could not be found',
    'EACCES': 'Permission denied to access this resource',
    'ETIMEDOUT': 'The operation timed out. Please try again',
    'ECONNREFUSED': 'Unable to connect to the service',
    'ENOTFOUND': 'The requested resource does not exist'
  };
  
  const code = (error as any).code;
  if (code && errorMessages[code]) {
    return errorMessages[code];
  }
  
  // Check for common patterns
  if (error.message.includes('not found')) {
    return 'The requested item was not found';
  }
  
  if (error.message.includes('unauthorized') || error.message.includes('forbidden')) {
    return 'You do not have permission to perform this action';
  }
  
  // Generic fallback
  return 'An unexpected error occurred. Please try again';
}</code></pre>

          <h2>Error Handling Patterns</h2>

          <div class="code-tabs">
            <ul class="nav nav-tabs" role="tablist">
              <li class="nav-item" role="presentation">
                <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#error-pattern-fail" type="button" role="tab">Fail Fast vs Graceful</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#error-pattern-circuit" type="button" role="tab">Circuit Breaker</button>
              </li>
            </ul>
            <div class="tab-content">
              <div class="tab-pane fade show active" id="error-pattern-fail" role="tabpanel">
                <pre><code class="language-typescript">// Fail fast (for critical operations)
async function criticalOperation() {
  const config = await loadConfig();
  if (!config.apiKey) {
    throw new Error('API key is required');  // Cannot proceed
  }
  return await performOperation(config);
}

// Graceful degradation (for optional features)
async function enhancedSearch(query: string) {
  let results = await basicSearch(query);
  
  try {
    // Try to enhance results with AI
    const enhanced = await aiEnhance(results);
    return enhanced;
  } catch (error) {
    console.warn('AI enhancement failed, using basic results', error);
    return results;  // Fall back to basic results
  }
}</code></pre>
              </div>
              <div class="tab-pane fade" id="error-pattern-circuit" role="tabpanel">
                <pre><code class="language-typescript">class CircuitBreaker {
  private failures = 0;
  private lastFailure: number | null = null;
  private state: 'closed' | 'open' | 'half-open' = 'closed';
  
  constructor(
    private threshold = 5,
    private resetTimeout = 60000
  ) {}
  
  async execute&lt;T&gt;(operation: () => Promise&lt;T&gt;): Promise&lt;T&gt; {
    if (this.state === 'open') {
      if (Date.now() - this.lastFailure! > this.resetTimeout) {
        this.state = 'half-open';
      } else {
        throw new Error('Circuit breaker is open');
      }
    }
    
    try {
      const result = await operation();
      
      if (this.state === 'half-open') {
        this.reset();
      }
      
      return result;
    } catch (error) {
      this.failures++;
      this.lastFailure = Date.now();
      
      if (this.failures >= this.threshold) {
        this.state = 'open';
      }
      
      throw error;
    }
  }
  
  reset() {
    this.failures = 0;
    this.lastFailure = null;
    this.state = 'closed';
  }
}</code></pre>
              </div>
            </div>
          </div>

          <h2>Testing Error Conditions</h2>

          <h3>Unit Testing Errors:</h3>
          <pre><code class="language-typescript">describe('Error Handling', () => {
  test('returns error for invalid parameters', async () => {
    const result = await client.request({
      method: 'tools/call',
      params: {
        name: 'search',
        arguments: {}  // Missing required 'query'
      }
    }, CallToolResultSchema);
    
    expect(result.isError).toBe(true);
    expect(result.content[0].text).toContain('query is required');
  });
  
  test('throws on method not found', async () => {
    await expect(
      client.request({
        method: 'tools/call',
        params: {
          name: 'nonexistent',
          arguments: {}
        }
      }, CallToolResultSchema)
    ).rejects.toMatchObject({
      code: -32601,
      message: expect.stringContaining('not found')
    });
  });
  
  test('cleans up resources on error', async () => {
    const spy = jest.spyOn(resource, 'close');
    
    await expect(
      executeWithResources()
    ).rejects.toThrow();
    
    expect(spy).toHaveBeenCalled();
  });
});</code></pre>

          <h2>Error Handling Checklist</h2>

          <div class="row">
            <div class="col-md-6">
              <div class="callout bg-gradient-green">
                <strong>‚úÖ Server Checklist:</strong>
                <ul>
                  <li>‚òê Use standard JSON-RPC error codes</li>
                  <li>‚òê Validate all inputs and return InvalidParams</li>
                  <li>‚òê Log errors with context</li>
                  <li>‚òê Clean up resources in finally blocks</li>
                  <li>‚òê Don't leak sensitive info in errors</li>
                  <li>‚òê Provide meaningful error messages</li>
                  <li>‚òê Handle timeouts appropriately</li>
                  <li>‚òê Distinguish between retryable/non-retryable</li>
                  <li>‚òê Test all error paths</li>
                </ul>
              </div>
            </div>
            <div class="col-md-6">
              <div class="callout bg-gradient-green">
                <strong>‚úÖ Client Checklist:</strong>
                <ul>
                  <li>‚òê Handle all JSON-RPC error codes</li>
                  <li>‚òê Implement retry logic for transient errors</li>
                  <li>‚òê Set appropriate timeouts</li>
                  <li>‚òê Provide user-friendly error messages</li>
                  <li>‚òê Log errors for debugging</li>
                  <li>‚òê Gracefully degrade when possible</li>
                  <li>‚òê Handle connection failures</li>
                  <li>‚òê Clean up on errors</li>
                  <li>‚òê Test error scenarios</li>
                </ul>
              </div>
            </div>
          </div>

        </section>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê PERFORMANCE ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <section id="performance" role="article">
          <h1>‚ö° Performance</h1>
          <span class="badge">performance</span> <span class="badge">optimization</span> <span class="badge">efficiency</span>

          <h2>Performance Overview</h2>
          <p>
            MCP performance affects <strong>user experience</strong>, <strong>resource costs</strong>, and 
            <strong>scalability</strong>. Optimizing your MCP implementation ensures responsive interactions, 
            efficient resource usage, and the ability to handle growing workloads.
          </p>

          <div class="callout">
            <strong>üéØ Performance Goals:</strong> Low latency for interactive operations, efficient resource usage, 
            high throughput for bulk operations, and graceful scaling under load.
          </div>

          <h2>Performance Metrics</h2>
          <table class="table table-striped">
            <thead>
              <tr>
                <th>Metric</th>
                <th>Description</th>
                <th>Target</th>
                <th>How to Measure</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>Latency (P50)</strong></td>
                <td>Median response time</td>
                <td>&lt; 100ms</td>
                <td>Measure time from request to response</td>
              </tr>
              <tr>
                <td><strong>Latency (P95)</strong></td>
                <td>95th percentile response time</td>
                <td>&lt; 500ms</td>
                <td>Track 95% of requests complete within</td>
              </tr>
              <tr>
                <td><strong>Latency (P99)</strong></td>
                <td>99th percentile response time</td>
                <td>&lt; 1000ms</td>
                <td>Track 99% of requests complete within</td>
              </tr>
              <tr>
                <td><strong>Throughput</strong></td>
                <td>Requests per second</td>
                <td>Varies by use case</td>
                <td>Count requests over time window</td>
              </tr>
              <tr>
                <td><strong>Memory Usage</strong></td>
                <td>RAM consumption</td>
                <td>&lt; 512MB for typical server</td>
                <td>Monitor process.memoryUsage()</td>
              </tr>
              <tr>
                <td><strong>CPU Usage</strong></td>
                <td>Processor utilization</td>
                <td>&lt; 70% under normal load</td>
                <td>Monitor OS process stats</td>
              </tr>
              <tr>
                <td><strong>Error Rate</strong></td>
                <td>Percentage of failed requests</td>
                <td>&lt; 1%</td>
                <td>Track errors / total requests</td>
              </tr>
            </tbody>
          </table>

          <h2>Caching Strategies</h2>

          <div class="code-tabs">
            <ul class="nav nav-tabs" role="tablist">
              <li class="nav-item" role="presentation">
                <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#cache-inmemory" type="button" role="tab">In-Memory Caching</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#cache-conditional" type="button" role="tab">Conditional Caching</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#cache-invalidation" type="button" role="tab">Cache Invalidation</button>
              </li>
            </ul>
            <div class="tab-content">
              <div class="tab-pane fade show active" id="cache-inmemory" role="tabpanel">
                <pre><code class="language-typescript">import { LRUCache } from 'lru-cache';

// Simple LRU cache
const cache = new LRUCache&lt;string, any&gt;({
  max: 500,  // Maximum items
  maxAge: 1000 * 60 * 5,  // 5 minute TTL
  updateAgeOnGet: false
});

// Cache resource reads
server.setRequestHandler(ReadResourceRequestSchema, async (request) => {
  const uri = request.params.uri;
  const cacheKey = `resource:${uri}`;
  
  // Check cache first
  const cached = cache.get(cacheKey);
  if (cached) {
    console.log('Cache hit:', uri);
    return cached;
  }
  
  // Cache miss - fetch data
  console.log('Cache miss:', uri);
  const result = await fetchResource(uri);
  
  // Store in cache
  cache.set(cacheKey, result);
  
  return result;
});</code></pre>
              </div>
              <div class="tab-pane fade" id="cache-conditional" role="tabpanel">
                <pre><code class="language-typescript">// Cache based on resource type
function shouldCache(uri: string, content: any): boolean {
  // Don't cache dynamic resources
  if (uri.includes('?') || uri.includes('dynamic')) {
    return false;
  }
  
  // Don't cache large responses
  if (JSON.stringify(content).length > 1024 * 100) {  // 100KB
    return false;
  }
  
  // Cache static resources
  return true;
}

// Usage
if (shouldCache(uri, result)) {
  cache.set(cacheKey, result, { ttl: 300000 });  // 5 min TTL
}</code></pre>
              </div>
              <div class="tab-pane fade" id="cache-invalidation" role="tabpanel">
                <pre><code class="language-typescript">// Invalidate cache when data changes
server.setRequestHandler(CallToolRequestSchema, async (request) => {
  if (request.params.name === 'update_file') {
    const path = request.params.arguments?.path;
    
    // Perform update
    const result = await updateFile(path, content);
    
    // Invalidate related cache entries
    cache.delete(`resource:file://${path}`);
    
    // Notify subscribers
    await server.notification({
      method: 'notifications/resources/updated',
      params: { uri: `file://${path}` }
    });
    
    return result;
  }
});</code></pre>
              </div>
            </div>
          </div>

          <h2>Lazy Loading & Pagination</h2>

          <h3>Paginated Resource Listing:</h3>
          <pre><code class="language-typescript">// List resources with pagination
server.setRequestHandler(ListResourcesRequestSchema, async (request) => {
  const cursor = request.params.cursor;
  const limit = 50;  // Page size
  
  // Parse cursor (could be offset, timestamp, etc.)
  const offset = cursor ? parseInt(cursor) : 0;
  
  // Fetch only one page
  const allResources = await getAllResources();
  const page = allResources.slice(offset, offset + limit);
  
  // Create next cursor
  const hasMore = offset + limit < allResources.length;
  const nextCursor = hasMore ? String(offset + limit) : undefined;
  
  return {
    resources: page.map(r => ({
      uri: r.uri,
      name: r.name,
      mimeType: r.mimeType,
      description: r.description
      // Don't include full content here!
    })),
    nextCursor
  };
});</code></pre>

          <h3>Streaming Large Responses:</h3>
          <pre><code class="language-typescript">// Stream large file content in chunks
async function* streamFileContent(path: string) {
  const stream = fs.createReadStream(path, {
    highWaterMark: 64 * 1024  // 64KB chunks
  });
  
  for await (const chunk of stream) {
    yield {
      type: 'text',
      text: chunk.toString('utf-8')
    };
  }
}

// Usage in resource read
server.setRequestHandler(ReadResourceRequestSchema, async (request) => {
  const uri = request.params.uri;
  const path = uri.replace('file://', '');
  
  const stats = await fs.promises.stat(path);
  
  // For large files, use streaming
  if (stats.size > 1024 * 1024) {  // > 1MB
    return {
      contents: streamFileContent(path)
    };
  }
  
  // For small files, read entire content
  const content = await fs.promises.readFile(path, 'utf-8');
  return {
    contents: [{
      uri,
      mimeType: 'text/plain',
      text: content
    }]
  };
});</code></pre>

          <h2>Connection Pooling</h2>

          <h3>Database Connection Pool:</h3>
          <pre><code class="language-typescript">import { Pool } from 'pg';

// Create connection pool (reuse connections)
const pool = new Pool({
  host: 'localhost',
  database: 'mydb',
  max: 20,  // Maximum connections
  idleTimeoutMillis: 30000,  // Close idle connections after 30s
  connectionTimeoutMillis: 2000  // Timeout acquiring connection
});

// Use pooled connections
async function queryDatabase(sql: string, params: any[]) {
  // Automatically acquires from pool
  const result = await pool.query(sql, params);
  // Connection automatically returned to pool
  return result.rows;
}

// Cleanup on shutdown
process.on('SIGTERM', async () => {
  await pool.end();
});</code></pre>

          <h3>HTTP Connection Keep-Alive:</h3>
          <pre><code class="language-typescript">import http from 'http';
import https from 'https';

// Create HTTP agent with connection pooling
const httpAgent = new http.Agent({
  keepAlive: true,
  maxSockets: 50,  // Max concurrent connections
  maxFreeSockets: 10,  // Keep 10 idle connections
  timeout: 60000  // Socket timeout
});

const httpsAgent = new https.Agent({
  keepAlive: true,
  maxSockets: 50
});

// Use with fetch
async function fetchWithPooling(url: string) {
  const agent = url.startsWith('https') ? httpsAgent : httpAgent;
  return fetch(url, { agent });
}</code></pre>

          <h2>Rate Limiting & Throttling</h2>

          <div class="code-tabs">
            <ul class="nav nav-tabs" role="tablist">
              <li class="nav-item" role="presentation">
                <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#throttle-request" type="button" role="tab">Request Throttling</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#throttle-debounce" type="button" role="tab">Debouncing</button>
              </li>
            </ul>
            <div class="tab-content">
              <div class="tab-pane fade show active" id="throttle-request" role="tabpanel">
                <pre><code class="language-typescript">import pLimit from 'p-limit';

// Limit concurrent operations
const limit = pLimit(5);  // Max 5 concurrent

// Throttled batch processing
async function processBatch(items: any[]) {
  const results = await Promise.all(
    items.map(item => 
      limit(() => processItem(item))
    )
  );
  return results;
}</code></pre>
              </div>
              <div class="tab-pane fade" id="throttle-debounce" role="tabpanel">
                <pre><code class="language-typescript">// Debounce expensive operations
function debounce&lt;T extends (...args: any[]) => any&gt;(
  func: T,
  wait: number
): (...args: Parameters&lt;T&gt;) => void {
  let timeout: NodeJS.Timeout | null = null;
  
  return function(...args: Parameters&lt;T&gt;) {
    if (timeout) clearTimeout(timeout);
    
    timeout = setTimeout(() => {
      func(...args);
    }, wait);
  };
}

// Usage: Debounce resource indexing
const debouncedReindex = debounce(async () => {
  await rebuildResourceIndex();
}, 5000);  // Wait 5s after last change

// Call multiple times, but only executes once
debouncedReindex();
debouncedReindex();
debouncedReindex();  // Only this final call will trigger after 5s</code></pre>
              </div>
            </div>
          </div>

          <h2>Memory Optimization</h2>

          <div class="code-tabs">
            <ul class="nav nav-tabs" role="tablist">
              <li class="nav-item" role="presentation">
                <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#memory-leaks" type="button" role="tab">Avoid Memory Leaks</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#memory-stream" type="button" role="tab">Stream Large Data</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#memory-monitor" type="button" role="tab">Monitor Usage</button>
              </li>
            </ul>
            <div class="tab-content">
              <div class="tab-pane fade show active" id="memory-leaks" role="tabpanel">
                <pre><code class="language-typescript">// BAD: Memory leak
const cache = new Map();
server.setRequestHandler(ListToolsRequestSchema, async () => {
  const id = generateId();
  cache.set(id, someData);  // Never cleaned up!
  return { tools: [...] };
});

// GOOD: Cleanup with TTL
const cache = new LRUCache({
  max: 1000,
  ttl: 1000 * 60 * 5  // Auto-expire after 5 minutes
});

// GOOD: Manual cleanup
const activeRequests = new Map();
async function handleRequest(id: string) {
  activeRequests.set(id, data);
  try {
    return await process(data);
  } finally {
    activeRequests.delete(id);  // Always cleanup
  }
}</code></pre>
              </div>
              <div class="tab-pane fade" id="memory-stream" role="tabpanel">
                <pre><code class="language-typescript">// BAD: Load entire file into memory
async function processFileBad(path: string) {
  const content = await fs.promises.readFile(path, 'utf-8');
  return process(content);  // Entire file in memory!
}

// GOOD: Stream processing
async function processFileGood(path: string) {
  const stream = fs.createReadStream(path);
  const processor = stream.pipe(processStream());
  
  return new Promise((resolve, reject) => {
    processor.on('finish', resolve);
    processor.on('error', reject);
  });
}</code></pre>
              </div>
              <div class="tab-pane fade" id="memory-monitor" role="tabpanel">
                <pre><code class="language-typescript">// Log memory usage periodically
setInterval(() => {
  const usage = process.memoryUsage();
  console.log('Memory usage:', {
    rss: `${Math.round(usage.rss / 1024 / 1024)} MB`,
    heapTotal: `${Math.round(usage.heapTotal / 1024 / 1024)} MB`,
    heapUsed: `${Math.round(usage.heapUsed / 1024 / 1024)} MB`,
    external: `${Math.round(usage.external / 1024 / 1024)} MB`
  });
  
  // Alert if memory is high
  const heapUsedMB = usage.heapUsed / 1024 / 1024;
  if (heapUsedMB > 400) {
    console.warn('High memory usage detected!');
  }
}, 60000);  // Every minute</code></pre>
              </div>
            </div>
          </div>

          <h2>Async Operations & Concurrency</h2>

          <h3>Use Async/Await Properly:</h3>
          <pre><code class="language-typescript">// BAD: Sequential execution (slow)
async function processItemsSequential(items: any[]) {
  const results = [];
  for (const item of items) {
    const result = await processItem(item);  // Waits for each!
    results.push(result);
  }
  return results;
}

// GOOD: Parallel execution (fast)
async function processItemsParallel(items: any[]) {
  const promises = items.map(item => processItem(item));
  return await Promise.all(promises);
}

// BETTER: Controlled concurrency
async function processItemsControlled(items: any[], concurrency = 10) {
  const results = [];
  for (let i = 0; i < items.length; i += concurrency) {
    const batch = items.slice(i, i + concurrency);
    const batchResults = await Promise.all(
      batch.map(item => processItem(item))
    );
    results.push(...batchResults);
  }
  return results;
}</code></pre>

          <h2>Monitoring & Profiling</h2>

          <h3>Performance Tracking:</h3>
          <pre><code class="language-typescript">class PerformanceTracker {
  private metrics = new Map&lt;string, number[]&gt;();
  
  async measure&lt;T&gt;(operation: string, fn: () => Promise&lt;T&gt;): Promise&lt;T&gt; {
    const start = Date.now();
    try {
      return await fn();
    } finally {
      const duration = Date.now() - start;
      
      if (!this.metrics.has(operation)) {
        this.metrics.set(operation, []);
      }
      this.metrics.get(operation)!.push(duration);
      
      // Keep only last 1000 measurements
      const measurements = this.metrics.get(operation)!;
      if (measurements.length > 1000) {
        measurements.shift();
      }
    }
  }
  
  getStats(operation: string) {
    const measurements = this.metrics.get(operation) || [];
    if (measurements.length === 0) return null;
    
    const sorted = [...measurements].sort((a, b) => a - b);
    const count = sorted.length;
    
    return {
      count,
      min: sorted[0],
      max: sorted[count - 1],
      mean: sorted.reduce((a, b) => a + b, 0) / count,
      p50: sorted[Math.floor(count * 0.5)],
      p95: sorted[Math.floor(count * 0.95)],
      p99: sorted[Math.floor(count * 0.99)]
    };
  }
}

// Usage
const tracker = new PerformanceTracker();

server.setRequestHandler(CallToolRequestSchema, async (request) => {
  return await tracker.measure('tool:' + request.params.name, async () => {
    return await executeTool(request.params.name, request.params.arguments);
  });
});</code></pre>

          <h2>Performance Checklist</h2>

          <div class="row">
            <div class="col-md-6">
              <div class="callout bg-gradient-green">
                <strong>‚úÖ Optimization Checklist:</strong>
                <ul>
                  <li>‚òê Cache frequently accessed data</li>
                  <li>‚òê Use connection pooling</li>
                  <li>‚òê Implement pagination for large lists</li>
                  <li>‚òê Stream large files/data</li>
                  <li>‚òê Limit concurrent operations</li>
                  <li>‚òê Use async operations properly</li>
                  <li>‚òê Avoid memory leaks</li>
                  <li>‚òê Set appropriate timeouts</li>
                  <li>‚òê Monitor key metrics</li>
                  <li>‚òê Profile hot paths</li>
                </ul>
              </div>
            </div>
            <div class="col-md-6">
              <div class="callout bg-gradient-red">
                <strong>‚ö†Ô∏è Common Pitfalls:</strong>
                <ul>
                  <li>‚ùå Loading all data at once</li>
                  <li>‚ùå Sequential instead of parallel</li>
                  <li>‚ùå No rate limiting</li>
                  <li>‚ùå Unbounded caches</li>
                  <li>‚ùå Blocking operations</li>
                  <li>‚ùå Poor database queries (N+1)</li>
                  <li>‚ùå Not closing connections</li>
                  <li>‚ùå Synchronous file I/O</li>
                  <li>‚ùå No monitoring</li>
                  <li>‚ùå Premature optimization</li>
                </ul>
              </div>
            </div>
          </div>

          <h2>Performance Testing</h2>

          <h3>Load Testing Example:</h3>
          <pre><code class="language-typescript">// Simple load test
async function loadTest() {
  const concurrency = 10;
  const duration = 60000;  // 1 minute
  const startTime = Date.now();
  
  let totalRequests = 0;
  let errorCount = 0;
  const latencies: number[] = [];
  
  async function worker() {
    while (Date.now() - startTime < duration) {
      const requestStart = Date.now();
      try {
        await client.request({
          method: 'tools/list'
        }, ListToolsResultSchema);
        
        totalRequests++;
        latencies.push(Date.now() - requestStart);
      } catch (error) {
        errorCount++;
      }
    }
  }
  
  // Run workers concurrently
  const workers = Array(concurrency).fill(null).map(() => worker());
  await Promise.all(workers);
  
  // Calculate stats
  const sorted = latencies.sort((a, b) => a - b);
  console.log({
    totalRequests,
    errorCount,
    errorRate: (errorCount / totalRequests * 100).toFixed(2) + '%',
    throughput: (totalRequests / (duration / 1000)).toFixed(2) + ' req/s',
    latencyP50: sorted[Math.floor(sorted.length * 0.5)] + 'ms',
    latencyP95: sorted[Math.floor(sorted.length * 0.95)] + 'ms',
    latencyP99: sorted[Math.floor(sorted.length * 0.99)] + 'ms'
  });
}</code></pre>

        </section>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê USE CASES & EXAMPLES ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <section id="use-cases" role="article">
          <h1>üéØ Use Cases &amp; Examples</h1>
          <span class="badge">examples</span> <span class="badge">use cases</span> <span class="badge">scenarios</span>

          <h2>Overview</h2>
          <p>
            MCP enables a wide range of use cases across different domains and industries. This section explores 
            practical applications, real-world scenarios, and example implementations that demonstrate the power 
            and flexibility of the Model Context Protocol.
          </p>

          <div class="callout">
            <strong>üéØ Key Insight:</strong> MCP shines when connecting AI to specialized tools, data sources, 
            and workflows that would otherwise require custom integrations for each AI application.
          </div>

          <h2>Primary Use Case Categories</h2>
          <div class="mermaid">
graph TB
    subgraph "MCP Use Cases"
        A[MCP Protocol]
        
        B[Development Tools]
        C[Data Access]
        D[Enterprise Integration]
        E[AI Assistants]
        F[Automation]
        
        A --> B
        A --> C
        A --> D
        A --> E
        A --> F
        
        B --> B1[Code Analysis]
        B --> B2[Build Systems]
        B --> B3[Testing Frameworks]
        
        C --> C1[Databases]
        C --> C2[APIs]
        C --> C3[File Systems]
        
        D --> D1[CRM Systems]
        D --> D2[Business Apps]
        D --> D3[Internal Tools]
        
        E --> E1[Customer Support]
        E --> E2[Personal Productivity]
        E --> E3[Content Creation]
        
        F --> F1[Workflows]
        F --> F2[Scheduled Tasks]
        F --> F3[Event Processing]
    end
    
    style A fill:#e3f2fd,stroke:#1976d2,stroke-width:3px
    style B fill:#fff3e0,stroke:#f57c00,stroke-width:2px
    style C fill:#e8f5e9,stroke:#388e3c,stroke-width:2px
    style D fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px
    style E fill:#fce4ec,stroke:#c2185b,stroke-width:2px
    style F fill:#e0f2f1,stroke:#00897b,stroke-width:2px
          </div>

          <h2>Common Use Cases</h2>

          <h3>1. Development & DevOps</h3>
          <table class="table table-striped">
            <thead>
              <tr>
                <th>Use Case</th>
                <th>Description</th>
                <th>Example Tools</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>Code Analysis</strong></td>
                <td>Analyze codebases, find patterns, suggest improvements</td>
                <td>AST parsing, linting, code search</td>
              </tr>
              <tr>
                <td><strong>Git Operations</strong></td>
                <td>Commit history, branch management, code review</td>
                <td>git log, diff, blame, PR creation</td>
              </tr>
              <tr>
                <td><strong>Build & Deploy</strong></td>
                <td>Trigger builds, monitor CI/CD, deploy applications</td>
                <td>GitHub Actions, Jenkins, deployment scripts</td>
              </tr>
              <tr>
                <td><strong>Database Management</strong></td>
                <td>Query databases, schema exploration, migrations</td>
                <td>SQL execution, schema inspection, data export</td>
              </tr>
              <tr>
                <td><strong>Log Analysis</strong></td>
                <td>Search logs, identify errors, analyze patterns</td>
                <td>Log parsing, filtering, aggregation</td>
              </tr>
            </tbody>
          </table>

          <h3>2. Data & Knowledge Access</h3>
          <table class="table table-striped">
            <thead>
              <tr>
                <th>Use Case</th>
                <th>Description</th>
                <th>Example Resources</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>Documentation</strong></td>
                <td>Access internal wikis, API docs, knowledge bases</td>
                <td>Markdown files, Confluence, Notion</td>
              </tr>
              <tr>
                <td><strong>File Systems</strong></td>
                <td>Read/write files, search directories, file operations</td>
                <td>Local files, network shares, cloud storage</td>
              </tr>
              <tr>
                <td><strong>Web Content</strong></td>
                <td>Fetch web pages, parse HTML, extract data</td>
                <td>HTTP fetching, web scraping, RSS feeds</td>
              </tr>
              <tr>
                <td><strong>APIs</strong></td>
                <td>Access external services and data sources</td>
                <td>REST APIs, GraphQL, third-party services</td>
              </tr>
              <tr>
                <td><strong>Search</strong></td>
                <td>Full-text search across various data sources</td>
                <td>Elasticsearch, vector databases, grep</td>
              </tr>
            </tbody>
          </table>

          <h3>3. Business & Enterprise</h3>
          <table class="table table-striped">
            <thead>
              <tr>
                <th>Use Case</th>
                <th>Description</th>
                <th>Example Integrations</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>CRM Integration</strong></td>
                <td>Access customer data, update records, track interactions</td>
                <td>Salesforce, HubSpot, Dynamics</td>
              </tr>
              <tr>
                <td><strong>Project Management</strong></td>
                <td>Create tasks, update status, track progress</td>
                <td>Jira, Asana, Linear</td>
              </tr>
              <tr>
                <td><strong>Communication</strong></td>
                <td>Send messages, notifications, schedule meetings</td>
                <td>Slack, Teams, email</td>
              </tr>
              <tr>
                <td><strong>Analytics</strong></td>
                <td>Access business metrics, generate reports</td>
                <td>Tableau, Power BI, Google Analytics</td>
              </tr>
              <tr>
                <td><strong>Document Management</strong></td>
                <td>Search, organize, and process documents</td>
                <td>SharePoint, Google Drive, Dropbox</td>
              </tr>
            </tbody>
          </table>

          <h3>4. AI Assistant Applications</h3>
          <table class="table table-striped">
            <thead>
              <tr>
                <th>Use Case</th>
                <th>Description</th>
                <th>Capabilities</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>Customer Support</strong></td>
                <td>AI agents that access support tickets, knowledge base, CRM</td>
                <td>Ticket lookup, KB search, customer history</td>
              </tr>
              <tr>
                <td><strong>Personal Assistant</strong></td>
                <td>Task management, scheduling, email, reminders</td>
                <td>Calendar, email, to-do lists</td>
              </tr>
              <tr>
                <td><strong>Research Assistant</strong></td>
                <td>Literature search, citation management, summarization</td>
                <td>Paper databases, PDF parsing, citations</td>
              </tr>
              <tr>
                <td><strong>Code Assistant</strong></td>
                <td>Code generation, debugging, refactoring guidance</td>
                <td>Code analysis, testing, documentation</td>
              </tr>
              <tr>
                <td><strong>Content Creation</strong></td>
                <td>Writing assistance with access to style guides, templates</td>
                <td>Template library, brand guidelines, SEO tools</td>
              </tr>
            </tbody>
          </table>

          <h2>Industry-Specific Scenarios</h2>

          <div class="row">
            <div class="col-md-6">
              <h3>Financial Services</h3>
              <ul>
                <li><strong>Trading Analysis:</strong> Access market data, execute trades, analyze portfolios</li>
                <li><strong>Risk Assessment:</strong> Query risk databases, run calculations, generate reports</li>
                <li><strong>Compliance:</strong> Check regulations, audit logs, flag violations</li>
                <li><strong>Customer Onboarding:</strong> KYC checks, document verification, account setup</li>
              </ul>

              <h3>Healthcare</h3>
              <ul>
                <li><strong>Patient Records:</strong> EHR access, medical history, test results</li>
                <li><strong>Clinical Decision Support:</strong> Drug interactions, treatment guidelines</li>
                <li><strong>Appointment Scheduling:</strong> Calendar integration, reminders</li>
                <li><strong>Research:</strong> Medical literature search, trial data</li>
              </ul>

              <h3>E-commerce</h3>
              <ul>
                <li><strong>Inventory Management:</strong> Stock levels, reorder triggers</li>
                <li><strong>Order Processing:</strong> Order lookup, status updates, fulfillment</li>
                <li><strong>Customer Service:</strong> Order history, return processing</li>
                <li><strong>Recommendations:</strong> Product catalog, user preferences</li>
              </ul>
            </div>

            <div class="col-md-6">
              <h3>Education</h3>
              <ul>
                <li><strong>Learning Management:</strong> Course content, assignments, grades</li>
                <li><strong>Tutoring:</strong> Adaptive learning, progress tracking</li>
                <li><strong>Research:</strong> Library access, citation tools, plagiarism detection</li>
                <li><strong>Administration:</strong> Student records, enrollment, attendance</li>
              </ul>

              <h3>Legal</h3>
              <ul>
                <li><strong>Case Research:</strong> Legal databases, precedent search</li>
                <li><strong>Document Review:</strong> Contract analysis, clause extraction</li>
                <li><strong>Compliance:</strong> Regulatory requirements, filing deadlines</li>
                <li><strong>Client Management:</strong> Case files, billing, communication</li>
              </ul>

              <h3>Manufacturing</h3>
              <ul>
                <li><strong>Production Monitoring:</strong> Equipment status, output metrics</li>
                <li><strong>Quality Control:</strong> Defect tracking, inspection data</li>
                <li><strong>Supply Chain:</strong> Supplier data, logistics tracking</li>
                <li><strong>Maintenance:</strong> Equipment history, maintenance schedules</li>
              </ul>
            </div>
          </div>

          <h2>Integration Patterns</h2>

          <h3>Pattern 1: AI-Powered IDE Extension</h3>
          <pre><code class="language-typescript">// IDE extension that provides AI coding assistance via MCP
class CodeAssistantExtension {
  private mcpServers: Map&lt;string, MCPClient&gt;;
  
  async initialize() {
    // Connect to multiple MCP servers
    this.mcpServers.set('git', await connectToServer('git-mcp-server'));
    this.mcpServers.set('docs', await connectToServer('docs-mcp-server'));
    this.mcpServers.set('test', await connectToServer('test-mcp-server'));
  }
  
  async handleUserRequest(request: string) {
    // AI determines which tools to use
    const plan = await ai.plan(request, {
      availableTools: await this.getAllTools()
    });
    
    // Execute tools via MCP
    for (const step of plan.steps) {
      const server = this.mcpServers.get(step.serverName);
      const result = await server.callTool(step.toolName, step.arguments);
      // Process result...
    }
  }
}</code></pre>

          <h3>Pattern 2: Enterprise AI Agent</h3>
          <pre><code class="language-typescript">// Agent with access to multiple enterprise systems via MCP
class EnterpriseAIAgent {
  async handleCustomerQuery(customerId: string, query: string) {
    // Access CRM via MCP
    const customerData = await mcpCRM.request({
      method: 'resources/read',
      params: { uri: `crm://customers/${customerId}` }
    });
    
    // Access support tickets via MCP
    const tickets = await mcpSupport.callTool('search_tickets', {
      customerId,
      status: 'open'
    });
    
    // Access knowledge base via MCP
    const kbArticles = await mcpKB.callTool('search', {
      query,
      limit: 5
    });
    
    // Generate response with full context
    return await ai.generateResponse({
      query,
      context: { customerData, tickets, kbArticles }
    });
  }
}</code></pre>

          <h3>Pattern 3: Workflow Automation</h3>
          <pre><code class="language-typescript">// Automated workflow using MCP-connected services
async function deploymentWorkflow(appName: string, version: string) {
  // 1. Run tests via test server
  const testResults = await mcpTest.callTool('run_tests', { appName });
  if (!testResults.success) {
    throw new Error('Tests failed');
  }
  
  // 2. Build via CI server
  await mcpCI.callTool('trigger_build', {
    app: appName,
    version,
    branch: 'main'
  });
  
  // 3. Deploy via deployment server
  await mcpDeploy.callTool('deploy', {
    app: appName,
    version,
    environment: 'production'
  });
  
  // 4. Notify via communication server
  await mcpSlack.callTool('send_message', {
    channel: '#deployments',
    message: `‚úÖ ${appName} v${version} deployed successfully`
  });
}</code></pre>

          <h2>Real-World Example Scenarios</h2>

          <h3>Scenario: Developer Debugging with AI</h3>
          <div class="callout bg-gradient-blue-light">
            <p><strong>Context:</strong> Developer asks AI: "Why is the user service failing in production?"</p>
            
            <p><strong>MCP servers involved:</strong></p>
            <ul>
              <li><strong>Logging Server:</strong> Access production logs</li>
              <li><strong>Metrics Server:</strong> Get service metrics and errors</li>
              <li><strong>Code Server:</strong> Analyze service code</li>
              <li><strong>Git Server:</strong> Check recent commits</li>
            </ul>
            
            <p><strong>AI workflow:</strong></p>
            <ol>
              <li>Queries logs for "user service" errors ‚Üí finds authentication failures</li>
              <li>Checks metrics ‚Üí sees spike in 401 errors starting 2 hours ago</li>
              <li>Reviews recent commits ‚Üí identifies API key rotation</li>
              <li>Reads config code ‚Üí confirms hardcoded API key</li>
              <li>Suggests fix: Update API key in environment variables</li>
            </ol>
          </div>

          <h3>Scenario: Customer Support AI Agent</h3>
          <div class="callout bg-gradient-green">
            <p><strong>Context:</strong> Customer asks: "Where is my order #12345?"</p>
            
            <p><strong>MCP servers involved:</strong></p>
            <ul>
              <li><strong>Order Server:</strong> Order management system</li>
              <li><strong>Shipping Server:</strong> Shipping provider API</li>
              <li><strong>CRM Server:</strong> Customer data</li>
            </ul>
            
            <p><strong>AI workflow:</strong></p>
            <ol>
              <li>Looks up order #12345 ‚Üí finds order details</li>
              <li>Gets shipping tracking ‚Üí retrieves courier and tracking number</li>
              <li>Queries shipping status ‚Üí "Out for delivery" </li>
              <li>Checks customer address ‚Üí confirms delivery location</li>
              <li>Responds: "Your order is out for delivery and should arrive today by 8 PM at [address]"</li>
            </ol>
          </div>

          <h3>Scenario: Content Research Assistant</h3>
          <div class="callout bg-gradient-orange">
            <p><strong>Context:</strong> Writer asks: "Find recent articles about AI in healthcare for my blog post"</p>
            
            <p><strong>MCP servers involved:</strong></p>
            <ul>
              <li><strong>Web Search Server:</strong> Search engines and crawlers</li>
              <li><strong>Document Server:</strong> Internal content library</li>
              <li><strong>Citation Server:</strong> Reference management</li>
            </ul>
            
            <p><strong>AI workflow:</strong></p>
            <ol>
              <li>Searches web for "AI healthcare 2025-2026"</li>
              <li>Filters by credible sources (journals, established publications)</li>
              <li>Extracts key points from top 10 articles</li>
              <li>Checks internal library for related content</li>
              <li>Generates summary with citations in correct format</li>
              <li>Suggests outline with key themes</li>
            </ol>
          </div>

          <h2>Value Proposition by Stakeholder</h2>

          <table class="table table-striped">
            <thead>
              <tr>
                <th>Stakeholder</th>
                <th>Pain Point</th>
                <th>MCP Solution</th>
                <th>Value</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>Developers</strong></td>
                <td>Building custom integrations for each AI tool</td>
                <td>Standard protocol for AI-tool communication</td>
                <td>Build once, use everywhere</td>
              </tr>
              <tr>
                <td><strong>IT Leaders</strong></td>
                <td>Managing many point-to-point integrations</td>
                <td>Centralized server management</td>
                <td>Reduced complexity and maintenance</td>
              </tr>
              <tr>
                <td><strong>AI Product Teams</strong></td>
                <td>Limited access to enterprise data/tools</td>
                <td>Rich ecosystem of MCP servers</td>
                <td>Enhanced AI capabilities out-of-box</td>
              </tr>
              <tr>
                <td><strong>End Users</strong></td>
                <td>AI can't access their specific tools/data</td>
                <td>AI works with their actual systems</td>
                <td>More useful and personalized AI</td>
              </tr>
              <tr>
                <td><strong>Enterprises</strong></td>
                <td>Security concerns with AI accessing data</td>
                <td>Controlled, auditable access patterns</td>
                <td>Secure AI adoption</td>
              </tr>
            </tbody>
          </table>

          <h2>Getting Started with Your Use Case</h2>

          <h3>Step 1: Identify Your Needs</h3>
          <ul>
            <li>What data sources does your AI need to access?</li>
            <li>What actions should your AI be able to perform?</li>
            <li>What workflows could be automated or enhanced?</li>
            <li>What existing systems need AI integration?</li>
          </ul>

          <h3>Step 2: Map to MCP Primitives</h3>
          <ul>
            <li><strong>Data access</strong> ‚Üí Resources</li>
            <li><strong>Actions/operations</strong> ‚Üí Tools</li>
            <li><strong>Guided workflows</strong> ‚Üí Prompts</li>
            <li><strong>AI capabilities</strong> ‚Üí Sampling</li>
          </ul>

          <h3>Step 3: Choose Implementation Path</h3>
          <ul>
            <li><strong>Use existing servers:</strong> Check if community servers exist for your needs</li>
            <li><strong>Build custom servers:</strong> Create server for proprietary systems</li>
            <li><strong>Combine approaches:</strong> Mix existing and custom servers</li>
          </ul>

          <h3>Step 4: Start Small</h3>
          <ul>
            <li>Begin with one high-value use case</li>
            <li>Implement minimal viable server</li>
            <li>Test with real users</li>
            <li>Iterate based on feedback</li>
            <li>Expand to additional use cases</li>
          </ul>

        </section>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê EXAMPLE SERVERS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <section id="example-servers" role="article">
          <h1>üì¶ Example Servers</h1>
          <span class="badge">examples</span> <span class="badge">servers</span> <span class="badge">implementations</span>

          <h2>Overview</h2>
          <p>
            This section showcases practical MCP server implementations across various domains. Each example 
            demonstrates different aspects of the protocol and provides reference implementations you can use 
            as templates for your own servers.
          </p>

          <h2>Example 1: File System Server</h2>
          <p>
            A server that provides safe, controlled access to the local file system.
          </p>

          <h3>Capabilities:</h3>
          <ul>
            <li><strong>Resources:</strong> Read files within workspace boundaries</li>
            <li><strong>Tools:</strong> Search files, list directories, read file metadata</li>
            <li><strong>Roots integration:</strong> Respects client-defined workspace boundaries</li>
          </ul>

          <h3>Implementation:</h3>
          <pre><code class="language-typescript">import { Server } from '@modelcontextprotocol/sdk/server/index.js';
import { StdioServerTransport } from '@modelcontextprotocol/sdk/server/stdio.js';
import * as fs from 'fs/promises';
import * as path from 'path';
import { glob } from 'glob';

const server = new Server({
  name: 'filesystem-server',
  version: '1.0.0'
}, {
  capabilities: {
    resources: {},
    tools: {}
  }
});

let workspaceRoots: string[] = [];

// Get roots from client during initialization
server.setRequestHandler(InitializeRequestSchema, async (request) => {
  const rootsResult = await server.request({
    method: 'roots/list'
  });
  workspaceRoots = rootsResult.roots.map(r => r.uri.replace('file://', ''));
  
  return {
    capabilities: {
      resources: {},
      tools: {}
    },
    serverInfo: {
      name: 'filesystem-server',
      version: '1.0.0'
    }
  };
});

// List available file resources
server.setRequestHandler(ListResourcesRequestSchema, async () => {
  const resources = [];
  
  for (const root of workspaceRoots) {
    const files = await glob('**/*.{ts,js,json,md}', {
      cwd: root,
      ignore: ['node_modules/**', 'dist/**']
    });
    
    for (const file of files) {
      const fullPath = path.join(root, file);
      resources.push({
        uri: `file://${fullPath}`,
        name: file,
        mimeType: getMimeType(file),
        description: `File: ${file}`
      });
    }
  }
  
  return { resources };
});

// Read file content
server.setRequestHandler(ReadResourceRequestSchema, async (request) => {
  const filePath = request.params.uri.replace('file://', '');
  
  // Security check: ensure file is within workspace
  if (!workspaceRoots.some(root => filePath.startsWith(root))) {
    throw new Error('File outside workspace boundaries');
  }
  
  const content = await fs.readFile(filePath, 'utf-8');
  
  return {
    contents: [{
      uri: request.params.uri,
      mimeType: getMimeType(filePath),
      text: content
    }]
  };
});

// Provide file operation tools
server.setRequestHandler(ListToolsRequestSchema, async () => {
  return {
    tools: [
      {
        name: 'search_files',
        description: 'Search for files by name pattern',
        inputSchema: {
          type: 'object',
          properties: {
            pattern: {
              type: 'string',
              description: 'Glob pattern (e.g., "**/*.ts")'
            },
            content: {
              type: 'string',
              description: 'Search for text within files (optional)'
            }
          },
          required: ['pattern']
        }
      },
      {
        name: 'get_file_info',
        description: 'Get file metadata',
        inputSchema: {
          type: 'object',
          properties: {
            path: {
              type: 'string',
              description: 'File path'
            }
          },
          required: ['path']
        }
      }
    ]
  };
});

// Execute tools
server.setRequestHandler(CallToolRequestSchema, async (request) => {
  const { name, arguments: args } = request.params;
  
  if (name === 'search_files') {
    const results: string[] = [];
    
    for (const root of workspaceRoots) {
      const files = await glob(args.pattern, { cwd: root });
      
      if (args.content) {
        // Search file contents
        for (const file of files) {
          const fullPath = path.join(root, file);
          const content = await fs.readFile(fullPath, 'utf-8');
          if (content.includes(args.content)) {
            results.push(fullPath);
          }
        }
      } else {
        results.push(...files.map(f => path.join(root, f)));
      }
    }
    
    return {
      content: [{
        type: 'text',
        text: `Found ${results.length} files:\n${results.join('\n')}`
      }]
    };
  }
  
  if (name === 'get_file_info') {
    const stats = await fs.stat(args.path);
    
    return {
      content: [{
        type: 'text',
        text: JSON.stringify({
          path: args.path,
          size: stats.size,
          modified: stats.mtime,
          isDirectory: stats.isDirectory(),
          isFile: stats.isFile()
        }, null, 2)
      }]
    };
  }
  
  throw new Error(`Unknown tool: ${name}`);
});

function getMimeType(filePath: string): string {
  const ext = path.extname(filePath).toLowerCase();
  const mimeTypes: Record&lt;string, string&gt; = {
    '.ts': 'text/typescript',
    '.js': 'text/javascript',
    '.json': 'application/json',
    '.md': 'text/markdown',
    '.txt': 'text/plain'
  };
  return mimeTypes[ext] || 'application/octet-stream';
}

// Start server
const transport = new StdioServerTransport();
await server.connect(transport);</code></pre>

          <h2>Example 2: Database Query Server</h2>
          <p>
            A server that provides safe database access with query capabilities.
          </p>

          <h3>Capabilities:</h3>
          <ul>
            <li><strong>Resources:</strong> Database schemas, table definitions</li>
            <li><strong>Tools:</strong> Execute read-only queries, get table info</li>
            <li><strong>Safety:</strong> Read-only mode, query validation, timeout limits</li>
          </ul>

          <h3>Implementation:</h3>
          <pre><code class="language-typescript">import { Server } from '@modelcontextprotocol/sdk/server/index.js';
import { Pool } from 'pg';

const server = new Server({
  name: 'database-server',
  version: '1.0.0'
}, {
  capabilities: {
    resources: {},
    tools: {}
  }
});

const pool = new Pool({
  connectionString: process.env.DATABASE_URL,
  max: 5,
  idleTimeoutMillis: 30000
});

// List database tables as resources
server.setRequestHandler(ListResourcesRequestSchema, async () => {
  const result = await pool.query(`
    SELECT table_name, table_type
    FROM information_schema.tables
    WHERE table_schema = 'public'
    ORDER BY table_name
  `);
  
  return {
    resources: result.rows.map(row => ({
      uri: `db://schema/${row.table_name}`,
      name: row.table_name,
      mimeType: 'application/json',
      description: `${row.table_type}: ${row.table_name}`
    }))
  };
});

// Read table schema
server.setRequestHandler(ReadResourceRequestSchema, async (request) => {
  const tableName = extractTableName(request.params.uri);
  
  const result = await pool.query(`
    SELECT column_name, data_type, is_nullable, column_default
    FROM information_schema.columns
    WHERE table_schema = 'public' AND table_name = $1
    ORDER BY ordinal_position
  `, [tableName]);
  
  return {
    contents: [{
      uri: request.params.uri,
      mimeType: 'application/json',
      text: JSON.stringify({
        table: tableName,
        columns: result.rows
      }, null, 2)
    }]
  };
});

// Provide query tools
server.setRequestHandler(ListToolsRequestSchema, async () => {
  return {
    tools: [
      {
        name: 'query',
        description: 'Execute a read-only SQL query',
        inputSchema: {
          type: 'object',
          properties: {
            sql: {
              type: 'string',
              description: 'SELECT query to execute'
            },
            limit: {
              type: 'number',
              description: 'Maximum rows to return (default: 100)',
              default: 100
            }
          },
          required: ['sql']
        }
      },
      {
        name: 'table_info',
        description: 'Get detailed table information',
        inputSchema: {
          type: 'object',
          properties: {
            table: {
              type: 'string',
              description: 'Table name'
            }
          },
          required: ['table']
        }
      }
    ]
  };
});

// Execute tools
server.setRequestHandler(CallToolRequestSchema, async (request) => {
  const { name, arguments: args } = request.params;
  
  if (name === 'query') {
    // Validate query is read-only
    const sqlUpper = args.sql.trim().toUpperCase();
    if (!sqlUpper.startsWith('SELECT')) {
      return {
        content: [{
          type: 'text',
          text: 'Error: Only SELECT queries are allowed'
        }],
        isError: true
      };
    }
    
    // Add LIMIT if not present
    const limit = args.limit || 100;
    const sql = args.sql.includes('LIMIT')
      ? args.sql
      : `${args.sql} LIMIT ${limit}`;
    
    try {
      // Execute with timeout
      const result = await pool.query({
        text: sql,
        rowMode: 'array'
      });
      
      return {
        content: [{
          type: 'text',
          text: JSON.stringify({
            rows: result.rows,
            rowCount: result.rowCount,
            fields: result.fields.map(f => f.name)
          }, null, 2)
        }]
      };
    } catch (error) {
      return {
        content: [{
          type: 'text',
          text: `Query error: ${error.message}`
        }],
        isError: true
      };
    }
  }
  
  if (name === 'table_info') {
    const result = await pool.query(`
      SELECT 
        COUNT(*) as row_count,
        pg_size_pretty(pg_total_relation_size($1)) as total_size
      FROM ${args.table}
    `, [args.table]);
    
    return {
      content: [{
        type: 'text',
        text: JSON.stringify(result.rows[0], null, 2)
      }]
    };
  }
  
  throw new Error(`Unknown tool: ${name}`);
});

function extractTableName(uri: string): string {
  return uri.replace('db://schema/', '');
}

const transport = new StdioServerTransport();
await server.connect(transport);</code></pre>

          <h2>Example 3: Git Operations Server</h2>
          <p>
            A server that provides Git repository analysis and operations.
          </p>

          <h3>Capabilities:</h3>
          <ul>
            <li><strong>Resources:</strong> Commit history, branches, diffs</li>
            <li><strong>Tools:</strong> Search commits, analyze changes, blame</li>
            <li><strong>Prompts:</strong> Standard Git workflows (commit message, PR description)</li>
          </ul>

          <h3>Implementation Highlights:</h3>
          <pre><code class="language-typescript">import { Server } from '@modelcontextprotocol/sdk/server/index.js';
import simpleGit from 'simple-git';

const server = new Server({
  name: 'git-server',
  version: '1.0.0'
}, {
  capabilities: {
    resources: {},
    tools: {},
    prompts: {}
  }
});

const git = simpleGit(process.cwd());

// List Git resources
server.setRequestHandler(ListResourcesRequestSchema, async () => {
  const branches = await git.branchLocal();
  const status = await git.status();
  
  return {
    resources: [
      {
        uri: 'git://status',
        name: 'Current Status',
        mimeType: 'application/json'
      },
      ...branches.all.map(branch => ({
        uri: `git://branch/${branch}`,
        name: `Branch: ${branch}`,
        mimeType: 'application/json'
      }))
    ]
  };
});

// Git tools
server.setRequestHandler(ListToolsRequestSchema, async () => {
  return {
    tools: [
      {
        name: 'search_commits',
        description: 'Search commit history',
        inputSchema: {
          type: 'object',
          properties: {
            query: { type: 'string', description: 'Search term' },
            author: { type: 'string', description: 'Author name (optional)' },
            since: { type: 'string', description: 'Date range start (optional)' },
            maxCount: { type: 'number', description: 'Max results', default: 50 }
          },
          required: ['query']
        }
      },
      {
        name: 'get_diff',
        description: 'Get diff between commits',
        inputSchema: {
          type: 'object',
          properties: {
            from: { type: 'string', description: 'From commit/branch' },
            to: { type: 'string', description: 'To commit/branch' }
          },
          required: ['from', 'to']
        }
      },
      {
        name: 'blame',
        description: 'Show blame for a file',
        inputSchema: {
          type: 'object',
          properties: {
            file: { type: 'string', description: 'File path' }
          },
          required: ['file']
        }
      }
    ]
  };
});

// Git prompts
server.setRequestHandler(ListPromptsRequestSchema, async () => {
  return {
    prompts: [
      {
        name: 'commit_message',
        description: 'Generate a commit message from staged changes',
        arguments: []
      },
      {
        name: 'pr_description',
        description: 'Generate a PR description',
        arguments: [
          { name: 'base', description: 'Base branch', required: true },
          { name: 'head', description: 'Head branch', required: true }
        ]
      }
    ]
  };
});

server.setRequestHandler(GetPromptRequestSchema, async (request) => {
  if (request.params.name === 'commit_message') {
    const diff = await git.diff(['--staged']);
    
    return {
      messages: [{
        role: 'user',
        content: {
          type: 'text',
          text: `Generate a concise commit message for these changes:\n\n${diff}\n\nFollow conventional commits format (type: description).`
        }
      }]
    };
  }
  
  if (request.params.name === 'pr_description') {
    const { base, head } = request.params.arguments;
    const log = await git.log({ from: base, to: head });
    const diff = await git.diff([`${base}...${head}`]);
    
    return {
      messages: [{
        role: 'user',
        content: {
          type: 'text',
          text: `Generate a PR description for merging ${head} into ${base}.\n\nCommits:\n${log.all.map(c => `- ${c.message}`).join('\n')}\n\nChanges:\n${diff}`
        }
      }]
    };
  }
  
  throw new Error(`Unknown prompt: ${request.params.name}`);
});</code></pre>

          <h2>Example 4: Web Search & Scraping Server</h2>
          <p>
            A server that provides web search and content extraction capabilities.
          </p>

          <h3>Capabilities:</h3>
          <ul>
            <li><strong>Tools:</strong> Search web, fetch pages, extract content</li>
            <li><strong>Features:</strong> Rate limiting, caching, content parsing</li>
          </ul>

          <h3>Key Implementation:</h3>
          <pre><code class="language-typescript">import { Server } from '@modelcontextprotocol/sdk/server/index.js';
import axios from 'axios';
import * as cheerio from 'cheerio';
import NodeCache from 'node-cache';

const cache = new NodeCache({ stdTTL: 3600 }); // 1 hour cache

server.setRequestHandler(ListToolsRequestSchema, async () => {
  return {
    tools: [
      {
        name: 'search_web',
        description: 'Search the web using a search engine',
        inputSchema: {
          type: 'object',
          properties: {
            query: { type: 'string', description: 'Search query' },
            limit: { type: 'number', description: 'Max results', default: 10 }
          },
          required: ['query']
        }
      },
      {
        name: 'fetch_page',
        description: 'Fetch and parse a web page',
        inputSchema: {
          type: 'object',
          properties: {
            url: { type: 'string', description: 'Page URL' },
            selector: { type: 'string', description: 'CSS selector (optional)' }
          },
          required: ['url']
        }
      },
      {
        name: 'extract_content',
        description: 'Extract main content from a web page',
        inputSchema: {
          type: 'object',
          properties: {
            url: { type: 'string', description: 'Page URL' }
          },
          required: ['url']
        }
      }
    ]
  };
});

server.setRequestHandler(CallToolRequestSchema, async (request) => {
  const { name, arguments: args } = request.params;
  
  if (name === 'fetch_page') {
    // Check cache
    const cached = cache.get(args.url);
    if (cached) {
      return { content: [{ type: 'text', text: cached as string }] };
    }
    
    // Fetch page
    const response = await axios.get(args.url, {
      timeout: 10000,
      headers: {
        'User-Agent': 'MCP-WebServer/1.0'
      }
    });
    
    const $ = cheerio.load(response.data);
    
    let content;
    if (args.selector) {
      content = $(args.selector).text();
    } else {
      content = $('body').text();
    }
    
    // Clean up whitespace
    content = content.replace(/\s+/g, ' ').trim();
    
    // Cache result
    cache.set(args.url, content);
    
    return {
      content: [{ type: 'text', text: content }]
    };
  }
  
  if (name === 'extract_content') {
    const response = await axios.get(args.url, { timeout: 10000 });
    const $ = cheerio.load(response.data);
    
    // Remove scripts, styles, etc.
    $('script, style, nav, footer, aside').remove();
    
    // Extract main content (heuristic)
    const article = $('article').first();
    const main = $('main').first();
    const content = article.length ? article : (main.length ? main : $('body'));
    
    const text = content.text().replace(/\s+/g, ' ').trim();
    
    return {
      content: [{
        type: 'text',
        text: `Title: ${$('title').text()}\n\nContent:\n${text}`
      }]
    };
  }
});</code></pre>

          <h2>Example 5: Slack Integration Server</h2>
          <p>
            A server that integrates with Slack for communication capabilities.
          </p>

          <h3>Capabilities:</h3>
          <ul>
            <li><strong>Resources:</strong> Channel history, user lists</li>
            <li><strong>Tools:</strong> Send messages, search messages, manage channels</li>
            <li><strong>Authentication:</strong> Slack OAuth integration</li>
          </ul>

          <h3>Tool Examples:</h3>
          <pre><code class="language-typescript">import { WebClient } from '@slack/web-api';

const slack = new WebClient(process.env.SLACK_TOKEN);

server.setRequestHandler(ListToolsRequestSchema, async () => {
  return {
    tools: [
      {
        name: 'send_message',
        description: 'Send a message to a Slack channel',
        inputSchema: {
          type: 'object',
          properties: {
            channel: { type: 'string', description: 'Channel ID or name' },
            text: { type: 'string', description: 'Message text' },
            thread_ts: { type: 'string', description: 'Thread timestamp (optional)' }
          },
          required: ['channel', 'text']
        }
      },
      {
        name: 'search_messages',
        description: 'Search Slack messages',
        inputSchema: {
          type: 'object',
          properties: {
            query: { type: 'string', description: 'Search query' },
            count: { type: 'number', description: 'Max results', default: 20 }
          },
          required: ['query']
        }
      },
      {
        name: 'list_channels',
        description: 'List all channels the bot has access to',
        inputSchema: {
          type: 'object',
          properties: {}
        }
      }
    ]
  };
});

server.setRequestHandler(CallToolRequestSchema, async (request) => {
  const { name, arguments: args } = request.params;
  
  if (name === 'send_message') {
    const result = await slack.chat.postMessage({
      channel: args.channel,
      text: args.text,
      thread_ts: args.thread_ts
    });
    
    return {
      content: [{
        type: 'text',
        text: `Message sent: ${result.ts}`
      }]
    };
  }
  
  if (name === 'search_messages') {
    const result = await slack.search.messages({
      query: args.query,
      count: args.count || 20
    });
    
    const messages = result.messages?.matches || [];
    
    return {
      content: [{
        type: 'text',
        text: JSON.stringify({
          total: result.messages?.total,
          messages: messages.map(m => ({
            user: m.username,
            text: m.text,
            channel: m.channel?.name,
            timestamp: m.ts
          }))
        }, null, 2)
      }]
    };
  }
  
  if (name === 'list_channels') {
    const result = await slack.conversations.list({
      types: 'public_channel,private_channel'
    });
    
    return {
      content: [{
        type: 'text',
        text: JSON.stringify({
          channels: result.channels?.map(c => ({
            id: c.id,
            name: c.name,
            members: c.num_members
          }))
        }, null, 2)
      }]
    };
  }
});</code></pre>

          <h2>Server Deployment Patterns</h2>

          <table class="table table-striped">
            <thead>
              <tr>
                <th>Pattern</th>
                <th>When to Use</th>
                <th>Transport</th>
                <th>Example</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>Standalone CLI</strong></td>
                <td>Developer tools, local utilities</td>
                <td>STDIO</td>
                <td>Git server, file system server</td>
              </tr>
              <tr>
                <td><strong>HTTP Service</strong></td>
                <td>Shared resources, multi-user</td>
                <td>HTTP/SSE</td>
                <td>Database server, API gateway</td>
              </tr>
              <tr>
                <td><strong>Containerized</strong></td>
                <td>Cloud deployment, scaling</td>
                <td>HTTP/SSE</td>
                <td>Enterprise integrations</td>
              </tr>
              <tr>
                <td><strong>Serverless</strong></td>
                <td>Event-driven, low traffic</td>
                <td>HTTP/SSE</td>
                <td>Webhook handlers, scheduled jobs</td>
              </tr>
            </tbody>
          </table>

        </section>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê INTEGRATION EXAMPLES ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <section id="integration-examples" role="article">
          <h1>üîå Integration Examples</h1>
          <span class="badge">integration</span> <span class="badge">examples</span> <span class="badge">patterns</span>

          <h2>Overview</h2>
          <p>
            This section demonstrates how to integrate MCP into various application types and platforms. 
            Each example shows complete integration patterns with real-world considerations.
          </p>

          <h2>Integration 1: VS Code Extension</h2>
          <p>
            Integrate MCP into a Visual Studio Code extension to provide AI-powered features.
          </p>

          <h3>Architecture:</h3>
          <pre><code class="language-typescript">// extension.ts
import * as vscode from 'vscode';
import { Client } from '@modelcontextprotocol/sdk/client/index.js';
import { StdioClientTransport } from '@modelcontextprotocol/sdk/client/stdio.js';

export async function activate(context: vscode.ExtensionContext) {
  // Initialize MCP servers
  const servers = new Map&lt;string, Client&gt;();
  
  // File system server
  const fileServer = await connectToServer({
    command: 'node',
    args: [context.asAbsolutePath('dist/servers/filesystem.js')]
  });
  servers.set('fs', fileServer);
  
  // Git server
  const gitServer = await connectToServer({
    command: 'node',
    args: [context.asAbsolutePath('dist/servers/git.js')]
  });
  servers.set('git', gitServer);
  
  // Register commands
  context.subscriptions.push(
    vscode.commands.registerCommand('extension.analyzeCode', async () => {
      const editor = vscode.window.activeTextEditor;
      if (!editor) return;
      
      const document = editor.document;
      const selection = editor.selection;
      const code = document.getText(selection);
      
      // Use MCP server to analyze code
      const result = await fileServer.request({
        method: 'tools/call',
        params: {
          name: 'analyze_code',
          arguments: {
            code,
            language: document.languageId
          }
        }
      }, CallToolResultSchema);
      
      // Show result
      vscode.window.showInformationMessage(
        result.content[0].text
      );
    })
  );
  
  // Register workspace file provider
  const fileProvider = new MCPFileSystemProvider(fileServer);
  context.subscriptions.push(
    vscode.workspace.registerFileSystemProvider('mcp', fileProvider)
  );
  
  // Cleanup on deactivation
  context.subscriptions.push({
    dispose: async () => {
      for (const client of servers.values()) {
        await client.close();
      }
    }
  });
}

async function connectToServer(config: any): Promise&lt;Client&gt; {
  const client = new Client({
    name: 'vscode-extension',
    version: '1.0.0'
  }, {
    capabilities: {
      roots: {
        listChanged: true
      }
    }
  });
  
  const transport = new StdioClientTransport(config);
  await client.connect(transport);
  
  // Send roots to server
  const folders = vscode.workspace.workspaceFolders || [];
  await client.request({
    method: 'notifications/roots/list_changed',
    params: {
      roots: folders.map(f => ({
        uri: f.uri.toString(),
        name: f.name
      }))
    }
  });
  
  return client;
}</code></pre>

          <h3>Key Features:</h3>
          <ul>
            <li>Automatic server lifecycle management</li>
            <li>Workspace roots synchronization</li>
            <li>Command registration with MCP tools</li>
            <li>Custom file system provider</li>
            <li>Proper cleanup on extension deactivation</li>
          </ul>

          <h2>Integration 2: Web Application</h2>
          <p>
            Integrate MCP into a React web application with server-side API.
          </p>

          <h3>Backend (Node.js + Express):</h3>
          <pre><code class="language-typescript">// server.ts
import express from 'express';
import { Client } from '@modelcontextprotocol/sdk/client/index.js';
import { SSEClientTransport } from '@modelcontextprotocol/sdk/client/sse.js';

const app = express();
app.use(express.json());

// Session store for MCP clients
const sessions = new Map&lt;string, Client&gt;();

// Initialize MCP client for user session
app.post('/api/init-mcp', async (req, res) => {
  const sessionId = req.session.id;
  
  const client = new Client({
    name: 'web-app',
    version: '1.0.0'
  }, {
    capabilities: {}
  });
  
  // Connect to remote MCP server
  const transport = new SSEClientTransport(
    new URL(process.env.MCP_SERVER_URL!),
    {
      headers: {
        'Authorization': `Bearer ${req.user.apiKey}`
      }
    }
  );
  
  await client.connect(transport);
  sessions.set(sessionId, client);
  
  res.json({ success: true });
});

// Proxy tool calls to MCP server
app.post('/api/mcp/tools/call', async (req, res) => {
  const client = sessions.get(req.session.id);
  if (!client) {
    return res.status(401).json({ error: 'Not initialized' });
  }
  
  const { tool, arguments: args } = req.body;
  
  try {
    const result = await client.request({
      method: 'tools/call',
      params: { name: tool, arguments: args }
    }, CallToolResultSchema);
    
    res.json(result);
  } catch (error) {
    res.status(500).json({ error: error.message });
  }
});

// List available tools
app.get('/api/mcp/tools', async (req, res) => {
  const client = sessions.get(req.session.id);
  if (!client) {
    return res.status(401).json({ error: 'Not initialized' });
  }
  
  const result = await client.request({
    method: 'tools/list'
  }, ListToolsResultSchema);
  
  res.json(result.tools);
});

app.listen(3000);</code></pre>

          <h3>Frontend (React):</h3>
          <pre><code class="language-typescript">// MCPProvider.tsx
import React, { createContext, useContext, useState, useEffect } from 'react';

interface MCPContextType {
  tools: Tool[];
  callTool: (toolName: string, args: any) => Promise&lt;any&gt;;
  loading: boolean;
}

const MCPContext = createContext&lt;MCPContextType | null&gt;(null);

export function MCPProvider({ children }: { children: React.ReactNode }) {
  const [tools, setTools] = useState&lt;Tool[]&gt;([]);
  const [loading, setLoading] = useState(true);
  
  useEffect(() => {
    async function init() {
      // Initialize MCP connection
      await fetch('/api/init-mcp', { method: 'POST' });
      
      // Load available tools
      const response = await fetch('/api/mcp/tools');
      constToolsData = await response.json();
      setTools(toolsData);
      setLoading(false);
    }
    
    init();
  }, []);
  
  const callTool = async (toolName: string, args: any) => {
    const response = await fetch('/api/mcp/tools/call', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ tool: toolName, arguments: args })
    });
    
    if (!response.ok) {
      throw new Error('Tool call failed');
    }
    
    return response.json();
  };
  
  return (
    &lt;MCPContext.Provider value={{ tools, callTool, loading }}&gt;
      {children}
    &lt;/MCPContext.Provider&gt;
  );
}

export function useMCP() {
  const context = useContext(MCPContext);
  if (!context) {
    throw new Error('useMCP must be used within MCPProvider');
  }
  return context;
}

// ToolPalette.tsx
export function ToolPalette() {
  const { tools, callTool } = useMCP();
  const [selectedTool, setSelectedTool] = useState&lt;Tool | null&gt;(null);
  const [args, setArgs] = useState({});
  const [result, setResult] = useState(null);
  
  const handleExecute = async () => {
    if (!selectedTool) return;
    
    const result = await callTool(selectedTool.name, args);
    setResult(result);
  };
  
  return (
    &lt;div&gt;
      &lt;h2&gt;Available Tools&lt;/h2&gt;
      &lt;ul&gt;
        {tools.map(tool => (
          &lt;li key={tool.name} onClick={() => setSelectedTool(tool)}&gt;
            {tool.name}: {tool.description}
          &lt;/li&gt;
        ))}
      &lt;/ul&gt;
      
      {selectedTool && (
        &lt;div&gt;
          &lt;h3&gt;{selectedTool.name}&lt;/h3&gt;
          {/* Render argument inputs based on schema */}
          &lt;button onClick={handleExecute}&gt;Execute&lt;/button&gt;
        &lt;/div&gt;
      )}
      
      {result && &lt;pre&gt;{JSON.stringify(result, null, 2)}&lt;/pre&gt;}
    &lt;/div&gt;
  );
}</code></pre>

          <h2>Integration 3: CLI Application</h2>
          <p>
            Build a command-line application that orchestrates multiple MCP servers.
          </p>

          <h3>Implementation:</h3>
          <pre><code class="language-typescript">#!/usr/bin/env node

import { Command } from 'commander';
import { Client } from '@modelcontextprotocol/sdk/client/index.js';
import { StdioClientTransport } from '@modelcontextprotocol/sdk/client/stdio.js';
import inquirer from 'inquirer';

const program = new Command();
const servers = new Map&lt;string, Client&gt;();

// Initialize MCP servers
async function initServers() {
  const serverConfigs = [
    { name: 'fs', command: 'mcp-server-filesystem' },
    { name: 'git', command: 'mcp-server-git' },
    { name: 'web', command: 'mcp-server-web' }
  ];
  
  for (const config of serverConfigs) {
    const client = new Client({
      name: 'cli-app',
      version: '1.0.0'
    }, { capabilities: {} });
    
    const transport = new StdioClientTransport({
      command: config.command
    });
    
    await client.connect(transport);
    servers.set(config.name, client);
  }
}

// List all available tools across servers
program
  .command('list-tools')
  .description('List all available MCP tools')
  .action(async () => {
    await initServers();
    
    for (const [serverName, client] of servers.entries()) {
      const result = await client.request({
        method: 'tools/list'
      }, ListToolsResultSchema);
      
      console.log(`\n${serverName} tools:`);
      for (const tool of result.tools) {
        console.log(`  - ${tool.name}: ${tool.description}`);
      }
    }
    
    process.exit(0);
  });

// Interactive tool execution
program
  .command('run')
  .description('Interactively run MCP tools')
  .action(async () => {
    await initServers();
    
    // Get all tools
    const allTools: Array&lt;{ server: string; tool: any }&gt; = [];
    for (const [serverName, client] of servers.entries()) {
      const result = await client.request({
        method: 'tools/list'
      }, ListToolsResultSchema);
      
      for (const tool of result.tools) {
        allTools.push({ server: serverName, tool });
      }
    }
    
    // Prompt user to select tool
    const { selectedTool } = await inquirer.prompt([{
      type: 'list',
      name: 'selectedTool',
      message: 'Select a tool to run:',
      choices: allTools.map(t => ({
        name: `${t.server}.${t.tool.name} - ${t.tool.description}`,
        value: t
      }))
    }]);
    
    // Prompt for arguments based on schema
    const args = {};
    const schema = selectedTool.tool.inputSchema;
    
    if (schema.properties) {
      for (const [propName, propSchema] of Object.entries(schema.properties)) {
        const { value } = await inquirer.prompt([{
          type: 'input',
          name: 'value',
          message: `${propName} (${propSchema.description}):`,
          default: propSchema.default
        }]);
        args[propName] = value;
      }
    }
    
    // Execute tool
    const client = servers.get(selectedTool.server)!;
    const result = await client.request({
      method: 'tools/call',
      params: {
        name: selectedTool.tool.name,
        arguments: args
      }
    }, CallToolResultSchema);
    
    console.log('\nResult:');
    console.log(result.content[0].text);
    
    process.exit(0);
  });

// Batch tool execution from file
program
  .command('batch &lt;file&gt;')
  .description('Execute tools from a batch file')
  .action(async (file) => {
    await initServers();
    
    const batch = JSON.parse(await fs.readFile(file, 'utf-8'));
    
    for (const step of batch.steps) {
      console.log(`\nExecuting: ${step.server}.${step.tool}`);
      
      const client = servers.get(step.server);
      if (!client) {
        console.error(`Server ${step.server} not found`);
        continue;
      }
      
      const result = await client.request({
        method: 'tools/call',
        params: {
          name: step.tool,
          arguments: step.arguments
        }
      }, CallToolResultSchema);
      
      console.log(result.content[0].text);
    }
    
    process.exit(0);
  });

program.parse();</code></pre>

          <h3>Batch File Example (batch.json):</h3>
          <pre><code class="language-json">{
  "steps": [
    {
      "server": "git",
      "tool": "search_commits",
      "arguments": {
        "query": "bug fix",
        "since": "2026-01-01",
        "maxCount": 10
      }
    },
    {
      "server": "fs",
      "tool": "search_files",
      "arguments": {
        "pattern": "**/*.ts",
        "content": "TODO"
      }
    },
    {
      "server": "web",
      "tool": "search_web",
      "arguments": {
        "query": "TypeScript best practices",
        "limit": 5
      }
    }
  ]
}</code></pre>

          <h2>Integration 4: Electron Desktop App</h2>
          <p>
            Integrate MCP into an Electron desktop application.
          </p>

          <h3>Main Process:</h3>
          <pre><code class="language-typescript">// main.ts
import { app, BrowserWindow, ipcMain } from 'electron';
import { Client } from '@modelcontextprotocol/sdk/client/index.js';
import { StdioClientTransport } from '@modelcontextprotocol/sdk/client/stdio.js';

let mainWindow: BrowserWindow;
const mcpClients = new Map&lt;string, Client&gt;();

async function createWindow() {
  mainWindow = new BrowserWindow({
    width: 1200,
    height: 800,
    webPreferences: {
      nodeIntegration: false,
      contextIsolation: true,
      preload: path.join(__dirname, 'preload.js')
    }
  });
  
  mainWindow.loadFile('index.html');
  
  // Initialize MCP servers
  await initializeMCPServers();
}

async function initializeMCPServers() {
  // File system server
  const fsClient = new Client({ name: 'electron-app', version: '1.0.0' }, { capabilities: {} });
  await fsClient.connect(new StdioClientTransport({
    command: 'mcp-server-filesystem'
  }));
  mcpClients.set('fs', fsClient);
  
  // Notify renderer
  mainWindow.webContents.send('mcp-ready', {
    servers: Array.from(mcpClients.keys())
  });
}

// Handle IPC calls from renderer
ipcMain.handle('mcp-tools-list', async (event, serverName) => {
  const client = mcpClients.get(serverName);
  if (!client) throw new Error(`Server ${serverName} not found`);
  
  return await client.request({
    method: 'tools/list'
  }, ListToolsResultSchema);
});

ipcMain.handle('mcp-tools-call', async (event, serverName, toolName, args) => {
  const client = mcpClients.get(serverName);
  if (!client) throw new Error(`Server ${serverName} not found`);
  
  return await client.request({
    method: 'tools/call',
    params: { name: toolName, arguments: args }
  }, CallToolResultSchema);
});

app.whenReady().then(createWindow);</code></pre>

          <h3>Preload Script:</h3>
          <pre><code class="language-typescript">// preload.ts
import { contextBridge, ipcRenderer } from 'electron';

contextBridge.exposeInMainWorld('mcpAPI', {
  onReady: (callback: (servers: string[]) => void) => {
    ipcRenderer.on('mcp-ready', (event, data) => callback(data.servers));
  },
  
  listTools: (serverName: string) => {
    return ipcRenderer.invoke('mcp-tools-list', serverName);
  },
  
  callTool: (serverName: string, toolName: string, args: any) => {
    return ipcRenderer.invoke('mcp-tools-call', serverName, toolName, args);
  }
});</code></pre>

          <h3>Renderer Process:</h3>
          <pre><code class="language-typescript">// renderer.ts
declare global {
  interface Window {
    mcpAPI: {
      onReady: (callback: (servers: string[]) => void) => void;
      listTools: (serverName: string) => Promise&lt;any&gt;;
      callTool: (serverName: string, toolName: string, args: any) => Promise&lt;any&gt;;
    };
  }
}

window.mcpAPI.onReady(async (servers) => {
  console.log('MCP servers ready:', servers);
  
  // Load tools from first server
  const tools = await window.mcpAPI.listTools(servers[0]);
  console.log('Available tools:', tools);
  
  // Call a tool
  const result = await window.mcpAPI.callTool(
    servers[0],
    'search_files',
    { pattern: '**/*.md' }
  );
  console.log('Result:', result);
});</code></pre>

          <h2>Integration Best Practices</h2>

          <div class="row">
            <div class="col-md-6">
              <div class="callout bg-gradient-green">
                <strong>‚úÖ Best Practices:</strong>
                <ul>
                  <li>Initialize MCP connections early in app lifecycle</li>
                  <li>Handle connection failures gracefully</li>
                  <li>Implement connection pooling for HTTP servers</li>
                  <li>Cache tool/resource lists to reduce requests</li>
                  <li>Provide user feedback during long operations</li>
                  <li>Clean up connections on app shutdown</li>
                  <li>Use session management for web apps</li>
                  <li>Implement proper error boundaries</li>
                  <li>Log MCP operations for debugging</li>
                </ul>
              </div>
            </div>
            <div class="col-md-6">
              <div class="callout bg-gradient-red">
                <strong>‚ùå Common Pitfalls:</strong>
                <ul>
                  <li>Not handling server unavailability</li>
                  <li>Leaving connections open indefinitely</li>
                  <li>Exposing MCP directly to untrusted clients</li>
                  <li>Not validating tool arguments</li>
                  <li>Ignoring error responses</li>
                  <li>Creating new connections for each request</li>
                  <li>Not implementing timeouts</li>
                  <li>Blocking UI thread with MCP calls</li>
                  <li>Hardcoding server configurations</li>
                </ul>
              </div>
            </div>
          </div>

        </section>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê USE CASES & EXAMPLES ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <section id="use-cases" role="article">
          <h1>üéØ Use Cases &amp; Examples</h1>
          <span class="badge">use cases</span> <span class="badge">examples</span> <span class="badge">scenarios</span>

          <h2>Overview</h2>
          <p>
            MCP enables a wide range of use cases by standardizing how AI applications access data, tools, and context. 
            This section explores common scenarios, example implementations, and integration patterns to help you 
            understand how to apply MCP in your applications.
          </p>

          <div class="callout">
            <strong>üí° Key Insight:</strong> MCP shines in scenarios where AI assistants need to access external 
            systems, databases, APIs, or file systems in a standardized, secure, and extensible way.
          </div>

          <h2>Common Use Cases</h2>

          <div class="row">
            <div class="col-md-6">
              <h3>1. Development Tools</h3>
              <ul>
                <li><strong>Code Analysis:</strong> Read and analyze codebases</li>
                <li><strong>Git Operations:</strong> Commit, branch, merge</li>
                <li><strong>Build & Deploy:</strong> Execute build scripts, deploy</li>
                <li><strong>Testing:</strong> Run tests, analyze coverage</li>
                <li><strong>Documentation:</strong> Generate and update docs</li>
              </ul>

              <h3>2. Data Access</h3>
              <ul>
                <li><strong>Databases:</strong> Query SQL, NoSQL databases</li>
                <li><strong>APIs:</strong> Interact with REST, GraphQL APIs</li>
                <li><strong>File Systems:</strong> Read, write, search files</li>
                <li><strong>Cloud Storage:</strong> Access S3, Azure Blob, etc.</li>
                <li><strong>Data Warehouses:</strong> Query BigQuery, Snowflake</li>
              </ul>

              <h3>3. Productivity Tools</h3>
              <ul>
                <li><strong>Calendar:</strong> Schedule meetings, check availability</li>
                <li><strong>Email:</strong> Read, send, search emails</li>
                <li><strong>Task Management:</strong> Create, update tasks</li>
                <li><strong>Note Taking:</strong> Store and retrieve notes</li>
                <li><strong>Search:</strong> Enterprise search, knowledge bases</li>
              </ul>
            </div>

            <div class="col-md-6">
              <h3>4. Enterprise Systems</h3>
              <ul>
                <li><strong>CRM:</strong> Access customer data (Salesforce, etc.)</li>
                <li><strong>ERP:</strong> Query business data (SAP, Oracle)</li>
                <li><strong>HR Systems:</strong> Employee info, benefits</li>
                <li><strong>Financial:</strong> Accounting, invoicing systems</li>
                <li><strong>Analytics:</strong> BI tools, dashboards</li>
              </ul>

              <h3>5. DevOps & Infrastructure</h3>
              <ul>
                <li><strong>Monitoring:</strong> Check metrics, alerts</li>
                <li><strong>Logging:</strong> Query logs, debugging</li>
                <li><strong>Container Orchestration:</strong> Kubernetes ops</li>
                <li><strong>Cloud Resources:</strong> Manage AWS, Azure, GCP</li>
                <li><strong>CI/CD:</strong> Trigger pipelines, check status</li>
              </ul>

              <h3>6. AI-Specific Use Cases</h3>
              <ul>
                <li><strong>RAG (Retrieval Augmented Generation):</strong> Fetch context</li>
                <li><strong>Agent Workflows:</strong> Multi-step automation</li>
                <li><strong>Knowledge Graphs:</strong> Navigate relationships</li>
                <li><strong>Vector Databases:</strong> Semantic search</li>
                <li><strong>Model Fine-tuning:</strong> Access training data</li>
              </ul>
            </div>
          </div>

          <h2>Use Case Scenarios</h2>

          <h3>Scenario 1: AI-Powered Code Review Assistant</h3>
          <div class="callout bg-gradient-blue-light">
            <strong>Goal:</strong> Help developers review code by analyzing changes, suggesting improvements, 
            and checking for issues.
            
            <br/><br/>
            <strong>MCP Tools Needed:</strong>
            <ul>
              <li><code>git_diff</code> - Get code changes</li>
              <li><code>read_file</code> - Read source files</li>
              <li><code>run_linter</code> - Check code quality</li>
              <li><code>run_tests</code> - Execute test suite</li>
              <li><code>search_codebase</code> - Find similar patterns</li>
            </ul>

            <strong>MCP Resources:</strong>
            <ul>
              <li><code>file://src/**/*.ts</code> - Source files</li>
              <li><code>git://commits</code> - Commit history</li>
              <li><code>docs://style-guide</code> - Coding standards</li>
            </ul>

            <strong>Workflow:</strong>
            <ol>
              <li>User pastes PR URL or branch name</li>
              <li>AI calls <code>git_diff</code> to get changes</li>
              <li>AI reads affected files using <code>read_file</code></li>
              <li>AI runs linter and tests</li>
              <li>AI analyzes and provides feedback</li>
              <li>AI can suggest specific fixes or improvements</li>
            </ol>
          </div>

          <h3>Scenario 2: Database Query Assistant</h3>
          <div class="callout bg-gradient-green">
            <strong>Goal:</strong> Allow users to query databases using natural language.
            
            <br/><br/>
            <strong>MCP Tools Needed:</strong>
            <ul>
              <li><code>execute_sql</code> - Run SQL queries</li>
              <li><code>get_schema</code> - Fetch table schemas</li>
              <li><code>explain_query</code> - Analyze query performance</li>
              <li><code>validate_sql</code> - Check query syntax</li>
            </ul>

            <strong>MCP Resources:</strong>
            <ul>
              <li><code>db://tables</code> - List of tables</li>
              <li><code>db://schemas/{table}</code> - Table schemas</li>
              <li><code>db://queries/saved</code> - Saved queries</li>
            </ul>

            <strong>Workflow:</strong>
            <ol>
              <li>User asks: "How many orders were placed last month?"</li>
              <li>AI reads database schema using resources</li>
              <li>AI generates SQL query</li>
              <li>AI validates query using <code>validate_sql</code></li>
              <li>AI executes query using <code>execute_sql</code></li>
              <li>AI formats and presents results</li>
            </ol>
          </div>

          <h3>Scenario 3: Customer Support Agent</h3>
          <div class="callout bg-gradient-orange">
            <strong>Goal:</strong> Help support agents quickly find information and resolve customer issues.
            
            <br/><br/>
            <strong>MCP Tools Needed:</strong>
            <ul>
              <li><code>search_tickets</code> - Find similar issues</li>
              <li><code>get_customer_info</code> - Fetch customer data</li>
              <li><code>check_order_status</code> - Order tracking</li>
              <li><code>create_ticket</code> - Log new issues</li>
              <li><code>send_email</code> - Customer communication</li>
            </ul>

            <strong>MCP Resources:</strong>
            <ul>
              <li><code>crm://customers/{id}</code> - Customer profiles</li>
              <li><code>kb://articles</code> - Knowledge base</li>
              <li><code>tickets://recent</code> - Recent tickets</li>
            </ul>

            <strong>Workflow:</strong>
            <ol>
              <li>Customer contacts support with issue</li>
              <li>AI searches knowledge base and past tickets</li>
              <li>AI fetches customer information from CRM</li>
              <li>AI suggests solutions based on similar cases</li>
              <li>If needed, AI creates ticket and notifies team</li>
            </ol>
          </div>

          <h2>Architecture Patterns</h2>

          <h3>Pattern 1: Single Server, Multiple Clients</h3>
          <div class="mermaid">
graph LR
    A[Claude Desktop] --> S[File System Server]
    B[VS Code] --> S
    C[Custom App] --> S
    
    S --> D[(Local Files)]
    
    style S fill:#e3f2fd,stroke:#1976d2,stroke-width:3px
    style D fill:#fff3e0,stroke:#f57c00,stroke-width:2px
          </div>
          <p><strong>Use Case:</strong> Multiple AI clients need access to same file system</p>

          <h3>Pattern 2: Single Client, Multiple Servers</h3>
          <div class="mermaid">
graph TB
    A[AI Assistant]
    
    A --> B[GitHub Server]
    A --> C[Database Server]
    A --> D[Slack Server]
    A --> E[Calendar Server]
    
    B --> F[(GitHub API)]
    C --> G[(PostgreSQL)]
    D --> H[(Slack API)]
    E --> I[(Google Calendar)]
    
    style A fill:#e3f2fd,stroke:#1976d2,stroke-width:3px
    style B fill:#e8f5e9,stroke:#2e7d32,stroke-width:2px
    style C fill:#e8f5e9,stroke:#2e7d32,stroke-width:2px
    style D fill:#e8f5e9,stroke:#2e7d32,stroke-width:2px
    style E fill:#e8f5e9,stroke:#2e7d32,stroke-width:2px
          </div>
          <p><strong>Use Case:</strong> AI assistant needs to access multiple different systems</p>

          <h3>Pattern 3: Server Chain / Proxy</h3>
          <div class="mermaid">
graph LR
    A[AI Client] --> B[Gateway Server]
    
    B --> C[Auth Service]
    B --> D[Rate Limiter]
    B --> E[Logger]
    
    B --> F[Backend Server 1]
    B --> G[Backend Server 2]
    B --> H[Backend Server 3]
    
    F --> I[(Data Source 1)]
    G --> J[(Data Source 2)]
    H --> K[(Data Source 3)]
    
    style A fill:#e3f2fd,stroke:#1976d2,stroke-width:3px
    style B fill:#fff3e0,stroke:#f57c00,stroke-width:3px
    style F fill:#e8f5e9,stroke:#2e7d32,stroke-width:2px
    style G fill:#e8f5e9,stroke:#2e7d32,stroke-width:2px
    style H fill:#e8f5e9,stroke:#2e7d32,stroke-width:2px
          </div>
          <p><strong>Use Case:</strong> Centralized security, logging, rate limiting for multiple backend servers</p>

          <h2>Industry Applications</h2>

          <table class="table table-striped">
            <thead>
              <tr>
                <th>Industry</th>
                <th>Use Case</th>
                <th>Key Tools/Resources</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>Healthcare</strong></td>
                <td>Access patient records, lab results, imaging</td>
                <td>EHR API, DICOM servers, HL7 systems</td>
              </tr>
              <tr>
                <td><strong>Finance</strong></td>
                <td>Portfolio analysis, fraud detection, reporting</td>
                <td>Trading APIs, market data, transaction DBs</td>
              </tr>
              <tr>
                <td><strong>E-commerce</strong></td>
                <td>Inventory management, order processing, recommendations</td>
                <td>Product catalog, customer DB, analytics</td>
              </tr>
              <tr>
                <td><strong>Legal</strong></td>
                <td>Document review, case research, contract analysis</td>
                <td>Document management, legal databases</td>
              </tr>
              <tr>
                <td><strong>Manufacturing</strong></td>
                <td>Supply chain optimization, quality control, maintenance</td>
                <td>IoT sensors, ERP systems, CMMS</td>
              </tr>
              <tr>
                <td><strong>Education</strong></td>
                <td>Grading assistance, curriculum planning, student analytics</td>
                <td>LMS systems, student DBs, assessment tools</td>
              </tr>
            </tbody>
          </table>

          <h2>Decision Guide: When to Use MCP</h2>

          <div class="row">
            <div class="col-md-6">
              <div class="callout bg-gradient-green">
                <strong>‚úÖ MCP is a Good Fit When:</strong>
                <ul>
                  <li>You need to integrate AI with external systems</li>
                  <li>Multiple clients need to access same data sources</li>
                  <li>You want to standardize tool interfaces</li>
                  <li>Security and access control are important</li>
                  <li>You need to support multiple AI models/providers</li>
                  <li>You want to share servers across applications</li>
                  <li>You need dynamic resource discovery</li>
                  <li>You want to version and evolve APIs cleanly</li>
                </ul>
              </div>
            </div>
            <div class="col-md-6">
              <div class="callout bg-gradient-orange">
                <strong>‚ö†Ô∏è Consider Alternatives When:</strong>
                <ul>
                  <li>Simple single-purpose integration (REST API may suffice)</li>
                  <li>No need for standardization (one-off prototype)</li>
                  <li>Extremely high-performance requirements (optimize protocol)</li>
                  <li>Very simple, static data (hardcode or config file)</li>
                  <li>No external systems to integrate (pure AI reasoning)</li>
                  <li>Legacy systems can't be wrapped (direct integration)</li>
                </ul>
              </div>
            </div>
          </div>

        </section>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê EXAMPLE SERVERS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <section id="example-servers" role="article">
          <h1>üì¶ Example Servers</h1>
          <span class="badge">examples</span> <span class="badge">servers</span> <span class="badge">implementations</span>

          <h2>Official Example Servers</h2>
          <p>
            The MCP project provides several reference implementations that demonstrate best practices and 
            common patterns. These servers are production-ready and can be used directly or as starting 
            points for custom implementations.
          </p>

          <h3>1. Filesystem Server</h3>
          <div class="callout">
            <strong>Repository:</strong> <code>modelcontextprotocol/servers/filesystem</code><br/>
            <strong>Language:</strong> TypeScript<br/>
            <strong>Purpose:</strong> Secure file system access with path restrictions
          </div>

          <h4>Features:</h4>
          <ul>
            <li><strong>Tools:</strong> read_file, write_file, list_directory, search_files, get_file_info</li>
            <li><strong>Resources:</strong> file:// URIs with auto-discovery</li>
            <li><strong>Security:</strong> Path validation, allowlist, no traversal attacks</li>
            <li><strong>Performance:</strong> Streaming for large files, caching</li>
          </ul>

          <h4>Example Usage:</h4>
          <pre><code class="language-typescript">// Server configuration
const server = new FileSystemServer({
  allowedDirectories: [
    '/home/user/projects',
    '/var/data/shared'
  ],
  maxFileSize: 10 * 1024 * 1024,  // 10MB limit
  enableCaching: true
});

// Client calls
const result = await client.request({
  method: 'tools/call',
  params: {
    name: 'read_file',
    arguments: {
      path: '/home/user/projects/README.md'
    }
  }
}, CallToolResultSchema);</code></pre>

          <h3>2. GitHub Server</h3>
          <div class="callout">
            <strong>Repository:</strong> <code>modelcontextprotocol/servers/github</code><br/>
            <strong>Language:</strong> TypeScript<br/>
            <strong>Purpose:</strong> Interact with GitHub repositories, PRs, issues
          </div>

          <h4>Features:</h4>
          <ul>
            <li><strong>Tools:</strong> create_issue, create_pr, search_code, get_file_contents, fork_repository</li>
            <li><strong>Resources:</strong> Repositories, pull requests, issues</li>
            <li><strong>Authentication:</strong> GitHub Personal Access Token, OAuth</li>
            <li><strong>Rate Limiting:</strong> Respects GitHub API limits</li>
          </ul>

          <h4>Example Configuration:</h4>
          <pre><code class="language-json">{
  "mcpServers": {
    "github": {
      "command": "npx",
      "args": [
        "-y",
        "@modelcontextprotocol/server-github"
      ],
      "env": {
        "GITHUB_TOKEN": "ghp_your_token_here"
      }
    }
  }
}</code></pre>

          <h3>3. Database Server (PostgreSQL)</h3>
          <div class="callout">
            <strong>Repository:</strong> <code>modelcontextprotocol/servers/postgres</code><br/>
            <strong>Language:</strong> TypeScript<br/>
            <strong>Purpose:</strong> Safe database queries with schema introspection
          </div>

          <h4>Features:</h4>
          <ul>
            <li><strong>Tools:</strong> execute_query, get_schema, list_tables, explain_query</li>
            <li><strong>Resources:</strong> Database schemas, table definitions</li>
            <li><strong>Security:</strong> Read-only mode, query validation, parameterized queries</li>
            <li><strong>Performance:</strong> Connection pooling, query timeout</li>
          </ul>

          <h4>Example Tool Call:</h4>
          <pre><code class="language-typescript">// Get database schema
const schema = await client.request({
  method: 'resources/read',
  params: {
    uri: 'db://schema/public'
  }
}, ReadResourceResultSchema);

// Execute query
const result = await client.request({
  method: 'tools/call',
  params: {
    name: 'execute_query',
    arguments: {
      query: 'SELECT * FROM users WHERE created_at > $1',
      params: ['2024-01-01']
    }
  }
}, CallToolResultSchema);</code></pre>

          <h3>4. Slack Server</h3>
          <div class="callout">
            <strong>Repository:</strong> <code>modelcontextprotocol/servers/slack</code><br/>
            <strong>Language:</strong> Python<br/>
            <strong>Purpose:</strong> Send messages, search conversations, manage channels
          </div>

          <h4>Features:</h4>
          <ul>
            <li><strong>Tools:</strong> send_message, search_messages, list_channels, upload_file</li>
            <li><strong>Resources:</strong> Channels, users, conversations</li>
            <li><strong>Authentication:</strong> Slack Bot Token, OAuth</li>
            <li><strong>Real-time:</strong> Can receive events via WebSocket</li>
          </ul>

          <h3>5. Google Drive Server</h3>
          <div class="callout">
            <strong>Repository:</strong> <code>modelcontextprotocol/servers/gdrive</code><br/>
            <strong>Language:</strong> Python<br/>
            <strong>Purpose:</strong> Access Google Drive files and folders
          </div>

          <h4>Features:</h4>
          <ul>
            <li><strong>Tools:</strong> search_files, read_file, create_doc, share_file</li>
            <li><strong>Resources:</strong> Files, folders, shared drives</li>
            <li><strong>Authentication:</strong> Google OAuth 2.0</li>
            <li><strong>Formats:</strong> Supports Docs, Sheets, PDF, markdown</li>
          </ul>

          <h2>Community Servers</h2>

          <h3>Web Scraping Server</h3>
          <pre><code class="language-typescript">// Example: Playwright-based web scraper
import { Server } from '@modelcontextprotocol/sdk/server/index.js';
import { StdioServerTransport } from '@modelcontextprotocol/sdk/server/stdio.js';
import { chromium } from 'playwright';

const server = new Server({
  name: 'web-scraper',
  version: '1.0.0'
}, {
  capabilities: {
    tools: {}
  }
});

server.setRequestHandler(ListToolsRequestSchema, async () => ({
  tools: [{
    name: 'scrape_url',
    description: 'Extract content from a web page',
    inputSchema: {
      type: 'object',
      properties: {
        url: { type: 'string', description: 'URL to scrape' },
        selector: { type: 'string', description: 'CSS selector (optional)' }
      },
      required: ['url']
    }
  }]
}));

server.setRequestHandler(CallToolRequestSchema, async (request) => {
  if (request.params.name === 'scrape_url') {
    const { url, selector } = request.params.arguments;
    
    const browser = await chromium.launch();
    const page = await browser.newPage();
    await page.goto(url);
    
    const content = selector 
      ? await page.locator(selector).textContent()
      : await page.content();
    
    await browser.close();
    
    return {
      content: [{
        type: 'text',
        text: content
      }]
    };
  }
});</code></pre>

          <h3>Vector Database Server</h3>
          <pre><code class="language-python"># Example: Pinecone vector database MCP server
from mcp.server import Server
from mcp.server.stdio import stdio_server
import pinecone

app = Server("pinecone-server")

@app.list_tools()
async def list_tools():
    return [
        {
            "name": "search_vectors",
            "description": "Semantic search in vector database",
            "inputSchema": {
                "type": "object",
                "properties": {
                    "query": {"type": "string"},
                    "top_k": {"type": "number", "default": 10}
                },
                "required": ["query"]
            }
        },
        {
            "name": "upsert_vectors",
            "description": "Insert or update vectors",
            "inputSchema": {
                "type": "object",
                "properties": {
                    "vectors": {"type": "array"},
                    "namespace": {"type": "string"}
                },
                "required": ["vectors"]
            }
        }
    ]

@app.call_tool()
async def call_tool(name: str, arguments: dict):
    if name == "search_vectors":
        index = pinecone.Index("my-index")
        
        # Generate embedding from query
        embedding = generate_embedding(arguments["query"])
        
        # Search
        results = index.query(
            vector=embedding,
            top_k=arguments.get("top_k", 10),
            include_metadata=True
        )
        
        return {
            "content": [{
                "type": "text",
                "text": json.dumps(results, indent=2)
            }]
        }</code></pre>

          <h3>Kubernetes Server</h3>
          <pre><code class="language-typescript">// Example: Kubernetes operations server
import { Server } from '@modelcontextprotocol/sdk/server/index.js';
import * as k8s from '@kubernetes/client-node';

const server = new Server({
  name: 'k8s-server',
  version: '1.0.0'
}, {
  capabilities: { tools: {} }
});

server.setRequestHandler(CallToolRequestSchema, async (request) => {
  const kc = new k8s.KubeConfig();
  kc.loadFromDefault();
  const k8sApi = kc.makeApiClient(k8s.CoreV1Api);
  
  switch (request.params.name) {
    case 'list_pods':
      const namespace = request.params.arguments?.namespace || 'default';
      const res = await k8sApi.listNamespacedPod(namespace);
      return {
        content: [{
          type: 'text',
          text: JSON.stringify(res.body.items, null, 2)
        }]
      };
      
    case 'get_logs':
      const { pod, container } = request.params.arguments;
      const logs = await k8sApi.readNamespacedPodLog(
        pod, 
        namespace, 
        container
      );
      return {
        content: [{
          type: 'text',
          text: logs.body
        }]
      };
  }
});</code></pre>

          <h2>Server Templates</h2>

          <div class="code-tabs">
            <ul class="nav nav-tabs" role="tablist">
              <li class="nav-item" role="presentation">
                <button class="nav-link active" id="template-typescript-tab" data-bs-toggle="tab" data-bs-target="#template-typescript" type="button" role="tab">TypeScript</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" id="template-python-tab" data-bs-toggle="tab" data-bs-target="#template-python" type="button" role="tab">Python</button>
              </li>
            </ul>
            <div class="tab-content">
              <div class="tab-pane fade show active" id="template-typescript" role="tabpanel">
                <pre><code class="language-typescript">import { Server } from '@modelcontextprotocol/sdk/server/index.js';
import { StdioServerTransport } from '@modelcontextprotocol/sdk/server/stdio.js';
import {
  ListToolsRequestSchema,
  CallToolRequestSchema
} from '@modelcontextprotocol/sdk/types.js';

const server = new Server({
  name: 'my-server',
  version: '1.0.0'
}, {
  capabilities: {
    tools: {}
  }
});

// Define tools
server.setRequestHandler(ListToolsRequestSchema, async () => ({
  tools: [
    {
      name: 'my_tool',
      description: 'Does something useful',
      inputSchema: {
        type: 'object',
        properties: {
          input: { type: 'string' }
        },
        required: ['input']
      }
    }
  ]
}));

// Handle tool calls
server.setRequestHandler(CallToolRequestSchema, async (request) => {
  if (request.params.name === 'my_tool') {
    const { input } = request.params.arguments;
    
    // Your logic here
    const result = processInput(input);
    
    return {
      content: [{
        type: 'text',
        text: result
      }]
    };
  }
  
  throw new Error(`Unknown tool: ${request.params.name}`);
});

// Start server
async function main() {
  const transport = new StdioServerTransport();
  await server.connect(transport);
  console.error('Server running on stdio');
}

main().catch(console.error);</code></pre>
              </div>
              <div class="tab-pane fade" id="template-python" role="tabpanel">
                <pre><code class="language-python">from mcp.server import Server
from mcp.server.stdio import stdio_server

app = Server("my-server")

@app.list_tools()
async def list_tools():
    return [
        {
            "name": "my_tool",
            "description": "Does something useful",
            "inputSchema": {
                "type": "object",
                "properties": {
                    "input": {"type": "string"}
                },
                "required": ["input"]
            }
        }
    ]

@app.call_tool()
async def call_tool(name: str, arguments: dict):
    if name == "my_tool":
        input_text = arguments["input"]
        
        # Your logic here
        result = process_input(input_text)
        
        return {
            "content": [{
                "type": "text",
                "text": result
            }]
        }
    
    raise ValueError(f"Unknown tool: {name}")

if __name__ == "__main__":
    import asyncio
    asyncio.run(stdio_server(app))</code></pre>
              </div>
            </div>
          </div>

          <h2>Testing Your Server</h2>

          <h3>Using MCP Inspector:</h3>
          <pre><code class="language-bash"># Install MCP Inspector
npm install -g @modelcontextprotocol/inspector

# Test your server
mcp-inspector node path/to/your/server.js

# Or for Python
mcp-inspector python path/to/your/server.py</code></pre>

          <h3>Unit Testing Example:</h3>
          <pre><code class="language-typescript">import { Server } from '@modelcontextprotocol/sdk/server/index.js';
import { InMemoryTransport } from '@modelcontextprotocol/sdk/inMemory.js';

describe('My Server', () => {
  let server: Server;
  let client: Client;
  
  beforeEach(async () => {
    const { clientTransport, serverTransport } = InMemoryTransport.createLinkedPair();
    
    server = createMyServer();
    await server.connect(serverTransport);
    
    client = new Client({
      name: 'test-client',
      version: '1.0.0'
    }, {
      capabilities: {}
    });
    await client.connect(clientTransport);
  });
  
  test('lists tools correctly', async () => {
    const result = await client.request({
      method: 'tools/list'
    }, ListToolsResultSchema);
    
    expect(result.tools).toHaveLength(1);
    expect(result.tools[0].name).toBe('my_tool');
  });
  
  test('executes tool correctly', async () => {
    const result = await client.request({
      method: 'tools/call',
      params: {
        name: 'my_tool',
        arguments: { input: 'test' }
      }
    }, CallToolResultSchema);
    
    expect(result.content[0].text).toBe('processed: test');
  });
});</code></pre>

        </section>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê INTEGRATION EXAMPLES ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <section id="integration-examples" role="article">
          <h1>üîå Integration Examples</h1>
          <span class="badge">integration</span> <span class="badge">examples</span> <span class="badge">patterns</span>

          <h2>Integration Overview</h2>
          <p>
            This section provides concrete examples of integrating MCP servers with popular AI clients, 
            frameworks, and applications. Each example includes configuration, code snippets, and best practices.
          </p>

          <h2>Claude Desktop Integration</h2>

          <h3>Configuration File Location:</h3>
          <ul>
            <li><strong>macOS:</strong> <code>~/Library/Application Support/Claude/claude_desktop_config.json</code></li>
            <li><strong>Windows:</strong> <code>%APPDATA%\Claude\claude_desktop_config.json</code></li>
          </ul>

          <h3>Basic Configuration:</h3>
          <pre><code class="language-json">{
  "mcpServers": {
    "filesystem": {
      "command": "npx",
      "args": [
        "-y",
        "@modelcontextprotocol/server-filesystem",
        "/Users/username/Documents"
      ]
    },
    "github": {
      "command": "npx",
      "args": [
        "-y",
        "@modelcontextprotocol/server-github"
      ],
      "env": {
        "GITHUB_TOKEN": "ghp_your_token_here"
      }
    },
    "database": {
      "command": "npx",
      "args": [
        "-y",
        "@modelcontextprotocol/server-postgres"
      ],
      "env": {
        "DATABASE_URL": "postgresql://user:pass@localhost:5432/mydb"
      }
    }
  }
}</code></pre>

          <h3>Using Custom Server:</h3>
          <pre><code class="language-json">{
  "mcpServers": {
    "my-custom-server": {
      "command": "node",
      "args": [
        "/absolute/path/to/my-server/build/index.js"
      ],
      "env": {
        "API_KEY": "your-api-key",
        "LOG_LEVEL": "debug"
      }
    }
  }
}</code></pre>

          <h2>VS Code Extension Integration</h2>

          <h3>Extension Manifest (package.json):</h3>
          <pre><code class="language-json">{
  "name": "my-mcp-extension",
  "contributes": {
    "configuration": {
      "properties": {
        "myExtension.mcpServers": {
          "type": "object",
          "description": "MCP server configurations"
        }
      }
    }
  }
}</code></pre>

          <h3>Extension Code:</h3>
          <pre><code class="language-typescript">import * as vscode from 'vscode';
import { Client } from '@modelcontextprotocol/sdk/client/index.js';
import { StdioClientTransport } from '@modelcontextprotocol/sdk/client/stdio.js';

export async function activate(context: vscode.ExtensionContext) {
  // Get server config from settings
  const config = vscode.workspace.getConfiguration('myExtension');
  const serverConfig = config.get('mcpServers');
  
  // Create MCP client
  const client = new Client({
    name: 'vscode-extension',
    version: '1.0.0'
  }, {
    capabilities: {}
  });
  
  // Connect to server
  const transport = new StdioClientTransport({
    command: 'npx',
    args: ['-y', '@modelcontextprotocol/server-filesystem', '/workspace']
  });
  
  await client.connect(transport);
  
  // Register command
  const disposable = vscode.commands.registerCommand(
    'myExtension.searchFiles',
    async () => {
      const query = await vscode.window.showInputBox({
        prompt: 'Enter search query'
      });
      
      if (!query) return;
      
      // Call MCP tool
      const result = await client.request({
        method: 'tools/call',
        params: {
          name: 'search_files',
          arguments: { query }
        }
      }, CallToolResultSchema);
      
      // Show results
      vscode.window.showInformationMessage(
        result.content[0].text
      );
    }
  );
  
  context.subscriptions.push(disposable);
}

export function deactivate() {
  // Cleanup
}</code></pre>

          <h2>LangChain Integration</h2>

          <h3>MCP Tool Wrapper:</h3>
          <pre><code class="language-typescript">import { Tool } from 'langchain/tools';
import { Client } from '@modelcontextprotocol/sdk/client/index.js';

class McpTool extends Tool {
  name: string;
  description: string;
  
  constructor(
    private client: Client,
    private toolName: string,
    toolDescription: string
  ) {
    super();
    this.name = toolName;
    this.description = toolDescription;
  }
  
  async _call(input: string): Promise<string> {
    const result = await this.client.request({
      method: 'tools/call',
      params: {
        name: this.toolName,
        arguments: JSON.parse(input)
      }
    }, CallToolResultSchema);
    
    return result.content[0].text;
  }
}

// Usage with LangChain agent
import { initializeAgentExecutorWithOptions } from 'langchain/agents';
import { ChatOpenAI } from 'langchain/chat_models/openai';

// Connect to MCP server
const mcpClient = await connectToMcpServer();

// Get available tools from MCP
const toolsList = await mcpClient.request({
  method: 'tools/list'
}, ListToolsResultSchema);

// Wrap MCP tools for LangChain
const tools = toolsList.tools.map(tool => 
  new McpTool(mcpClient, tool.name, tool.description)
);

// Create agent with MCP tools
const model = new ChatOpenAI({ temperature: 0 });
const executor = await initializeAgentExecutorWithOptions(
  tools,
  model,
  {
    agentType: 'openai-functions',
    verbose: true
  }
);

// Use agent
const result = await executor.call({
  input: 'Search for files containing "TODO"'
});</code></pre>

          <h2>LlamaIndex Integration</h2>

          <h3>MCP Tools as LlamaIndex Tools:</h3>
          <pre><code class="language-python">from llama_index.core.tools import FunctionTool
from mcp import ClientSession, StdioServerParameters
from mcp.client.stdio import stdio_client

class McpToolsProvider:
    def __init__(self, server_params: StdioServerParameters):
        self.server_params = server_params
        self.session = None
    
    async def __aenter__(self):
        # Connect to MCP server
        self.stdio, self.session = await stdio_client(self.server_params)
        return self
    
    async def __aexit__(self, exc_type, exc_val, exc_tb):
        await self.stdio.__aexit__(exc_type, exc_val, exc_tb)
    
    async def get_tools(self):
        # List tools from MCP server
        tools_response = await self.session.list_tools()
        
        llamaindex_tools = []
        for tool in tools_response.tools:
            # Create wrapper function
            async def tool_wrapper(**kwargs):
                result = await self.session.call_tool(
                    tool.name,
                    arguments=kwargs
                )
                return result.content[0].text
            
            # Create LlamaIndex FunctionTool
            llamaindex_tool = FunctionTool.from_defaults(
                fn=tool_wrapper,
                name=tool.name,
                description=tool.description
            )
            llamaindex_tools.append(llamaindex_tool)
        
        return llamaindex_tools

# Usage
import asyncio
from llama_index.core.agent import ReActAgent
from llama_index.llms.openai import OpenAI

async def main():
    server_params = StdioServerParameters(
        command="npx",
        args=["-y", "@modelcontextprotocol/server-filesystem", "/workspace"]
    )
    
    async with McpToolsProvider(server_params) as provider:
        tools = await provider.get_tools()
        
        # Create ReAct agent with MCP tools
        llm = OpenAI(model="gpt-4")
        agent = ReActAgent.from_tools(tools, llm=llm, verbose=True)
        
        # Use agent
        response = await agent.achat("Find all Python files in the project")
        print(response)

asyncio.run(main())</code></pre>

          <h2>Web Application Integration</h2>

          <h3>Express.js Backend with MCP:</h3>
          <pre><code class="language-typescript">import express from 'express';
import { Client } from '@modelcontextprotocol/sdk/client/index.js';
import { SSEClientTransport } from '@modelcontextprotocol/sdk/client/sse.js';

const app = express();
app.use(express.json());

// MCP client pool
const mcpClients = new Map&lt;string, Client&gt;();

// Connect to MCP server for user
async function getMcpClient(userId: string): Promise&lt;Client&gt; {
  if (!mcpClients.has(userId)) {
    const client = new Client({
      name: 'web-app',
      version: '1.0.0'
    }, {
      capabilities: {}
    });
    
    // Connect via HTTP/SSE to remote MCP server
    const transport = new SSEClientTransport(
      new URL('https://mcp-server.example.com/sse'),
      {
        headers: {
          'Authorization': `Bearer ${getUserToken(userId)}`
        }
      }
    );
    
    await client.connect(transport);
    mcpClients.set(userId, client);
  }
  
  return mcpClients.get(userId)!;
}

// API endpoint to call MCP tools
app.post('/api/mcp/tools/:toolName', async (req, res) => {
  try {
    const userId = req.headers['user-id'] as string;
    const { toolName } = req.params;
    const args = req.body;
    
    const client = await getMcpClient(userId);
    
    const result = await client.request({
      method: 'tools/call',
      params: {
        name: toolName,
        arguments: args
      }
    }, CallToolResultSchema);
    
    res.json(result);
  } catch (error) {
    res.status(500).json({ error: error.message });
  }
});

// API endpoint to list available resources
app.get('/api/mcp/resources', async (req, res) => {
  try {
    const userId = req.headers['user-id'] as string;
    const client = await getMcpClient(userId);
    
    const result = await client.request({
      method: 'resources/list'
    }, ListResourcesResultSchema);
    
    res.json(result);
  } catch (error) {
    res.status(500).json({ error: error.message });
  }
});

app.listen(3000, () => {
  console.log('Server running on port 3000');
});</code></pre>

          <h3>React Frontend:</h3>
          <pre><code class="language-typescript">import React, { useState, useEffect } from 'react';

function McpToolPanel() {
  const [tools, setTools] = useState([]);
  const [result, setResult] = useState(null);
  
  useEffect(() => {
    // Load available tools
    fetch('/api/mcp/tools')
      .then(res => res.json())
      .then(data => setTools(data.tools));
  }, []);
  
  const callTool = async (toolName: string, args: any) => {
    const response = await fetch(`/api/mcp/tools/${toolName}`, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        'user-id': getCurrentUserId()
      },
      body: JSON.stringify(args)
    });
    
    const result = await response.json();
    setResult(result);
  };
  
  return (
    &lt;div&gt;
      &lt;h2&gt;Available Tools&lt;/h2&gt;
      &lt;ul&gt;
        {tools.map(tool => (
          &lt;li key={tool.name}&gt;
            &lt;button onClick={() => callTool(tool.name, {})}&gt;
              {tool.name}
            &lt;/button&gt;
            &lt;p&gt;{tool.description}&lt;/p&gt;
          &lt;/li&gt;
        ))}
      &lt;/ul&gt;
      
      {result && (
        &lt;div&gt;
          &lt;h3&gt;Result:&lt;/h3&gt;
          &lt;pre&gt;{JSON.stringify(result, null, 2)}&lt;/pre&gt;
        &lt;/div&gt;
      )}
    &lt;/div&gt;
  );
}</code></pre>

          <h2>Docker Deployment</h2>

          <div class="code-tabs">
            <ul class="nav nav-tabs" role="tablist">
              <li class="nav-item" role="presentation">
                <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#docker-single" type="button" role="tab">Dockerfile</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#docker-compose" type="button" role="tab">Docker Compose</button>
              </li>
            </ul>
            <div class="tab-content">
              <div class="tab-pane fade show active" id="docker-single" role="tabpanel">
                <pre><code class="language-dockerfile">FROM node:20-alpine

WORKDIR /app

# Copy package files
COPY package*.json ./

# Install dependencies
RUN npm ci --production

# Copy server code
COPY . .

# Build TypeScript
RUN npm run build

# Expose port (if using HTTP transport)
EXPOSE 3000

# Run server
CMD ["node", "build/index.js"]</code></pre>
              </div>
              <div class="tab-pane fade" id="docker-compose" role="tabpanel">
                <pre><code class="language-yaml">version: '3.8'

services:
  mcp-filesystem:
    build: ./servers/filesystem
    volumes:
      - /data:/data:ro
    environment:
      - ALLOWED_PATHS=/data
    restart: unless-stopped
  
  mcp-database:
    build: ./servers/database
    environment:
      - DATABASE_URL=postgresql://user:pass@postgres:5432/mydb
    depends_on:
      - postgres
    restart: unless-stopped
  
  mcp-github:
    build: ./servers/github
    environment:
      - GITHUB_TOKEN=${GITHUB_TOKEN}
    restart: unless-stopped
  
  postgres:
    image: postgres:15
    environment:
      - POSTGRES_PASSWORD=password
    volumes:
      - pgdata:/var/lib/postgresql/data
  
  mcp-gateway:
    build: ./gateway
    ports:
      - "8080:8080"
    environment:
      - FILESYSTEM_URL=http://mcp-filesystem:3000
      - DATABASE_URL=http://mcp-database:3000
      - GITHUB_URL=http://mcp-github:3000
    depends_on:
      - mcp-filesystem
      - mcp-database
      - mcp-github
    restart: unless-stopped

volumes:
  pgdata:</code></pre>
              </div>
            </div>
          </div>

          <h2>Kubernetes Deployment</h2>

          <h3>Deployment Manifest:</h3>
          <pre><code class="language-yaml">apiVersion: apps/v1
kind: Deployment
metadata:
  name: mcp-server
spec:
  replicas: 3
  selector:
    matchLabels:
      app: mcp-server
  template:
    metadata:
      labels:
        app: mcp-server
    spec:
      containers:
      - name: mcp-server
        image: myregistry/mcp-server:latest
        ports:
        - containerPort: 3000
        env:
        - name: DATABASE_URL
          valueFrom:
            secretKeyRef:
              name: mcp-secrets
              key: database-url
        resources:
          requests:
            memory: "128Mi"
            cpu: "100m"
          limits:
            memory: "512Mi"
            cpu: "500m"
        livenessProbe:
          httpGet:
            path: /health
            port: 3000
          initialDelaySeconds: 10
          periodSeconds: 30
---
apiVersion: v1
kind: Service
metadata:
  name: mcp-server
spec:
  selector:
    app: mcp-server
  ports:
  - port: 80
    targetPort: 3000
  type: LoadBalancer</code></pre>

          <h2>Integration Best Practices</h2>

          <div class="row">
            <div class="col-md-6">
              <div class="callout bg-gradient-green">
                <strong>‚úÖ Do:</strong>
                <ul>
                  <li>Use environment variables for secrets</li>
                  <li>Implement health checks for HTTP servers</li>
                  <li>Add proper error handling and logging</li>
                  <li>Use connection pooling for scalability</li>
                  <li>Implement authentication and authorization</li>
                  <li>Version your server configurations</li>
                  <li>Test integrations thoroughly</li>
                  <li>Monitor server performance</li>
                  <li>Document configuration options</li>
                </ul>
              </div>
            </div>
            <div class="col-md-6">
              <div class="callout bg-gradient-red">
                <strong>‚ùå Don't:</strong>
                <ul>
                  <li>Hardcode credentials in config files</li>
                  <li>Expose servers without authentication</li>
                  <li>Ignore error handling</li>
                  <li>Run servers as root in containers</li>
                  <li>Skip input validation</li>
                  <li>Forget to set resource limits</li>
                  <li>Deploy without logging</li>
                  <li>Ignore security updates</li>
                  <li>Skip testing in production-like environment</li>
                </ul>
              </div>
            </div>
          </div>

        </section>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê RESOURCES ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <section id="resources" role="article">
          <h1>üìö Resources &amp; Further Learning</h1>
          <span class="badge">docs</span> <span class="badge">links</span> <span class="badge">references</span>
          
          <h2>Official Documentation</h2>

          <h3>Core Resources:</h3>
          <ul>
            <li>
              <strong>üåê Official Website:</strong> 
              <a href="https://modelcontextprotocol.io" target="_blank">modelcontextprotocol.io</a>
              <br/><em>Main documentation, guides, and announcements</em>
            </li>
            <li>
              <strong>üìñ Specification:</strong> 
              <a href="https://spec.modelcontextprotocol.io" target="_blank">spec.modelcontextprotocol.io</a>
              <br/><em>Detailed protocol specification and JSON-RPC messages</em>
            </li>
            <li>
              <strong>üì¶ GitHub Repository:</strong> 
              <a href="https://github.com/modelcontextprotocol" target="_blank">github.com/modelcontextprotocol</a>
              <br/><em>Source code, SDKs, example servers, and issue tracker</em>
            </li>
            <li>
              <strong>üí¨ Discord Community:</strong> 
              <a href="https://discord.gg/modelcontextprotocol" target="_blank">discord.gg/modelcontextprotocol</a>
              <br/><em>Community support, discussions, and announcements</em>
            </li>
          </ul>

          <h2>SDKs &amp; Libraries</h2>

          <h3>Official SDKs:</h3>
          <table class="table table-striped">
            <thead>
              <tr>
                <th>Language</th>
                <th>Package</th>
                <th>Status</th>
                <th>Documentation</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>TypeScript</strong></td>
                <td><code>@modelcontextprotocol/sdk</code></td>
                <td><span class="badge bg-success">Stable</span></td>
                <td><a href="https://github.com/modelcontextprotocol/typescript-sdk" target="_blank">TypeScript SDK Docs</a></td>
              </tr>
              <tr>
                <td><strong>Python</strong></td>
                <td><code>mcp</code></td>
                <td><span class="badge bg-success">Stable</span></td>
                <td><a href="https://github.com/modelcontextprotocol/python-sdk" target="_blank">Python SDK Docs</a></td>
              </tr>
              <tr>
                <td><strong>Kotlin</strong></td>
                <td><code>io.modelcontextprotocol:kotlin-sdk</code></td>
                <td><span class="badge bg-warning">Beta</span></td>
                <td><a href="https://github.com/modelcontextprotocol/kotlin-sdk" target="_blank">Kotlin SDK Docs</a></td>
              </tr>
            </tbody>
          </table>

          <h3>Community SDKs:</h3>
          <ul>
            <li><strong>Go:</strong> Community-maintained Go SDK (check GitHub for latest)</li>
            <li><strong>Rust:</strong> Experimental Rust implementation</li>
            <li><strong>.NET:</strong> Community C# SDK in development</li>
            <li><strong>Java:</strong> JVM-compatible wrapper around Kotlin SDK</li>
          </ul>

          <h2>Tools &amp; Utilities</h2>

          <h3>Development Tools:</h3>
          <div class="row">
            <div class="col-md-6">
              <h4>MCP Inspector</h4>
              <pre><code class="language-bash">npm install -g @modelcontextprotocol/inspector</code></pre>
              <p>Interactive testing and debugging tool for MCP servers. Launch with:</p>
              <pre><code class="language-bash">mcp-inspector node server.js</code></pre>
            </div>
            <div class="col-md-6">
              <h4>MCP CLI</h4>
              <pre><code class="language-bash">npm install -g @modelcontextprotocol/cli</code></pre>
              <p>Command-line tool for working with MCP servers:</p>
              <pre><code class="language-bash">mcp list-tools
mcp call-tool search --query "test"
mcp list-resources</code></pre>
            </div>
          </div>

          <h3>Server Templates:</h3>
          <ul>
            <li>
              <strong>create-mcp-server:</strong> Scaffold new MCP server projects
              <pre><code class="language-bash">npx create-mcp-server my-server</code></pre>
            </li>
            <li>
              <strong>Cookiecutter Template (Python):</strong>
              <pre><code class="language-bash">cookiecutter gh:modelcontextprotocol/cookiecutter-mcp-server</code></pre>
            </li>
          </ul>

          <h2>Example Servers</h2>

          <h3>Official Examples:</h3>
          <ul>
            <li><strong>Filesystem Server:</strong> <code>@modelcontextprotocol/server-filesystem</code></li>
            <li><strong>GitHub Server:</strong> <code>@modelcontextprotocol/server-github</code></li>
            <li><strong>PostgreSQL Server:</strong> <code>@modelcontextprotocol/server-postgres</code></li>
            <li><strong>Slack Server:</strong> <code>@modelcontextprotocol/server-slack</code></li>
            <li><strong>Google Drive Server:</strong> <code>@modelcontextprotocol/server-gdrive</code></li>
            <li><strong>Puppeteer Server:</strong> <code>@modelcontextprotocol/server-puppeteer</code></li>
          </ul>

          <h3>Community Servers:</h3>
          <ul>
            <li><strong>AWS S3:</strong> Access S3 buckets and objects</li>
            <li><strong>MySQL:</strong> MySQL database integration</li>
            <li><strong>MongoDB:</strong> NoSQL database access</li>
            <li><strong>Redis:</strong> Cache and pub/sub operations</li>
            <li><strong>Elasticsearch:</strong> Search and analytics</li>
            <li><strong>Jira:</strong> Issue tracking integration</li>
            <li><strong>Notion:</strong> Access Notion workspace</li>
          </ul>

          <p><em>Find more community servers at: <a href="https://github.com/modelcontextprotocol/servers" target="_blank">github.com/modelcontextprotocol/servers</a></em></p>

          <h2>Learning Path</h2>

          <h3>Beginner:</h3>
          <ol>
            <li>
              <strong>Understand the Basics:</strong>
              <ul>
                <li>Read the <a href="#what-is-mcp">What is MCP?</a> section</li>
                <li>Review <a href="#architecture">Architecture</a> overview</li>
                <li>Understand <a href="#server-primitives">Server Primitives</a> (Tools, Resources, Prompts)</li>
              </ul>
            </li>
            <li>
              <strong>Set Up Claude Desktop:</strong>
              <ul>
                <li>Install Claude Desktop</li>
                <li>Configure your first MCP server (filesystem)</li>
                <li>Try using tools in a conversation</li>
              </ul>
            </li>
            <li>
              <strong>Explore Examples:</strong>
              <ul>
                <li>Try official example servers</li>
                <li>Use MCP Inspector to test servers</li>
                <li>Read example server source code</li>
              </ul>
            </li>
          </ol>

          <h3>Intermediate:</h3>
          <ol>
            <li>
              <strong>Build Your First Server:</strong>
              <ul>
                <li>Use a server template to scaffold project</li>
                <li>Implement 1-2 simple tools</li>
                <li>Add resources for data access</li>
                <li>Test with MCP Inspector</li>
              </ul>
            </li>
            <li>
              <strong>Learn Transports:</strong>
              <ul>
                <li>Start with <a href="#stdio-transport">STDIO transport</a></li>
                <li>Deploy server with <a href="#http-transport">HTTP/SSE transport</a></li>
                <li>Understand security implications</li>
              </ul>
            </li>
            <li>
              <strong>Implement Best Practices:</strong>
              <ul>
                <li>Add <a href="#security">authentication and validation</a></li>
                <li>Implement proper <a href="#error-handling">error handling</a></li>
                <li>Optimize for <a href="#performance">performance</a></li>
              </ul>
            </li>
          </ol>

          <h3>Advanced:</h3>
          <ol>
            <li>
              <strong>Production Deployment:</strong>
              <ul>
                <li>Deploy servers with Docker and Kubernetes</li>
                <li>Implement monitoring and logging</li>
                <li>Set up CI/CD pipelines</li>
                <li>Add rate limiting and caching</li>
              </ul>
            </li>
            <li>
              <strong>Integration Patterns:</strong>
              <ul>
                <li>Integrate with LangChain or LlamaIndex</li>
                <li>Build custom client applications</li>
                <li>Create multi-server architectures</li>
                <li>Implement gateway patterns</li>
              </ul>
            </li>
            <li>
              <strong>Contribute to Ecosystem:</strong>
              <ul>
                <li>Publish community servers</li>
                <li>Contribute to SDK development</li>
                <li>Write blog posts and tutorials</li>
                <li>Help others in the community</li>
              </ul>
            </li>
          </ol>

          <h2>Tutorials &amp; Guides</h2>

          <h3>Video Tutorials:</h3>
          <ul>
            <li><strong>Introduction to MCP:</strong> Overview and key concepts (YouTube/Official Channel)</li>
            <li><strong>Building Your First Server:</strong> Step-by-step tutorial</li>
            <li><strong>MCP with Claude Desktop:</strong> Configuration and usage</li>
            <li><strong>Advanced Server Patterns:</strong> Production-ready implementations</li>
          </ul>

          <h3>Written Tutorials:</h3>
          <ul>
            <li>
              <strong>MCP Quickstart Guide:</strong> 
              <a href="https://modelcontextprotocol.io/quickstart" target="_blank">Official Quickstart</a>
            </li>
            <li>
              <strong>Building a Database Server:</strong> Complete walkthrough
            </li>
            <li>
              <strong>Deployment Guide:</strong> Docker, Kubernetes, and cloud platforms
            </li>
            <li>
              <strong>Security Best Practices:</strong> Securing your MCP servers
            </li>
          </ul>

          <h2>Community Resources</h2>

          <h3>Blog Posts &amp; Articles:</h3>
          <ul>
            <li><strong>Anthropic Blog:</strong> Official announcements and deep dives</li>
            <li><strong>Community Blog:</strong> User stories and case studies</li>
            <li><strong>Technical Deep Dives:</strong> Architecture and implementation details</li>
          </ul>

          <h3>Awesome MCP:</h3>
          <p>
            Curated list of MCP resources, servers, tools, and integrations:<br/>
            <a href="https://github.com/modelcontextprotocol/awesome-mcp" target="_blank">github.com/modelcontextprotocol/awesome-mcp</a>
          </p>

          <h2>Support &amp; Community</h2>

          <h3>Getting Help:</h3>
          <ul>
            <li>
              <strong>Discord:</strong> Real-time community support
              <ul>
                <li>#help channel for questions</li>
                <li>#show-and-tell for sharing projects</li>
                <li>#announcements for updates</li>
              </ul>
            </li>
            <li>
              <strong>GitHub Discussions:</strong> Long-form questions and discussions
            </li>
            <li>
              <strong>Stack Overflow:</strong> Tag questions with <code>model-context-protocol</code>
            </li>
            <li>
              <strong>GitHub Issues:</strong> Bug reports and feature requests
            </li>
          </ul>

          <h3>Contributing:</h3>
          <ul>
            <li>
              <strong>Contributing Guide:</strong> 
              <a href="https://github.com/modelcontextprotocol/typescript-sdk/blob/main/CONTRIBUTING.md" target="_blank">How to contribute</a>
            </li>
            <li><strong>Code of Conduct:</strong> Community guidelines</li>
            <li><strong>Governance:</strong> Project governance and decision-making</li>
          </ul>

          <h2>Related Technologies</h2>

          <h3>AI Frameworks:</h3>
          <ul>
            <li><strong>LangChain:</strong> Framework for LLM applications (integrates with MCP)</li>
            <li><strong>LlamaIndex:</strong> Data framework for LLM applications</li>
            <li><strong>AutoGPT:</strong> Autonomous AI agents</li>
            <li><strong>BabyAGI:</strong> AI task management system</li>
          </ul>

          <h3>Protocols &amp; Standards:</h3>
          <ul>
            <li><strong>JSON-RPC 2.0:</strong> Underlying RPC protocol</li>
            <li><strong>OpenAPI/Swagger:</strong> API specification (for HTTP endpoints)</li>
            <li><strong>JSON Schema:</strong> Data validation and documentation</li>
            <li><strong>Server-Sent Events (SSE):</strong> Real-time updates transport</li>
          </ul>

          <h2>Books &amp; Papers</h2>

          <h3>Recommended Reading:</h3>
          <ul>
            <li><strong>AI Engineering:</strong> Building production AI applications</li>
            <li><strong>Designing Data-Intensive Applications:</strong> Foundation for system design</li>
            <li><strong>Building Microservices:</strong> Distributed system patterns</li>
            <li><strong>Site Reliability Engineering:</strong> Production operations</li>
          </ul>

          <h3>Research Papers:</h3>
          <ul>
            <li><strong>Retrieval-Augmented Generation:</strong> RAG patterns and implementations</li>
            <li><strong>Tool Use in LLMs:</strong> Function calling and tool integration</li>
            <li><strong>Agent-based AI Systems:</strong> Multi-agent architectures</li>
          </ul>

          <h2>Staying Updated</h2>

          <h3>Follow Development:</h3>
          <ul>
            <li><strong>GitHub Releases:</strong> Watch for new SDK and server releases</li>
            <li><strong>Twitter/X:</strong> Follow @AnthropicAI for announcements</li>
            <li><strong>Newsletter:</strong> Subscribe to MCP newsletter (if available)</li>
            <li><strong>Changelog:</strong> Review version history and breaking changes</li>
          </ul>

          <h3>Upcoming Features:</h3>
          <ul>
            <li>Enhanced security features</li>
            <li>Additional transport protocols</li>
            <li>Improved developer tools</li>
            <li>More official example servers</li>
            <li>Extended SDK capabilities</li>
          </ul>

          <div class="callout bg-gradient-blue-light mt-4">
            <strong>üéØ Next Steps:</strong>
            <ol>
              <li>Try Claude Desktop with an MCP server</li>
              <li>Build a simple server for your use case</li>
              <li>Join the Discord community</li>
              <li>Share your project and get feedback</li>
              <li>Contribute to the ecosystem</li>
            </ol>
          </div>

          <hr />
          <div class="document-footer">
            <p>
              <strong>Last Updated:</strong> February 2026 |
              <strong>Curated by:</strong> Murthy Vepa with ‚ù§Ô∏è | 
              <strong>Powered by:</strong> GitHub Copilot
            </p>
          </div>
        </section>

        </div>
      </main>
    </div>
    
    <nav class="controls" role="navigation" aria-label="Pagination">
      <div class="btn-group" role="group">
        <button class="btn btn-outline-info btn-sm" id="prevBtn" title="Previous" aria-label="Previous concept">&nbsp;&lt;&nbsp;</button>
        <button class="btn btn-outline-info btn-sm" id="nextBtn" title="Next" aria-label="Next concept">&nbsp;&gt;&nbsp;</button>
      </div>
    </nav>
  </div>  <div class="offcanvas offcanvas-start" tabindex="-1" id="sidebarOffcanvas" aria-labelledby="sidebarLabel">
    <div class="offcanvas-header">
      <h5 class="offcanvas-title" id="sidebarLabel">Contents</h5>
      <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <div class="offcanvas-body p-0">
      <ul class="list-group list-group-flush w-100" id="tocMobile"></ul>
    </div>
  </div>

  <script>
    // ---- Mermaid Initialization ----
    document.addEventListener('DOMContentLoaded', () => {
      if (window.mermaid) {
        window.mermaid.contentLoaded();
      }
    });

    // ---- Configuration ----
    const sectionConfig = [
      // Overview
      { id: "overview",                  title: "üìñ What is MCP?",                          tags: ["intro", "overview", "MCP"] },
      { id: "why-mcp",                   title: "üéØ Why MCP Matters",                       tags: ["benefits", "value", "purpose"] },

      // Architecture
      { id: "architecture",              title: "üèóÔ∏è Architecture",                         tags: ["architecture", "design", "structure"] },
      { id: "participants",              title: "üë• Participants",                          parent: "architecture", tags: ["hosts", "clients", "servers"] },
      { id: "layers",                    title: "üìö Protocol Layers",                       parent: "architecture", tags: ["data", "transport", "layers"] },
      { id: "lifecycle",                 title: "üîÑ Lifecycle Management",                  parent: "architecture", tags: ["initialization", "lifecycle"] },
      
      // Core Primitives - Server Features
      { id: "server-primitives",         title: "üîß Server Primitives",                     tags: ["primitives", "features", "capabilities"] },
      { id: "tools",                     title: "üõ†Ô∏è Tools",                                 parent: "server-primitives", tags: ["tools", "functions", "actions"] },
      { id: "mcp-resources",             title: "üìÑ Resources",                             parent: "server-primitives", tags: ["resources", "data", "context"] },
      { id: "prompts",                   title: "üí¨ Prompts",                               parent: "server-primitives", tags: ["prompts", "templates", "instructions"] },
      
      // Client Features
      { id: "client-features",           title: "üíª Client Features",                       tags: ["client", "features", "capabilities"] },
      { id: "sampling",                  title: "üé≤ Sampling",                              parent: "client-features", tags: ["sampling", "LLM", "AI"] },
      { id: "elicitation",               title: "‚ùì Elicitation",                           parent: "client-features", tags: ["elicitation", "input", "interaction"] },
      { id: "roots",                     title: "üìÅ Roots",                                 parent: "client-features", tags: ["roots", "filesystem", "boundaries"] },
      
      // Transports
      { id: "transports",                title: "üöÄ Transports",                            tags: ["transport", "communication", "protocols"] },
      { id: "stdio-transport",           title: "üì° STDIO Transport",                       parent: "transports", tags: ["stdio", "local", "process"] },
      { id: "http-transport",            title: "üåê HTTP Transport",                        parent: "transports", tags: ["http", "remote", "REST"] },
      
      // Building with MCP
      { id: "building",                  title: "üë®‚Äçüíª Building with MCP",                    tags: ["development", "building", "implementation"] },
      { id: "building-servers",          title: "üñ•Ô∏è Building Servers",                      parent: "building", tags: ["server", "development", "SDK"] },
      { id: "building-clients",          title: "üíª Building Clients",                      parent: "building", tags: ["client", "development", "integration"] },
      { id: "sdks",                      title: "üì¶ SDKs & Tools",                          parent: "building", tags: ["SDK", "libraries", "tools"] },
      
      // Best Practices
      { id: "best-practices",            title: "‚úÖ Best Practices",                        tags: ["best practices", "guidelines", "recommendations"] },
      { id: "security",                  title: "üîí Security",                              parent: "best-practices", tags: ["security", "safety", "trust"] },
      { id: "error-handling",            title: "‚ö†Ô∏è Error Handling",                        parent: "best-practices", tags: ["errors", "exceptions", "handling"] },
      { id: "performance",               title: "‚ö° Performance",                            parent: "best-practices", tags: ["performance", "optimization", "efficiency"] },
      
      // Use Cases & Examples
      { id: "use-cases",                 title: "üéØ Use Cases & Examples",                  tags: ["examples", "use cases", "scenarios"] },
      { id: "example-servers",           title: "üì¶ Example Servers",                       parent: "use-cases", tags: ["examples", "servers", "implementations"] },
      { id: "integration-examples",      title: "üîå Integration Examples",                  parent: "use-cases", tags: ["integration", "examples", "patterns"] },
      
      // Resources
      { id: "resources",                 title: "üìö Resources & Learning",                  tags: ["docs", "links", "references"] }
    ];

    // ---- State & rendering ----
    const state = {
      index: 0,
      filtered: sectionConfig.map((_, i) => i), // indices
    };

    const els = {
      toc: document.getElementById('toc'),
      tocMobile: document.getElementById('tocMobile'),
      prev: document.getElementById('prevBtn'),
      next: document.getElementById('nextBtn'),
      toggleSidebar: document.getElementById('toggleSidebar'),
      themeToggle: document.getElementById('themeToggle'),
      main: document.getElementById('main'),
      sidebar: document.querySelector('nav.sidebar'),
      sidebarOffcanvas: document.getElementById('sidebarOffcanvas')
    };

    // Track collapsed state for each parent
    const collapsedState = {};
    
    function buildTOC(){
      // Clear both TOC lists
      els.toc.innerHTML = '';
      els.tocMobile.innerHTML = '';
      
      // First pass: identify parents and their children
      const parentMap = new Map();
      state.filtered.forEach((idx) => {
        const s = sectionConfig[idx];
        if (s.parent) {
          if (!parentMap.has(s.parent)) {
            parentMap.set(s.parent, []);
          }
          parentMap.get(s.parent).push(s.id);
        }
      });
      
      // Initialize collapsed state for parents (default: collapsed)
      state.filtered.forEach((idx) => {
        const s = sectionConfig[idx];
        if (!s.parent && parentMap.has(s.id)) {
          if (collapsedState[s.id] === undefined) {
            collapsedState[s.id] = true; // collapsed by default
          }
        }
      });
      
      state.filtered.forEach((idx) => {
        const s = sectionConfig[idx];
        
        // Check if this is a sub-item (has a parent section)
        const isSubItem = !!s.parent;
        const hasChildren = parentMap.has(s.id);
        
        // Desktop sidebar
        const liDesktop = document.createElement('li');
        liDesktop.className = isSubItem ? 'list-group-sub-item' : 'list-group-item';
        if (hasChildren) {
          liDesktop.classList.add('has-children');
          if (collapsedState[s.id]) {
            liDesktop.classList.add('collapsed');
          }
        }
        if (isSubItem && collapsedState[s.parent]) {
          liDesktop.classList.add('collapsed');
        }
        liDesktop.dataset.sectionId = s.id;
        
        const aDesktop = document.createElement('a');
        aDesktop.href = `#${s.id}`;
        aDesktop.textContent = s.title;
        aDesktop.addEventListener('click', (e) => {
          e.preventDefault();
          if (hasChildren) {
            // Toggle collapse/expand
            toggleCollapse(s.id, 'desktop');
          } else {
            navigateToId(s.id);
            closeSidebar();
          }
        });
        liDesktop.appendChild(aDesktop);
        els.toc.appendChild(liDesktop);
        
        // Mobile offcanvas
        const liMobile = document.createElement('li');
        liMobile.className = isSubItem ? 'list-group-sub-item' : 'list-group-item';
        if (hasChildren) {
          liMobile.classList.add('has-children');
          if (collapsedState[s.id]) {
            liMobile.classList.add('collapsed');
          }
        }
        if (isSubItem && collapsedState[s.parent]) {
          liMobile.classList.add('collapsed');
        }
        liMobile.dataset.sectionId = s.id;
        
        const aMobile = document.createElement('a');
        aMobile.href = `#${s.id}`;
        aMobile.textContent = s.title;
        aMobile.addEventListener('click', (e) => {
          e.preventDefault();
          if (hasChildren) {
            // Toggle collapse/expand
            toggleCollapse(s.id, 'mobile');
          } else {
            navigateToId(s.id);
            closeSidebar();
          }
        });
        liMobile.appendChild(aMobile);
        els.tocMobile.appendChild(liMobile);
      });
      highlightActiveTOC();
    }
    
    function toggleCollapse(parentId, context) {
      // Toggle the collapsed state
      collapsedState[parentId] = !collapsedState[parentId];
      const isCollapsed = collapsedState[parentId];
      
      // Update both desktop and mobile TOCs
      const containers = context === 'desktop' ? [els.toc] : context === 'mobile' ? [els.tocMobile] : [els.toc, els.tocMobile];
      
      containers.forEach(container => {
        // Update parent item
        const parentItem = container.querySelector(`li[data-section-id="${parentId}"]`);
        if (parentItem) {
          if (isCollapsed) {
            parentItem.classList.add('collapsed');
          } else {
            parentItem.classList.remove('collapsed');
          }
        }
        
        // Update child items
        const childItems = Array.from(container.querySelectorAll('li.list-group-sub-item'));
        childItems.forEach(child => {
          const childId = child.dataset.sectionId;
          const childSection = sectionConfig.find(s => s.id === childId);
          if (childSection && childSection.parent === parentId) {
            if (isCollapsed) {
              child.classList.add('collapsed');
            } else {
              child.classList.remove('collapsed');
            }
          }
        });
      });
    }

    function setActiveByIndex(i){
      const ids = state.filtered.map(idx => sectionConfig[idx].id);
      document.querySelectorAll('section').forEach(s => s.classList.remove('active'));
      const id = ids[i];
      const active = document.getElementById(id);
      if (active){
        active.classList.add('active');
        active.setAttribute('tabindex', '-1');
        active.focus({preventScroll:true});
      }
      updateControls();
      highlightActiveTOC();
      updateURLHash(id);
    }

    function updateControls(){
      const count = state.filtered.length;
      els.prev.disabled = state.index <= 0;
      els.next.disabled = state.index >= count - 1;
    }

    function filterTOC(query){
      const q = query.trim().toLowerCase();
      state.filtered = sectionConfig
        .map((s, i) => ({s, i}))
        .filter(({s}) => s.title.toLowerCase().includes(q) || s.tags.some(t => t.toLowerCase().includes(q)))
        .map(({i}) => i);

      state.index = Math.min(state.index, Math.max(0, state.filtered.length - 1));
      buildTOC();
      setActiveByIndex(state.index);
    }

    function navigate(delta){
      const count = state.filtered.length;
      const nextIndex = Math.min(Math.max(state.index + delta, 0), count - 1);
      if (nextIndex !== state.index){
        state.index = nextIndex;
        setActiveByIndex(state.index);
        // Scroll content to top
        const contentEl = document.querySelector('.content');
        if (contentEl) contentEl.scrollTop = 0;
      }
    }

    function navigateToId(id){
      const idxInFiltered = state.filtered.findIndex(fi => sectionConfig[fi].id === id);
      if (idxInFiltered !== -1){
        state.index = idxInFiltered;
        setActiveByIndex(state.index);
        // Scroll content to top
        const contentEl = document.querySelector('.content');
        if (contentEl) contentEl.scrollTop = 0;
      } else {
        state.filtered = sectionConfig.map((_, i) => i);
        buildTOC();
        navigateToId(id);
      }
    }

    function updateURLHash(id){
      const url = new URL(window.location);
      url.hash = id;
      history.replaceState(null, '', url);
    }

    function highlightActiveTOC(){
      const ids = state.filtered.map(idx => sectionConfig[idx].id);
      const activeId = ids[state.index];
      
      // Find the active section config
      const activeSection = sectionConfig.find(s => s.id === activeId);
      
      // If active section has a parent, expand the parent
      if (activeSection && activeSection.parent) {
        if (collapsedState[activeSection.parent]) {
          collapsedState[activeSection.parent] = false;
          // Update both desktop and mobile
          [els.toc, els.tocMobile].forEach(container => {
            const parentItem = container.querySelector(`li[data-section-id="${activeSection.parent}"]`);
            if (parentItem) {
              parentItem.classList.remove('collapsed');
            }
            // Show all children of this parent
            const childItems = Array.from(container.querySelectorAll('li.list-group-sub-item'));
            childItems.forEach(child => {
              const childId = child.dataset.sectionId;
              const childSection = sectionConfig.find(s => s.id === childId);
              if (childSection && childSection.parent === activeSection.parent) {
                child.classList.remove('collapsed');
              }
            });
          });
        }
      }
      
      // Highlight desktop sidebar
      let activeDesktopElement = null;
      els.toc.querySelectorAll('a').forEach(a => {
        const isActive = a.getAttribute('href') === `#${activeId}`;
        a.classList.toggle('active', isActive);
        // Also toggle active on parent li for sub-items
        if (a.parentElement.classList.contains('list-group-sub-item')) {
          a.parentElement.classList.toggle('active', isActive);
        }
        // Store reference to active element
        if (isActive) {
          activeDesktopElement = a.parentElement;
        }
      });
      
      // Highlight mobile offcanvas
      let activeMobileElement = null;
      els.tocMobile.querySelectorAll('a').forEach(a => {
        const isActive = a.getAttribute('href') === `#${activeId}`;
        a.classList.toggle('active', isActive);
        // Also toggle active on parent li for sub-items
        if (a.parentElement.classList.contains('list-group-sub-item')) {
          a.parentElement.classList.toggle('active', isActive);
        }
        // Store reference to active element
        if (isActive) {
          activeMobileElement = a.parentElement;
        }
      });
      
      // Scroll active item into view in desktop sidebar
      if (activeDesktopElement && els.sidebar) {
        // Use smooth scrolling with a small delay to ensure rendering is complete
        setTimeout(() => {
          // Check if element is visible (not collapsed)
          const isVisible = activeDesktopElement.offsetParent !== null && 
                           !activeDesktopElement.classList.contains('collapsed');
          if (isVisible) {
            activeDesktopElement.scrollIntoView({
              behavior: 'smooth',
              block: 'nearest',
              inline: 'nearest'
            });
          }
        }, 150);
      }
      
      // Scroll active item into view in mobile offcanvas
      if (activeMobileElement) {
        setTimeout(() => {
          // Check if element is visible (not collapsed)
          const isVisible = activeMobileElement.offsetParent !== null && 
                           !activeMobileElement.classList.contains('collapsed');
          if (isVisible) {
            activeMobileElement.scrollIntoView({
              behavior: 'smooth',
              block: 'nearest',
              inline: 'nearest'
            });
          }
        }, 150);
      }
    }

    function openSidebar(){
      const offcanvas = new bootstrap.Offcanvas(document.getElementById('sidebarOffcanvas'));
      offcanvas.show();
    }
    function closeSidebar(){
      const offcanvasElement = document.getElementById('sidebarOffcanvas');
      const offcanvas = bootstrap.Offcanvas.getInstance(offcanvasElement);
      if(offcanvas) offcanvas.hide();
    }

    // ---- Events ----
    els.prev.addEventListener('click', () => navigate(-1));
    els.next.addEventListener('click', () => navigate(1));

    // Keyboard navigation
    window.addEventListener('keydown', (e) => {
      if (e.key === 'ArrowLeft') navigate(-1);
      else if (e.key === 'ArrowRight') navigate(1);
      else if (e.key === 'Escape') closeSidebar();
    });

    // Deep linking on load/hash change
    window.addEventListener('hashchange', () => {
      const id = location.hash.replace('#','');
      if (id) navigateToId(id);
    });

    // Sidebar toggle (mobile)
    els.toggleSidebar.addEventListener('click', () => {
      openSidebar();
    });

    // Restore theme
    (function(){
      try {
        const saved = localStorage.getItem('concepts-theme');
        if (saved) { 
          document.documentElement.setAttribute('data-theme', saved);
          els.themeToggle.textContent = saved === 'light' ? 'üåó' : 'üåô';
        }
      } catch {}
    })();

    // Initial render
    buildTOC();
    
    // Navigate to hash if present, otherwise show first section
    const initialId = location.hash.replace('#','');
    if (initialId){ 
    navigateToId(initialId); 
    } else {
    setActiveByIndex(0);
    // Scroll content to top on initial load
    const contentEl = document.querySelector('.content');
    if (contentEl) contentEl.scrollTop = 0;
    }

  </script>
  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>